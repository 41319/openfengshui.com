{"version":3,"sources":["webpack:///./node_modules/grommet/themes/dark.js","webpack:///./node_modules/grommet/themes/index.js","webpack:///./node_modules/grommet/utils/mixins.js","webpack:///./node_modules/grommet/es6/components/DropButton/DropButton.js","webpack:///./node_modules/grommet/es6/components/Button/StyledButton.js","webpack:///./node_modules/grommet/es6/components/Button/StyledButtonKind.js","webpack:///./node_modules/grommet/es6/components/Button/Button.js","webpack:///./node_modules/grommet/es6/contexts/ContainerTargetContext/ContainerTargetContext.js","webpack:///./node_modules/grommet/es6/contexts/ThemeContext/ThemeContext.js","webpack:///./node_modules/grommet/es6/utils/responsive.js","webpack:///./node_modules/grommet/es6/components/Grommet/StyledGrommet.js","webpack:///./node_modules/grommet/es6/components/Grommet/Grommet.js","webpack:///./node_modules/grommet/es6/components/Menu/Menu.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/i18next/dist/esm/i18next.js","webpack:///./src/containers/i18n.js","webpack:///./src/containers/layout.js","webpack:///./node_modules/grommet/es6/utils/refs.js","webpack:///./node_modules/grommet/es6/utils/DOM.js","webpack:///./node_modules/grommet/themes/base.js","webpack:///./node_modules/grommet/es6/components/FocusedContainer.js","webpack:///./node_modules/grommet/utils/object.js","webpack:///./node_modules/react-desc/lib/PropTypes.js","webpack:///./node_modules/grommet/es6/components/Drop/PortalContext.js","webpack:///./node_modules/grommet/es6/components/Drop/StyledDrop.js","webpack:///./node_modules/grommet/es6/components/Drop/DropContainer.js","webpack:///./node_modules/grommet/es6/components/Drop/Drop.js","webpack:///./node_modules/grommet/utils/colors.js","webpack:///./node_modules/grommet/themes/grommet.js"],"names":["exports","__esModule","dark","_polished","_styledComponents","_object","_colors","statusColors","critical","error","warning","ok","unknown","disabled","colors","active","rgba","background","black","brand","control","light","focus","icon","placeholder","text","white","colorArray","array","prefix","forEach","color","index","Object","keys","deepFreeze","global","drop","border","css","props","normalizeColor","theme","width","font","family","input","weight","anchor","layer","overlay","grommet","generate","base","_base","_grommet","_dark","getAvailableAtBadge","findAllByType","breakpointStyle","fontSize","parseMetricToNum","metric","match","parseFloat","size","lineHeight","Math","ceil","breakpoint","content","value","component","type","matches","push","children","child","concat","availableAt","url","badge","label","toLowerCase","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","defaultDropAlign","top","left","DropButton","_ref","ref","_ref$a11yTitle","a11yTitle","_ref$dropAlign","dropAlign","dropProps","dropContent","dropTarget","id","open","onClick","onClose","onOpen","rest","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","buttonRef","_useState","show","setShow","undefined","onDropClose","event","node","document","current","parentNode","onClickInternal","createElement","Fragment","restrictFocus","align","onClickOutside","onEsc","displayName","DropButtonWrapper","isIconOnly","hasIcon","hasLabel","sizeProp","button","radius","colorValue","pad","vertical","horizontal","padding","data","height","hoverStyle","hoverIndicator","plain","primary","getHoverColor","StyledButton","withConfig","componentId","extend","opacity","focusIndicator","transition","properties","join","duration","timing","fillContainer","edgeSize","small","defaultProps","setPrototypeOf","obj","styles","medium","StyledButtonKind","_ref2","themePaths","themePath","parts","split","shift","hover","partStyles","_ref3","themishObj","paths","colorProp","result","objColor","Button","_ref$align","_ref$focusIndicator","_ref$gap","gap","fill","href","kindArg","kind","_onBlur","onBlur","_onFocus","onFocus","onMouseOut","onMouseOver","reverse","secondary","selected","_ref$type","as","setFocus","_useState2","setHover","console","warn","backgroundColor","onMouseOverButton","onMouseOutButton","buttonIcon","iconColor","contents","domTag","first","second","Box","direction","justify","count","ButtonWrapper","ContainerTargetContext","createContext","body","Extend","Consumer","Provider","propTypes","isRequired","shape","getBreakpoint","windowWidth","sortedBreakpoints","breakpoints","sort","a","b","lastBreakpoint","some","name","getDeviceBreakpoint","deviceBreakpoints","fullStyle","StyledGrommet","div","full","face","cssVars","filter","k","map","_assertThisInitialized","self","ReferenceError","_defineProperty","defineProperty","enumerable","configurable","writable","_templateObject","strings","raw","slice","_taggedTemplateLiteralLoose","FullGlobalStyle","_Component","subClass","superClass","Grommet","_this","_len","args","Array","_key","_this$state","state","responsive","deviceResponsive","window","innerWidth","setState","create","constructor","__proto__","getDerivedStateFromProps","nextProps","prevState","backgroundProp","dir","_nextProps$theme","themeMode","stateTheme","themeProp","themeModeProp","nextTheme","themeBackground","defaultMode","baseBackground","_proto","componentDidMount","addEventListener","onResize","componentWillUnmount","removeEventListener","userAgent","test","render","_this$props","_this$props$container","containerTarget","_this$state2","tablet","ResponsiveContext","GrommetWrapper","ContainerBox","menu","Menu","dropBackground","justifyContent","items","messages","onKeyDown","icons","controlButtonIndex","bottom","buttonRefs","constants","none","tab","controlTop","controlBottom","activeItemIndex","setActiveItemIndex","isOpen","setOpen","MenuIcon","up","down","onDropOpen","onSelectMenuItem","preventDefault","stopPropagation","click","isTab","keyCode","which","onNextMenuItem","onPreviousMenuItem","Text","controlMirror","flex","r","closeMenu","tabIndex","Keyboard","onDown","onUp","onEnter","onSpace","onTab","openMenu","shiftKey","overflow","item","option","close","MenuWrapper","_typeof","Symbol","iterator","_objectSpread","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","assertThisInitialized","_inherits","consoleLogger","log","output","baseLogger","Logger","concreteLogger","options","init","logger","debug","bool","forward","_len2","_key2","_len3","_key3","_len4","_key4","lvl","debugOnly","moduleName","EventEmitter","observers","events","listener","l","cloned","observer","_cloned","defer","res","rej","promise","Promise","resolve","reject","makeString","object","copy","s","t","m","getLastOfPath","path","Empty","cleanKey","replace","canNotTraverseDeeper","stack","setPath","newValue","_getLastOfPath","getPath","_getLastOfPath3","getPathWithDefaults","defaultData","deepExtend","overwrite","prop","String","regexEscape","str","_entityMap","isIE10","navigator","_EventEmitter","ResourceStore","ns","defaultNS","keySeparator","splice","lng","silent","addNamespaces","emit","resources","toString","addResource","deep","pack","hasResourceBundle","removeNamespaces","getResource","compatibilityAPI","postProcessor","processors","addPostProcessor","module","handle","translator","processor","process","checkedLoadedFor","Translator","services","language","interpolation","resolved","nsSeparator","namespaces","interpolator","nestingRegexp","lastKey","_this2","overloadTranslationOptionHandler","isArray","_this$extractFromKey","extractFromKey","namespace","appendNamespaceToCIMode","resUsedKey","usedKey","resExactUsedKey","exactUsedKey","resType","noObject","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","copy$$1","newKeyToUse","deepKey","translate","extendTranslation","usedDefault","isValidLookup","defaultValue","suffix","pluralResolver","getSuffix","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","missingKeyHandler","backendConnector","saveMissing","needsPluralHandling","saveMissingPlurals","getPluralFormsOfKey","p","appendNamespaceToMissingKey","parseMissingKeyHandler","_this3","parse","usedLng","usedNS","skipInterpolation","nestBef","skipOnVariables","nb","defaultVariables","interpolate","na","nest","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","_this4","extracted","fallbackNS","needsContextHandling","context","codes","utils","hasLoadedNamespace","code","pluralSuffix","possibleKey","finalKey","finalKeys","addLookupKeys","contextSeparator","pop","returnNull","returnEmptyString","resourceStore","capitalize","string","charAt","toUpperCase","LanguageUtil","whitelist","supportedLngs","formatLanguageCode","specialCases","lowerCaseLng","part","cleanCode","deprecate","isSupportedCode","load","nonExplicitSupportedLngs","getLanguagePartFromCode","cleanedLng","lngOnly","find","supportedLng","fallbacks","getScriptPartFromCode","fallbackCode","fallbackCodes","addCode","c","fc","sets","nr","_rulesPluralsTypes","1","n","Number","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","createRules","rules","set","numbers","plurals","PluralResolver","rule","getRule","ret","idx","noAbs","abs","simplifyPluralSuffix","returnSuffix","prepend","compatibilityJSON","Interpolator","format","escapeValue","iOpts","escape","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","regexpStr","regexp","RegExp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","replaces","regexSafe","val","handleFormat","trim","f","missingInterpolationHandler","regex","safeValue","todo","exec","temp","lastIndex","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","JSON","e","formatters","doReduce","includes","elem","reduce","v","Connector","backend","store","queue","languages","callback","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","loaded","errors","err","addResourceBundle","q","_getLastOfPath2","pushPath","arr","what","remove","done","fcName","tried","wait","setTimeout","read","queueLoad","loadOne","prepareLoading","_this5","fallbackValue","isUpdate","get","initImmediate","nonExplicitWhitelist","preload","pluralSeparator","partialBundledLanguages","tDescription","_format","transformOptions","noop","I18n","modules","external","isInitialized","isClone","createClassOnDemand","ClassOrObject","lu","bind","on","languageDetector","detection","storeApi","_this2$store","storeApiChained","_this2$store2","deferred","changeLanguage","usedCallback","append","Error","isLanguageChangingTo","setLng","getBestMatchFromCodes","cacheUserLanguage","loadResources","async","detect","fixedT","opts","_this$translator","_this$translator2","exists","_this6","lastLng","loadNotPending","loadState","precheck","preResult","_this7","preloaded","newLngs","_this8","mergedOptions","clone","membersToCopy","i18n","use","initReactI18next","en","translation","Home","location","max","gridArea","margin","right","navigateTo","min","client","slot","useForwardedRef","innerRef","findScrollParent","element","parent","getBoundingClientRect","rect","scrollWidth","scrollHeight","tagName","findScrollParents","getBodyChildElements","excludeMatch","getNewContainer","targetChildPosition","container","appendChild","setFocusWithoutScroll","x","scrollX","y","scrollY","scrollTo","makeNodeFocusable","hasAttribute","setAttribute","elements","getElementsByTagName","prior","getAttribute","removeAttribute","autoFocusingTags","makeNodeUnfocusable","findVisibleParent","offsetParent","parentElement","isNodeAfterScroll","isNodeBeforeScroll","_Actions","_ClosedCaption","_Expand","_FormDown","_FormNext","_FormPrevious","_FormUp","_Next","_Pause","_Play","_Previous","_Subtract","_Volume","_VolumeLow","_mixins","accentColors","focusColor","baseSpacing","scale","baseFontSize","fontScale","fontSizing","factor","maxWidth","deepMerge","animation","jiggle","borderSize","xsmall","large","xlarge","hair","xxsmall","phone","computer","controlBorderWidth","debounceDelay","shadowSize","zIndex","responsiveBreakpoint","elevation","shadow","strong","weak","spacing","xxlarge","accordion","panel","side","heading","level","collapse","FormUp","expand","FormDown","textDecoration","fontWeight","avatar","box","borderWidth","calendar","daySize","slideDuration","previous","Previous","next","Next","FormPrevious","FormNext","card","round","header","footer","carousel","Subtract","chart","checkBox","check","thickness","toggle","knob","clock","analog","hour","minute","huge","digital","collapsible","minSpeed","baseline","dateInput","dataTable","groupHeader","groupEnd","ascending","contract","descending","resize","diagram","line","formField","position","help","start","info","list","maskedInput","meter","paragraph","radioButton","radioButtonGroup","rangeInput","track","thumb","rangeSelector","invert","select","step","skipLinks","tabs","table","textArea","textInput","video","captions","closedCaption","ClosedCaption","configure","Actions","fullScreen","Expand","pause","Pause","play","Play","reduceVolume","VolumeLow","volume","Volume","scrubber","worldMap","continent","place","isNotAncestorOf","contains","FocusedContainer","_ref$hidden","hidden","_ref$restrictScroll","restrictScroll","trapFocus","bodyOverflowStyle","setBodyOverflowStyle","timer","style","clearTimeout","removeUndefined","isObject","freeze","sources","addPropTypeDocumentationField","fieldName","reactDesc","documentedPropType","description","deprecated","PropTypes","custom","definePropType","propTypeObj","required","createPropType","definePropTypeWithArgs","createPropTypeWithArgs","default","PortalContext","dropKeyFrames","StyledDrop","getTransformOriginStyle","alignProp","preventLayerClose","defaultAlign","defaultPortalContext","DropContainer","_ref$overflow","_ref$stretch","stretch","portalContext","portalId","nextPortalContext","dropRef","scrollParents","preserveHeight","windowHeight","innerHeight","maxHeight","targetRect","containerRect","percentVisibleAreaBelow","addScrollListeners","scrollParent","removeScrollListeners","onClickDocument","clickedPortalId","attr","parseInt","Drop","_ref$trapFocus","originalFocusedElement","setOriginalFocusedElement","activeElement","dropContainer","setDropContainer","removeChild","DropWrapper","getRGBA","colorIsDark","colorSpec","hexExp","rgbExp","rgbaExp","hslExp","canExtractRGBArray","getRGBArray","_parseHexToRGB","parseHexToRGB","red","green","blue","alpha","_match$splice$map","h","g","hue2rgb","inT","hslToRGB","_getRGBArray","_getRGBArray2"],"mappings":"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","file":"8e5bb6d945f0b15d2024e39288c56873ce11b8dd-cc72e41cc21ccbb2c2ec.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.dark = void 0;\n\nvar _polished = require(\"polished\");\n\nvar _styledComponents = require(\"styled-components\");\n\nvar _object = require(\"../utils/object\");\n\nvar _colors = require(\"../utils/colors\");\n\nvar accentColors = ['#FD6FFF', '#60EB9F', '#60EBE1', '#FFCA58'];\nvar neutralColors = ['#EB6060', '#01C781', '#6095EB', '#FFB200'];\nvar statusColors = {\n  critical: '#FF3333',\n  error: '#FF3333',\n  warning: '#F7E464',\n  ok: '#7DD892',\n  unknown: '#a8a8a8',\n  disabled: '#a8a8a8'\n};\nvar backgroundColor = '#111111';\nvar colors = {\n  active: (0, _polished.rgba)(102, 102, 102, 0.5),\n  background: backgroundColor,\n  black: '#000000',\n  brand: '#FD6FFF',\n  control: {\n    dark: '#FFCA58',\n    light: '#403216'\n  },\n  focus: '#FFCA58',\n  icon: {\n    dark: '#f8f8f8',\n    light: '#666666'\n  },\n  placeholder: '#AAAAAA',\n  text: {\n    dark: '#eeeeee',\n    light: '#444444'\n  },\n  white: '#FFFFFF'\n};\n\nvar colorArray = function colorArray(array, prefix) {\n  return array.forEach(function (color, index) {\n    colors[prefix + \"-\" + (index + 1)] = color;\n  });\n};\n\ncolorArray(accentColors, 'accent');\ncolorArray(neutralColors, 'neutral');\nObject.keys(statusColors).forEach(function (color) {\n  colors[\"status-\" + color] = statusColors[color];\n});\nvar dark = (0, _object.deepFreeze)({\n  global: {\n    colors: colors,\n    drop: {\n      background: '#333333'\n    },\n    focus: {\n      border: {\n        color: (0, _styledComponents.css)([\"\", \";\"], function (props) {\n          return (0, _colors.normalizeColor)('focus', props.theme);\n        }),\n        width: '2px'\n      }\n    },\n    font: {\n      family: 'Arial'\n    },\n    input: {\n      weight: 700\n    }\n  },\n  anchor: {\n    color: 'control'\n  },\n  layer: {\n    background: backgroundColor,\n    overlay: {\n      background: (0, _polished.rgba)(48, 48, 48, 0.5)\n    }\n  }\n});\nexports.dark = dark;","\"use strict\";\n\nexports.__esModule = true;\nexports.dark = exports.grommet = exports.generate = exports.base = void 0;\n\nvar _base = require(\"./base\");\n\nexports.base = _base.base;\nexports.generate = _base.generate;\n\nvar _grommet = require(\"./grommet\");\n\nexports.grommet = _grommet.grommet;\n\nvar _dark = require(\"./dark\");\n\nexports.dark = _dark.dark;","\"use strict\";\n\nexports.__esModule = true;\nexports.getAvailableAtBadge = exports.findAllByType = exports.breakpointStyle = exports.fontSize = exports.parseMetricToNum = void 0;\n\nvar _styledComponents = require(\"styled-components\");\n\nvar parseMetricToNum = function parseMetricToNum(metric) {\n  if (typeof metric === 'number') return metric;\n\n  if (metric.match(/\\s/) && process.env.NODE_ENV !== 'production') {\n    console.warn(\"Invalid single measurement value: \\\"\" + metric + \"\\\"\");\n  }\n\n  return parseFloat(metric.match(/\\d+(\\.\\d+)?/), 10);\n};\n\nexports.parseMetricToNum = parseMetricToNum;\n\nvar fontSize = function fontSize(size, lineHeight) {\n  return (0, _styledComponents.css)([\"font-size:\", \";line-height:\", \";\"], function (props) {\n    return parseMetricToNum(size) / parseMetricToNum(props.theme.global.font.size) * 1 + \"rem\";\n  }, function (props) {\n    return lineHeight || Math.ceil(parseMetricToNum(size) / parseMetricToNum(props.theme.global.lineHeight)) * (parseMetricToNum(props.theme.global.lineHeight) / parseMetricToNum(size)) + \"px\";\n  });\n};\n\nexports.fontSize = fontSize;\n\nvar breakpointStyle = function breakpointStyle(breakpoint, content) {\n  return (0, _styledComponents.css)([\"@media only screen \", \"{\", \";}\"], breakpoint.value && \"and (max-width: \" + breakpoint.value + \"px)\", content);\n};\n\nexports.breakpointStyle = breakpointStyle;\n\nvar findAllByType = function findAllByType(component, type) {\n  var matches = [];\n\n  if (component.type === type) {\n    matches.push(component);\n  }\n\n  if (component.children) {\n    component.children.forEach(function (child) {\n      matches = matches.concat(findAllByType(child, type));\n    });\n  }\n\n  return matches;\n};\n\nexports.findAllByType = findAllByType;\n\nvar getAvailableAtBadge = function getAvailableAtBadge(availableAt) {\n  return [{\n    url: \"https://storybook.grommet.io/?selectedKind=\" + availableAt + \"&full=0&addons=0&stories=1&panelRight=0\",\n    badge: 'https://cdn-images-1.medium.com/fit/c/120/120/1*TD1P0HtIH9zF0UEH28zYtw.png',\n    label: 'Storybook'\n  }, {\n    url: \"https://codesandbox.io/s/github/grommet/grommet-sandbox?initialpath=/\" + availableAt.toLowerCase() + \"&module=%2Fsrc%2F\" + availableAt + \".js\",\n    badge: 'https://codesandbox.io/static/img/play-codesandbox.svg',\n    label: 'CodeSandbox'\n  }];\n};\n\nexports.getAvailableAtBadge = getAvailableAtBadge;","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useCallback, useEffect, useState } from 'react';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { useForwardedRef } from '../../utils';\nvar defaultDropAlign = {\n  top: 'top',\n  left: 'left'\n};\nvar DropButton = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$a11yTitle = _ref.a11yTitle,\n      a11yTitle = _ref$a11yTitle === void 0 ? 'Open Drop' : _ref$a11yTitle,\n      disabled = _ref.disabled,\n      _ref$dropAlign = _ref.dropAlign,\n      dropAlign = _ref$dropAlign === void 0 ? defaultDropAlign : _ref$dropAlign,\n      dropProps = _ref.dropProps,\n      dropContent = _ref.dropContent,\n      dropTarget = _ref.dropTarget,\n      id = _ref.id,\n      open = _ref.open,\n      onClick = _ref.onClick,\n      onClose = _ref.onClose,\n      onOpen = _ref.onOpen,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"disabled\", \"dropAlign\", \"dropProps\", \"dropContent\", \"dropTarget\", \"id\", \"open\", \"onClick\", \"onClose\", \"onOpen\"]);\n\n  var buttonRef = useForwardedRef(ref);\n\n  var _useState = useState(),\n      show = _useState[0],\n      setShow = _useState[1];\n\n  useEffect(function () {\n    if (open !== undefined && open !== show) {\n      setShow(open);\n    }\n  }, [open, show]);\n  var onDropClose = useCallback(function (event) {\n    // if the user has clicked on our Button, don't do anything here,\n    // handle that in onClickInternal() below.\n    var node = event.target;\n\n    while (node !== document && node !== buttonRef.current) {\n      node = node.parentNode;\n    }\n\n    if (node !== buttonRef.current) {\n      // don't change internal state if caller is driving\n      if (open === undefined) setShow(false);\n      if (onClose) onClose(event);\n    }\n  }, [buttonRef, onClose, open]);\n  var onClickInternal = useCallback(function (event) {\n    if (!show) {\n      setShow(true);\n      if (onOpen) onOpen(event);\n    } else {\n      setShow(false);\n      if (onClose) onClose(event);\n    }\n\n    if (onClick) onClick(event);\n  }, [onClick, onClose, onOpen, show]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, _extends({\n    id: id,\n    ref: buttonRef,\n    a11yTitle: a11yTitle,\n    disabled: disabled\n  }, rest, {\n    onClick: onClickInternal\n  })), show && buttonRef.current && /*#__PURE__*/React.createElement(Drop, _extends({\n    id: id ? id + \"__drop\" : undefined,\n    restrictFocus: true,\n    align: dropAlign,\n    target: dropTarget || buttonRef.current,\n    onClickOutside: onDropClose,\n    onEsc: onDropClose\n  }, dropProps), dropContent));\n});\nDropButton.displayName = 'DropButton';\nvar DropButtonDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  DropButtonDoc = require('./doc').doc(DropButton);\n}\n\nvar DropButtonWrapper = DropButtonDoc || DropButton;\nexport { DropButtonWrapper as DropButton };","import styled, { css } from 'styled-components';\nimport { activeStyle, backgroundStyle, disabledStyle, focusStyle, genericStyles, getHoverIndicatorStyle, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\n\nvar radiusStyle = function radiusStyle(props) {\n  // border.radius shouldn't impact an only-icon rendering.\n  var isIconOnly = props.hasIcon && !props.hasLabel;\n  var size = props.sizeProp;\n\n  if (!isIconOnly && size && props.theme.button.size && props.theme.button.size[size]) {\n    return props.theme.button.size[size].border.radius;\n  }\n\n  return props.theme.button.border.radius;\n};\n\nvar fontStyle = function fontStyle(props) {\n  var size = props.sizeProp || 'medium';\n  var data = props.theme.text[size];\n  return css([\"font-size:\", \";line-height:\", \";\"], data.size, data.height);\n};\n\nvar padStyle = function padStyle(props) {\n  var size = props.sizeProp;\n\n  if (size && props.theme.button.size && props.theme.button.size[size]) {\n    return css([\"\", \" \", \"\"], props.theme.button.size[size].pad.vertical, props.theme.button.size[size].pad.horizontal);\n  }\n\n  return css([\"\", \" \", \"\"], props.theme.button.padding.vertical, props.theme.button.padding.horizontal);\n};\n\nvar basicStyle = function basicStyle(props) {\n  return css([\"border:\", \" solid \", \";border-radius:\", \";color:\", \";padding:\", \";\", \"\"], props.theme.button.border.width, normalizeColor(props.colorValue || props.theme.button.border.color || 'control', props.theme), radiusStyle(props), normalizeColor(props.theme.button.color || 'text', props.theme), padStyle(props), fontStyle(props));\n};\n\nvar primaryStyle = function primaryStyle(props) {\n  return css([\"\", \" border-radius:\", \";\", \"\"], backgroundStyle(normalizeColor(props.colorValue || props.theme.button.primary && props.theme.button.primary.color || 'control', props.theme), props.theme, props.theme.button.color), radiusStyle(props), props.theme.button.primary && props.theme.button.primary.extend);\n};\n\nfunction getHoverColor(props) {\n  if (props.colorValue) {\n    return normalizeColor(props.colorValue, props.theme);\n  }\n\n  if (props.active && props.primary && props.theme.button.primary && props.theme.button.primary.active && props.theme.button.primary.active.border && props.theme.button.primary.active.border.color) {\n    return normalizeColor(props.theme.button.primary.active.border.color, props.theme);\n  }\n\n  return normalizeColor(props.theme.button.border.color || 'control', props.theme);\n}\n\nvar hoverStyle = css([\"&:hover{\", \" \", \";}\"], function (props) {\n  return props.hoverIndicator && getHoverIndicatorStyle(props.hoverIndicator, props.theme);\n}, function (props) {\n  return !props.plain && css([\"box-shadow:0px 0px 0px 2px \", \";\"], getHoverColor(props));\n});\n\nvar fillStyle = function fillStyle(fillContainer) {\n  if (fillContainer === 'horizontal') {\n    return 'width: 100%;';\n  }\n\n  if (fillContainer === 'vertical') {\n    return 'height: 100%;';\n  }\n\n  if (fillContainer) {\n    return \"\\n      width: 100%;\\n      height: 100%;\\n      max-width: none;\\n      flex: 1 0 auto;\\n    \";\n  }\n\n  return undefined;\n};\n\nvar plainStyle = function plainStyle(props) {\n  return css([\"color:\", \";outline:none;border:none;padding:0;text-align:inherit;\"], normalizeColor(props.colorValue || 'inherit', props.theme));\n};\n\nvar activeButtonStyle = function activeButtonStyle(props) {\n  return css([\"\", \" \", \" \", \"\"], activeStyle, props.primary && props.theme.button.primary && props.theme.button.primary.active && props.theme.button.primary.active.border && props.theme.button.primary.active.border.color && \"border: \" + props.theme.button.border.width + \" solid\\n    \" + normalizeColor(props.theme.button.primary.active.border.color, props.theme) + \";\\n    \", props.primary && props.theme.button.primary && props.theme.button.primary.active && props.theme.button.primary.active.extend);\n};\n\nvar disabledButtonStyle = function disabledButtonStyle(props) {\n  return css([\"\", \" \", \" \", \" \", \"\"], disabledStyle(props.theme.button.disabled.opacity), !props.plain && props.theme.button.disabled.border && props.theme.button.disabled.border.color && \"border: \" + props.theme.button.border.width + \" solid\\n    \" + normalizeColor(props.theme.button.disabled.border.color, props.theme) + \";\", props.theme.button.disabled.color && ( // if primary button, apply disabled color to background. otherwise,\n  // apply disabled color to the label\n  props.primary ? backgroundStyle(normalizeColor(props.theme.button.disabled.color, props.theme), props.theme, props.theme.button.color) : \"color: \" + normalizeColor(props.theme.button.disabled.color, props.theme) + \";\"), props.theme.button.disabled && props.theme.button.disabled.extend);\n}; // Deprecate props.theme.button.disabled.opacity in V3\n\n\nvar StyledButton = styled.button.withConfig({\n  displayName: \"StyledButton\",\n  componentId: \"sc-323bzc-0\"\n})([\"display:inline-block;box-sizing:border-box;cursor:pointer;font:inherit;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;\", \" \", \" \", \" \", \" \", \" \", \" \", \" &:focus{\", \"}\", \" \", \" \", \" \", \" \", \"\"], genericStyles, function (props) {\n  return props.plain && plainStyle(props);\n}, function (props) {\n  return !props.plain && basicStyle(props);\n}, function (props) {\n  return props.primary && primaryStyle(props);\n}, function (props) {\n  return !props.disabled && !props.focus && hoverStyle;\n}, function (props) {\n  return !props.disabled && props.active && activeButtonStyle(props);\n}, function (props) {\n  return props.disabled && props.theme.button && props.theme.button.disabled && disabledButtonStyle(props);\n}, function (props) {\n  return (!props.plain || props.focusIndicator) && focusStyle();\n}, function (props) {\n  return !props.plain && props.theme.button.transition && \"\\n    transition-property: \" + props.theme.button.transition.properties.join(',') + \";\\n    transition-duration: \" + props.theme.button.transition.duration + \"s;\\n    transition-timing-function: \" + props.theme.button.transition.timing + \";\\n  \";\n}, function (props) {\n  return props.fillContainer && fillStyle(props.fillContainer);\n}, function (props) {\n  return props.hasIcon && !props.hasLabel && \"\\n    line-height: 0;\\n  \";\n}, function (props) {\n  return props.pad && props.hasIcon && !props.hasLabel && \"\\n    padding: \" + props.theme.global.edgeSize.small + \";\\n  \";\n}, function (props) {\n  return props.theme.button && props.theme.button.extend;\n});\nStyledButton.defaultProps = {};\nObject.setPrototypeOf(StyledButton.defaultProps, defaultProps);\nexport { StyledButton };","import styled, { css } from 'styled-components';\nimport { activeStyle, backgroundStyle, disabledStyle, focusStyle, genericStyles, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\n\nvar radiusStyle = function radiusStyle(props) {\n  var size = props.sizeProp;\n  if (size && props.theme.button.size && props.theme.button.size[size]) return css([\"border-radius:\", \";\"], props.theme.button.size[size].border.radius);\n  if (props.theme.button.border && props.theme.button.border.radius) return css([\"border-radius:\", \";\"], props.theme.button.border.radius);\n  return '';\n};\n\nvar fontStyle = function fontStyle(props) {\n  var size = props.sizeProp || 'medium';\n  var data = props.theme.text[size];\n  return css([\"font-size:\", \";line-height:\", \";\"], data.size, data.height);\n};\n\nvar padStyle = function padStyle(_ref) {\n  var size = _ref.sizeProp,\n      theme = _ref.theme;\n\n  if (size && theme.button.size && theme.button.size[size] && theme.button.size[size].pad) {\n    return css([\"padding:\", \" \", \";\"], theme.button.size[size].pad.vertical, theme.button.size[size].pad.horizontal);\n  }\n\n  if (theme.button.padding) {\n    return css([\"padding:\", \" \", \";\"], theme.global.edgeSize[theme.button.padding.vertical] || theme.button.padding.vertical, theme.global.edgeSize[theme.button.padding.horizontal] || theme.button.padding.horizontal);\n  }\n\n  return '';\n}; // The > svg rule is to ensure Buttons with just an icon don't add additional\n// vertical height internally.\n\n\nvar basicStyle = function basicStyle(props) {\n  return css([\"border:none;\", \";\", \" \", \" > svg{vertical-align:bottom;}\"], radiusStyle(props), padStyle(props), fontStyle(props));\n}; // CSS for this sub-object in the theme\n\n\nvar kindPartStyles = function kindPartStyles(obj, theme, colorValue) {\n  var styles = [];\n\n  if (obj.padding) {\n    if (obj.padding.vertical || obj.padding.horizontal) styles.push(\"padding: \" + (theme.global.edgeSize[obj.padding.vertical] || obj.padding.vertical || 0) + \" \" + (theme.global.edgeSize[obj.padding.horizontal] || obj.padding.horizontal || 0) + \";\");else styles.push(\"padding: \" + (theme.global.edgeSize[obj.padding] || obj.padding || 0) + \";\");\n  }\n\n  if (obj.background) styles.push(backgroundStyle(colorValue || obj.background, theme, obj.color || (Object.prototype.hasOwnProperty.call(obj, 'color') && obj.color === undefined ? false : undefined)));else if (obj.color) styles.push(\"color: \" + normalizeColor(obj.color, theme) + \";\");\n\n  if (obj.border) {\n    if (obj.border.width) styles.push(css([\"border-style:solid;border-width:\", \";\"], obj.border.width));\n    if (obj.border.color) styles.push(css([\"border-color:\", \";\"], normalizeColor(!obj.background && colorValue || obj.border.color || 'border', theme)));\n    if (obj.border.radius) styles.push(css([\"border-radius:\", \";\"], obj.border.radius));\n  } else if (obj.border === false) styles.push('border: none;');\n\n  if (colorValue && !obj.border && !obj.background) styles.push(\"color: \" + normalizeColor(colorValue, theme) + \";\");\n\n  if (obj.font) {\n    if (obj.font.size) {\n      styles.push(\"font-size: \" + (theme.text[obj.font.size].size || obj.font.size) + \";\");\n    }\n\n    if (obj.font.height) {\n      styles.push(\"line-height: \" + obj.font.height + \";\");\n    }\n\n    if (obj.font.weight) {\n      styles.push(\"font-weight: \" + obj.font.weight + \";\");\n    }\n  }\n\n  if (obj.opacity) {\n    var opacity = obj.opacity === true ? theme.global.opacity.medium : theme.global.opacity[obj.opacity] || obj.opacity;\n    styles.push(\"opacity: \" + opacity + \";\");\n  }\n\n  if (obj.extend) styles.push(obj.extend);\n  return styles;\n}; // build up CSS from basic to specific based on the supplied sub-object paths\n\n\nvar kindStyle = function kindStyle(_ref2) {\n  var colorValue = _ref2.colorValue,\n      themePaths = _ref2.themePaths,\n      theme = _ref2.theme;\n  var styles = [];\n  themePaths.base.forEach(function (themePath) {\n    var obj = theme.button;\n\n    if (themePath) {\n      var parts = themePath.split('.');\n\n      while (obj && parts.length) {\n        obj = obj[parts.shift()];\n      }\n    }\n\n    if (obj) {\n      styles.push(kindPartStyles(obj, theme, colorValue));\n    }\n  });\n  themePaths.hover.forEach(function (themePath) {\n    var obj = theme.button;\n\n    if (themePath) {\n      var parts = themePath.split('.');\n\n      while (obj && parts.length) {\n        obj = obj[parts.shift()];\n      }\n\n      if (obj) {\n        var partStyles = kindPartStyles(obj, theme);\n        if (partStyles.length > 0) styles.push(css([\"&:hover{\", \"}\"], partStyles));\n      }\n    }\n  });\n  return styles;\n};\n\nvar hoverIndicatorStyle = function hoverIndicatorStyle(_ref3) {\n  var hoverIndicator = _ref3.hoverIndicator,\n      theme = _ref3.theme;\n  var themishObj = {};\n  if (hoverIndicator === true || hoverIndicator === 'background') themishObj.background = theme.global.hover.background;else themishObj.background = hoverIndicator;\n  var styles = kindPartStyles(themishObj, theme);\n  if (styles.length > 0) return css([\"&:hover{\", \"}\"], styles);\n  return '';\n};\n\nvar fillStyle = function fillStyle(fillContainer) {\n  if (fillContainer === 'horizontal') {\n    return 'width: 100%;';\n  }\n\n  if (fillContainer === 'vertical') {\n    return 'height: 100%;';\n  }\n\n  if (fillContainer) {\n    return \"\\n      width: 100%;\\n      height: 100%;\\n      max-width: none;\\n      flex: 1 0 auto;\\n    \";\n  }\n\n  return undefined;\n}; // The > svg rule is to ensure Buttons with just an icon don't add additional\n// vertical height internally.\n\n\nvar plainStyle = function plainStyle() {\n  return css([\"outline:none;border:none;padding:0;text-align:inherit;color:inherit;> svg{vertical-align:bottom;}\"]);\n};\n\nvar StyledButtonKind = styled.button.withConfig({\n  displayName: \"StyledButtonKind\",\n  componentId: \"sc-1vhfpnt-0\"\n})([\"display:inline-block;box-sizing:border-box;cursor:pointer;font:inherit;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;\", \" \", \" \", \" \", \" \", \" \", \" \", \" \", \" &:focus{\", \"}\", \" \", \" \", \"\"], genericStyles, function (props) {\n  return props.plain && plainStyle(props);\n}, function (props) {\n  return !props.disabled && props.active && activeStyle;\n}, function (props) {\n  return !props.plain && basicStyle(props);\n}, function (props) {\n  return !props.plain && kindStyle(props);\n}, function (props) {\n  return !props.plain && props.align && \"\\n    text-align: \" + props.align + \";\\n    \";\n}, function (props) {\n  return props.hoverIndicator && hoverIndicatorStyle(props);\n}, function (props) {\n  return props.disabled && disabledStyle(props.theme.button.disabled.opacity);\n}, function (props) {\n  return (!props.plain || props.focusIndicator) && focusStyle();\n}, function (props) {\n  return !props.plain && props.theme.button.transition && \"\\n    transition-property: \" + props.theme.button.transition.properties.join(',') + \";\\n    transition-duration: \" + props.theme.button.transition.duration + \"s;\\n    transition-timing-function: \" + props.theme.button.transition.timing + \";\\n  \";\n}, function (props) {\n  return props.fillContainer && fillStyle(props.fillContainer);\n}, function (props) {\n  return props.theme.button && props.theme.button.extend;\n});\nStyledButtonKind.defaultProps = {};\nObject.setPrototypeOf(StyledButtonKind.defaultProps, defaultProps);\nexport { StyledButtonKind };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { cloneElement, Children, forwardRef, useContext, useMemo, useState } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { backgroundAndTextColors, colorIsDark, normalizeBackground, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { StyledButton } from './StyledButton';\nimport { StyledButtonKind } from './StyledButtonKind'; // We have two Styled* components to separate\n// the newer default|primary|secondary approach,\n// which we use the term \"kind\" to refer to,\n// from the previous approach. Hopefully, when we get to grommet v3,\n// we can drop the old way and just use kind.\n//\n// In the kind approach, we rely on the basic structure of the theme\n// being repeated. For example: button.default, button.active,\n// button.active.default all refer to a similar object containing\n// { background, border, color, padding }.\n// This allows us to use the same code to evaluate color and generate CSS.\n// We just need to build up CSS, since selectors override previous ones.\n// See StyledButtonKind.kindStyles() for this.\n// And we build down to determine icon color, once we have a color from\n// the latest applicable state, we can stop. See Button.getIconColor() for this.\n// backgroundAndTextColor() is used in both cases to ensure we are determining\n// color in the same way, so the icon and label align.\n// only when default is in the theme\n// Used to get the color for the icon to match what StyledButtonKind\n// and backgroundStyle() will do for the label.\n// The paths are ordered from basic to specific. Go through them\n// specific to base until we find one that has a color and use that.\n\nvar getIconColor = function getIconColor(paths, theme, colorProp) {\n  if (paths === void 0) {\n    paths = [];\n  }\n\n  var result = [];\n  var index = paths.length - 1; // stop when we have a color or no more paths\n\n  while (index >= 0 && !result[1]) {\n    var obj = theme.button; // find the sub-object under the button them that corresponds with this path\n    // for example: 'active.primary'\n\n    if (paths[index]) {\n      var parts = paths[index].split('.');\n\n      while (obj && parts.length) {\n        obj = obj[parts.shift()];\n      }\n    }\n\n    if (obj) {\n      // use passed in color for background if the theme has a background color\n      var background = colorProp && obj.background && obj.background.color ? colorProp : obj.background; // if theme object explicitly sets the color to undefined, pass false\n      // to indicate that the theme doesn't want any text color\n\n      var objColor = obj.color || (Object.prototype.hasOwnProperty.call(obj, 'color') && obj.color === undefined ? false : undefined); // use passed in color for text if the theme doesn't have\n      // background or border color\n\n      var color = colorProp && (!obj.background || !obj.background.color) && (!obj.border || !obj.border.color) ? colorProp : objColor;\n      result = backgroundAndTextColors(background, color, theme);\n    }\n\n    index -= 1;\n  }\n\n  return result[1] || undefined;\n};\n\nvar Button = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      active = _ref.active,\n      _ref$align = _ref.align,\n      align = _ref$align === void 0 ? 'center' : _ref$align,\n      color = _ref.color,\n      children = _ref.children,\n      disabled = _ref.disabled,\n      icon = _ref.icon,\n      _ref$focusIndicator = _ref.focusIndicator,\n      focusIndicator = _ref$focusIndicator === void 0 ? true : _ref$focusIndicator,\n      _ref$gap = _ref.gap,\n      gap = _ref$gap === void 0 ? 'small' : _ref$gap,\n      fill = _ref.fill,\n      href = _ref.href,\n      kindArg = _ref.kind,\n      label = _ref.label,\n      _onBlur = _ref.onBlur,\n      onClick = _ref.onClick,\n      _onFocus = _ref.onFocus,\n      onMouseOut = _ref.onMouseOut,\n      onMouseOver = _ref.onMouseOver,\n      plain = _ref.plain,\n      primary = _ref.primary,\n      reverse = _ref.reverse,\n      secondary = _ref.secondary,\n      selected = _ref.selected,\n      size = _ref.size,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? 'button' : _ref$type,\n      as = _ref.as,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"active\", \"align\", \"color\", \"children\", \"disabled\", \"icon\", \"focusIndicator\", \"gap\", \"fill\", \"href\", \"kind\", \"label\", \"onBlur\", \"onClick\", \"onFocus\", \"onMouseOut\", \"onMouseOver\", \"plain\", \"primary\", \"reverse\", \"secondary\", \"selected\", \"size\", \"type\", \"as\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  var _useState2 = useState(false),\n      hover = _useState2[0],\n      setHover = _useState2[1];\n\n  if ((icon || label) && children) {\n    console.warn('Button should not have children if icon or label is provided');\n  } // if the theme has button.default, what kind of Button is this\n\n\n  var kind = useMemo(function () {\n    if (theme.button[\"default\"]) {\n      if (kindArg) return kindArg;\n      if (primary) return 'primary';\n      if (secondary) return 'secondary';\n      return 'default';\n    }\n\n    return undefined; // pre-default, no kind\n  }, [kindArg, primary, secondary, theme.button[\"default\"]]); // When we have a kind and are not plain, themePaths stores the relative\n  // paths within the theme for the current kind and state of the button.\n  // These paths are used with getIconColor() above and kindStyle() within\n  // StyledButtonKind.\n\n  var themePaths = useMemo(function () {\n    if (!kind || plain) return undefined;\n    var result = {\n      base: [],\n      hover: []\n    };\n    result.base.push(kind);\n\n    if (selected) {\n      result.base.push('selected');\n      if (kind) result.base.push(\"selected.\" + kind);\n    }\n\n    if (disabled) {\n      result.base.push('disabled');\n      if (kind) result.base.push(\"disabled.\" + kind);\n    } else {\n      if (active) {\n        result.base.push('active');\n        if (kind) result.base.push(\"active.\" + kind);\n      }\n\n      result.hover.push('hover');\n      if (kind) result.hover.push(\"hover.\" + kind);\n\n      if (active) {\n        result.hover.push(\"hover.active\");\n\n        if (kind) {\n          result.hover.push(\"hover.active.\" + kind);\n        }\n      }\n    }\n\n    return result;\n  }, [active, disabled, kind, plain, selected]); // only used when theme does not have button.default\n\n  var isDarkBackground = function isDarkBackground() {\n    var backgroundColor = normalizeBackground(normalizeColor(color || theme.button.primary && theme.button.primary.color || theme.global.colors.control || 'brand', theme), theme);\n    return colorIsDark(backgroundColor, theme);\n  };\n\n  var onMouseOverButton = function onMouseOverButton(event) {\n    setHover(true);\n\n    if (onMouseOver) {\n      onMouseOver(event);\n    }\n  };\n\n  var onMouseOutButton = function onMouseOutButton(event) {\n    setHover(false);\n\n    if (onMouseOut) {\n      onMouseOut(event);\n    }\n  };\n\n  var buttonIcon = icon; // only change color if user did not specify the color themselves...\n\n  if (icon && !icon.props.color) {\n    if (kind) {\n      if (!plain) {\n        // match what the label will use\n        var iconColor = hover && getIconColor(themePaths.hover, theme) || getIconColor(themePaths.base, theme, color);\n        if (iconColor) buttonIcon = /*#__PURE__*/cloneElement(icon, {\n          color: iconColor\n        });\n      }\n    } else if (primary) {\n      buttonIcon = /*#__PURE__*/cloneElement(icon, {\n        color: theme.global.colors.text[isDarkBackground() ? 'dark' : 'light']\n      });\n    }\n  }\n\n  var domTag = !as && href ? 'a' : as;\n  var first = reverse ? label : buttonIcon;\n  var second = reverse ? buttonIcon : label;\n  var contents;\n\n  if (first && second) {\n    contents = /*#__PURE__*/React.createElement(Box, {\n      direction: \"row\",\n      align: \"center\",\n      justify: align === 'center' ? 'center' : 'between',\n      gap: gap\n    }, first, second);\n  } else if (typeof children === 'function') {\n    contents = children({\n      hover: hover,\n      focus: focus\n    });\n  } else {\n    contents = first || second || children;\n  }\n\n  if (kind) {\n    return /*#__PURE__*/React.createElement(StyledButtonKind, _extends({}, rest, {\n      as: domTag,\n      ref: ref,\n      active: active,\n      align: align,\n      \"aria-label\": a11yTitle,\n      colorValue: color,\n      disabled: disabled,\n      gap: gap,\n      fillContainer: fill,\n      focus: focus,\n      focusIndicator: focusIndicator,\n      href: href,\n      kind: kind,\n      themePaths: themePaths,\n      onClick: onClick,\n      onFocus: function onFocus(event) {\n        setFocus(true);\n        if (_onFocus) _onFocus(event);\n      },\n      onBlur: function onBlur(event) {\n        setFocus(false);\n        if (_onBlur) _onBlur(event);\n      },\n      onMouseOver: onMouseOverButton,\n      onMouseOut: onMouseOutButton,\n      plain: plain,\n      primary: primary,\n      sizeProp: size,\n      type: !href ? type : undefined\n    }), contents);\n  }\n\n  return /*#__PURE__*/React.createElement(StyledButton, _extends({}, rest, {\n    as: domTag,\n    ref: ref,\n    \"aria-label\": a11yTitle,\n    colorValue: color,\n    active: active,\n    selected: selected,\n    disabled: disabled,\n    hasIcon: !!icon,\n    gap: gap,\n    hasLabel: !!label,\n    fillContainer: fill,\n    focus: focus,\n    focusIndicator: focusIndicator,\n    href: href,\n    kind: kind,\n    themePaths: themePaths,\n    onClick: onClick,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      if (_onBlur) _onBlur(event);\n    },\n    onMouseOver: onMouseOverButton,\n    onMouseOut: onMouseOutButton,\n    pad: !plain,\n    plain: typeof plain !== 'undefined' ? plain : Children.count(children) > 0 || icon && !label,\n    primary: primary,\n    sizeProp: size,\n    type: !href ? type : undefined\n  }), contents);\n});\nButton.displayName = 'Button';\nvar ButtonDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  ButtonDoc = require('./doc').doc(Button);\n}\n\nvar ButtonWrapper = ButtonDoc || Button;\nexport { ButtonWrapper as Button };","import React from 'react';\nexport var ContainerTargetContext = /*#__PURE__*/React.createContext(typeof document === 'object' ? document.body : undefined);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeContext } from 'styled-components';\nimport { deepMerge } from '../../utils';\n\nThemeContext.Extend = function (_ref) {\n  var children = _ref.children,\n      value = _ref.value;\n  return /*#__PURE__*/React.createElement(ThemeContext.Consumer, null, function (theme) {\n    return /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n      value: deepMerge(theme, value)\n    }, children);\n  });\n};\n\nThemeContext.Extend.propTypes = {\n  children: PropTypes.node.isRequired,\n  value: PropTypes.shape({}).isRequired\n};\nexport { ThemeContext };","export var getBreakpoint = function getBreakpoint(windowWidth, theme) {\n  var result;\n  var sortedBreakpoints = Object.keys(theme.global.breakpoints).sort(function (a, b) {\n    var first = theme.global.breakpoints[a];\n    var second = theme.global.breakpoints[b];\n    if (!first) return 1;\n    if (!second) return -1;\n    if (!first.value) return 1;\n    if (!second.value) return -1;\n    return first.value - second.value;\n  }); // the last breakpoint on the sorted array should have\n  // no windowWidth boundaries\n\n  var lastBreakpoint = sortedBreakpoints[sortedBreakpoints.length - 1];\n  sortedBreakpoints.some(function (name) {\n    var breakpoint = theme.global.breakpoints[name];\n\n    if (breakpoint) {\n      if (!breakpoint.value || breakpoint.value >= windowWidth) {\n        result = name;\n        return true;\n      }\n    }\n\n    return false;\n  });\n  return result || lastBreakpoint;\n};\nexport var getDeviceBreakpoint = function getDeviceBreakpoint(type, theme) {\n  return theme.global.deviceBreakpoints[type];\n};","import styled, { css } from 'styled-components';\nimport { baseStyle } from '../../utils';\nimport { defaultProps } from '../../default-props';\nvar fullStyle = css([\"width:100vw;height:100vh;overflow:auto;\"]);\nvar StyledGrommet = styled.div.withConfig({\n  displayName: \"StyledGrommet\",\n  componentId: \"sc-19lkkz7-0\"\n})([\"\", \" \", \" \", \" \", \" \", \"\"], function (props) {\n  return !props.plain && baseStyle;\n}, function (props) {\n  return props.full && fullStyle;\n}, function (props) {\n  return props.theme.global.font.face;\n}, function (props) {\n  return props.theme.grommet.extend;\n}, function (props) {\n  return props.cssVars && Object.keys(props.theme.global.colors).filter(function (k) {\n    return typeof props.theme.global.colors[k] === 'string';\n  }).map(function (k) {\n    return \"--\" + k + \": \" + props.theme.global.colors[k] + \";\";\n  }).join('\\n');\n});\nStyledGrommet.defaultProps = {};\nObject.setPrototypeOf(StyledGrommet.defaultProps, defaultProps);\nexport { StyledGrommet };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  body { margin: 0; }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}\n\nimport React, { Component } from 'react';\nimport { createGlobalStyle } from 'styled-components';\nimport { ResponsiveContext, ThemeContext, ContainerTargetContext } from '../../contexts';\nimport { backgroundIsDark, deepMerge, getBreakpoint, getDeviceBreakpoint, normalizeColor } from '../../utils';\nimport { base as baseTheme } from '../../themes';\nimport { StyledGrommet } from './StyledGrommet';\nvar FullGlobalStyle = createGlobalStyle(_templateObject());\n\nvar Grommet = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Grommet, _Component);\n\n  function Grommet() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function () {\n      var _this$state = _this.state,\n          theme = _this$state.theme,\n          responsive = _this$state.responsive;\n      var breakpoint; // responsive would be undefined in the case of SSR or initial page load\n\n      if (!responsive) {\n        // In the case of SSR we'll need to use the user agent breakpoint\n        breakpoint = _this.deviceResponsive();\n      } // Initial page load where both responsive and breakpoint are undefined\n\n\n      if (!breakpoint) breakpoint = getBreakpoint(window.innerWidth, theme);\n\n      if (breakpoint !== responsive) {\n        _this.setState({\n          responsive: breakpoint\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  Grommet.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var backgroundProp = nextProps.background,\n        dir = nextProps.dir,\n        _nextProps$theme = nextProps.theme,\n        theme = _nextProps$theme === void 0 ? {} : _nextProps$theme,\n        themeMode = nextProps.themeMode;\n    var stateTheme = prevState.theme,\n        themeProp = prevState.themeProp,\n        themeModeProp = prevState.themeModeProp;\n    var nextTheme = deepMerge(baseTheme, theme);\n\n    if (!stateTheme || theme !== themeProp || themeMode !== themeModeProp) {\n      var themeBackground = nextTheme.global.colors.background; // get initial value for dark so we can normalize background color\n\n      nextTheme.dark = (themeMode || theme.defaultMode) === 'dark';\n      var color = normalizeColor(backgroundProp || themeBackground, nextTheme); // After normalizing, we set nextTheme.dark once more.\n      // It is necessary that we set it twice. We have to handle two cases:\n      // 1. Caller passes in a color object or a color name that resolves an\n      //    object. In this case, we want to set dark as line 38 shows. The\n      //    second set, in line 46, is a no-op.\n      // 2. Caller passes a specific color value or a color name that resolves\n      //    to a specific color value. In this case, we want dark to be set\n      //    based on that color, which line 46 will do.\n      // The double set of nextTheme.dark allows us to handle both cases here\n      // without having to duplicate color object + name + dark mode detection\n      // code here that is already in normalizeColor and backgroundIsDark.\n\n      nextTheme.dark = backgroundIsDark(color, nextTheme);\n      nextTheme.baseBackground = backgroundProp || themeBackground;\n\n      if (dir) {\n        nextTheme.dir = dir;\n      }\n\n      return {\n        theme: nextTheme,\n        themeProp: theme,\n        themeModeProp: themeMode\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = Grommet.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('resize', this.onResize);\n    this.onResize();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n  };\n\n  _proto.deviceResponsive = function deviceResponsive() {\n    var userAgent = this.props.userAgent;\n    var theme = this.state.theme;\n    /*\n     * Regexes provided for mobile and tablet detection are meant to replace\n     * a full-featured specific library due to contributing a considerable size\n     * into the bundle.\n     *\n     * User agents found https://deviceatlas.com/blog/list-of-user-agent-strings\n     */\n\n    if (userAgent) {\n      if (/(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(userAgent)) {\n        return getDeviceBreakpoint('tablet', theme);\n      }\n\n      if (/Mobile|iPhone|Android/.test(userAgent)) {\n        return getDeviceBreakpoint('phone', theme);\n      }\n\n      return getDeviceBreakpoint('computer', theme);\n    }\n\n    return undefined;\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        full = _this$props.full,\n        _this$props$container = _this$props.containerTarget,\n        containerTarget = _this$props$container === void 0 ? typeof document === 'object' ? document.body : undefined : _this$props$container,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"full\", \"containerTarget\"]);\n\n    delete rest.theme;\n    var _this$state2 = this.state,\n        theme = _this$state2.theme,\n        stateResponsive = _this$state2.responsive; // Value from state should be correct once we resize\n    // On first render we try to guess otherwise set the default as a tablet\n\n    var responsive = stateResponsive || this.deviceResponsive() || theme.global.deviceBreakpoints.tablet;\n    return /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n      value: theme\n    }, /*#__PURE__*/React.createElement(ResponsiveContext.Provider, {\n      value: responsive\n    }, /*#__PURE__*/React.createElement(ContainerTargetContext.Provider, {\n      value: containerTarget\n    }, /*#__PURE__*/React.createElement(StyledGrommet, _extends({\n      full: full\n    }, rest), children), full && /*#__PURE__*/React.createElement(FullGlobalStyle, null))));\n  };\n\n  return Grommet;\n}(Component);\n\n_defineProperty(Grommet, \"displayName\", 'Grommet');\n\nvar GrommetDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  GrommetDoc = require('./doc').doc(Grommet);\n}\n\nvar GrommetWrapper = GrommetDoc || Grommet;\nexport { GrommetWrapper as Grommet };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useCallback, useContext, useMemo, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport PropTypes from 'react-desc/lib/PropTypes';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { normalizeColor } from '../../utils';\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"Menu__ContainerBox\",\n  componentId: \"sc-17fcys9-0\"\n})([\"max-height:inherit;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}\", \";\"], function (props) {\n  return props.theme.menu.extend;\n});\n/* Notes on keyboard interactivity (based on W3) // For details reference: https://www.w3.org/TR/wai-aria-practices/#menu\n\nTo open menu when menu button is focused:\n- Space/Enter/Up arrow/Down arrow will open menu\n\nTo navigate within menu:\n- Up/down arrow keys can be used and will loop through options\n(keeping focus within the Menu)\n- Tab can be used, but once the last menu item is reached, Tab will close the\nMenu and continue through page content.\n\nTo close the menu:\n- Tabbing beyond the first or last menu item.\n- Esc will close the menu\n- Select a menu item\n\nTo make a selection:\n- Enter key is pressed.\n- Space is pressed.\n*/\n\nvar Menu = /*#__PURE__*/forwardRef(function (props, ref) {\n  var a11yTitle = props.a11yTitle,\n      children = props.children,\n      disabled = props.disabled,\n      dropAlign = props.dropAlign,\n      dropBackground = props.dropBackground,\n      dropProps = props.dropProps,\n      dropTarget = props.dropTarget,\n      justifyContent = props.justifyContent,\n      icon = props.icon,\n      items = props.items,\n      label = props.label,\n      messages = props.messages,\n      onKeyDown = props.onKeyDown,\n      open = props.open,\n      plain = props.plain,\n      size = props.size,\n      rest = _objectWithoutPropertiesLoose(props, [\"a11yTitle\", \"children\", \"disabled\", \"dropAlign\", \"dropBackground\", \"dropProps\", \"dropTarget\", \"justifyContent\", \"icon\", \"items\", \"label\", \"messages\", \"onKeyDown\", \"open\", \"plain\", \"size\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var iconColor = normalizeColor(theme.menu.icons.color || 'control', theme);\n  var align = dropProps.align || dropAlign;\n  var controlButtonIndex = useMemo(function () {\n    if (align.top === 'top') return -1;\n    if (align.bottom === 'bottom') return items.length;\n    return undefined;\n  }, [align, items]);\n  var buttonRefs = {};\n  var constants = useMemo(function () {\n    return {\n      none: 'none',\n      tab: 9,\n      // Menu control button included on top of menu items\n      controlTop: align.top === 'top' || undefined,\n      // Menu control button included on the bottom of menu items\n      controlBottom: align.bottom === 'bottom' || undefined,\n      controlButtonIndex: controlButtonIndex\n    };\n  }, [align, controlButtonIndex]);\n\n  var _useState = useState(constants.none),\n      activeItemIndex = _useState[0],\n      setActiveItemIndex = _useState[1];\n\n  var _useState2 = useState(open || false),\n      isOpen = _useState2[0],\n      setOpen = _useState2[1];\n\n  var MenuIcon = isOpen && theme.menu.icons.up ? theme.menu.icons.up : theme.menu.icons.down;\n  var onDropClose = useCallback(function () {\n    setActiveItemIndex(constants.none);\n    setOpen(false);\n  }, [constants.none]);\n  var onDropOpen = useCallback(function () {\n    setOpen(true);\n  }, []);\n\n  var onSelectMenuItem = function onSelectMenuItem(event) {\n    if (isOpen) {\n      if (activeItemIndex >= 0) {\n        event.preventDefault();\n        event.stopPropagation();\n        buttonRefs[activeItemIndex].click();\n      }\n    } else {\n      onDropOpen();\n    }\n  };\n\n  var isTab = function isTab(event) {\n    return event.keyCode === constants.tab || event.which === constants.tab;\n  };\n\n  var onNextMenuItem = function onNextMenuItem(event) {\n    event.preventDefault();\n\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (!constants.controlBottom && activeItemIndex === items.length - 1 || constants.controlBottom && activeItemIndex === controlButtonIndex)) {\n      // User has reached end of the menu, this tab will close\n      // the menu drop because there are no more \"next items\" to access\n      onDropClose();\n    } else {\n      var index;\n\n      if ( // This checks if the user has reached the end of the menu.\n      // In the case the the menu control button is located at the\n      // bottom of the menu, it checks if the user has reached the button.\n      // Otherwise, it checks if the user is at the last menu item.\n      constants.controlBottom && activeItemIndex === controlButtonIndex || !constants.controlBottom && activeItemIndex === items.length - 1 || activeItemIndex === constants.none) {\n        // place focus on the first menu item\n        index = 0;\n      } else {\n        index = activeItemIndex + 1;\n      }\n\n      setActiveItemIndex(index);\n      buttonRefs[index].focus();\n    }\n  };\n\n  var onPreviousMenuItem = function onPreviousMenuItem(event) {\n    event.preventDefault();\n\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (constants.controlTop && activeItemIndex === controlButtonIndex || !constants.controlTop && activeItemIndex - 1 < 0)) {\n      // User has reached beginning of the menu, this tab will close\n      // the menu drop because there are no more \"previous items\" to access\n      onDropClose();\n    } else {\n      var index;\n\n      if (activeItemIndex - 1 < 0) {\n        if (constants.controlTop && activeItemIndex - 1 === controlButtonIndex) {\n          index = items.length;\n        } else {\n          index = items.length - 1;\n        }\n      } else {\n        index = activeItemIndex - 1;\n      }\n\n      setActiveItemIndex(index);\n      buttonRefs[index].focus();\n    }\n  };\n\n  var content = children || /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    justify: justifyContent,\n    align: \"center\",\n    pad: theme.button[\"default\"] ? undefined : 'small',\n    gap: label && icon !== false ? 'small' : undefined\n  }, /*#__PURE__*/React.createElement(Text, {\n    size: size\n  }, label), icon !== false ? icon !== true && icon || /*#__PURE__*/React.createElement(MenuIcon, {\n    color: iconColor,\n    size: size\n  }) : null);\n  var controlMirror = /*#__PURE__*/React.createElement(Box, {\n    flex: false\n  }, /*#__PURE__*/React.createElement(Button, {\n    ref: function ref(r) {\n      // make it accessible at the end of all menu items\n      buttonRefs[items.length] = r;\n    },\n    a11yTitle: a11yTitle || messages.closeMenu || 'Close Menu',\n    active: activeItemIndex === controlButtonIndex,\n    focusIndicator: false,\n    hoverIndicator: \"background\",\n    plain: plain,\n    onClick: onDropClose,\n    onFocus: function onFocus() {\n      return setActiveItemIndex(controlButtonIndex);\n    } // On first tab into menu, the control button should not\n    // be able to receive tab focus because the focus should\n    // go to the first menu item instead.\n    ,\n    tabIndex: activeItemIndex === constants.none ? '-1' : undefined\n  }, typeof content === 'function' ? function () {\n    return content(_extends({}, props, {\n      drop: true\n    }));\n  } : content));\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onNextMenuItem,\n    onUp: onPreviousMenuItem,\n    onEnter: onSelectMenuItem,\n    onSpace: onSelectMenuItem,\n    onEsc: onDropClose,\n    onTab: onDropClose,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(DropButton, _extends({\n    ref: ref\n  }, rest, {\n    a11yTitle: a11yTitle || messages.openMenu || 'Open Menu',\n    disabled: disabled,\n    dropAlign: align,\n    dropTarget: dropTarget,\n    dropProps: dropProps,\n    plain: plain,\n    open: isOpen,\n    onOpen: onDropOpen,\n    onClose: onDropClose,\n    dropContent: /*#__PURE__*/React.createElement(Keyboard, {\n      onTab: function onTab(event) {\n        return event.shiftKey ? onPreviousMenuItem(event) : onNextMenuItem(event);\n      },\n      onEnter: onSelectMenuItem\n    }, /*#__PURE__*/React.createElement(ContainerBox, {\n      background: dropBackground || theme.menu.background\n    }, align.top === 'top' ? controlMirror : undefined, /*#__PURE__*/React.createElement(Box, {\n      overflow: \"auto\"\n    }, items.map(function (item, index) {\n      // Determine whether the label is done as a child or\n      // as an option Button kind property.\n      var child = !theme.button.option ? /*#__PURE__*/React.createElement(Box, {\n        align: \"start\",\n        pad: \"small\",\n        direction: \"row\",\n        gap: item.gap\n      }, item.reverse && item.label, item.icon, !item.reverse && item.label) : undefined; // if we have a child, turn on plain, and hoverIndicator\n\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line react/no-array-index-key\n        React.createElement(Box, {\n          key: index,\n          flex: false\n        }, /*#__PURE__*/React.createElement(Button, _extends({\n          ref: function ref(r) {\n            buttonRefs[index] = r;\n          },\n          onFocus: function onFocus() {\n            return setActiveItemIndex(index);\n          },\n          active: activeItemIndex === index,\n          focusIndicator: false,\n          plain: !child ? undefined : true,\n          align: \"start\",\n          kind: !child ? 'option' : undefined,\n          hoverIndicator: !child ? undefined : 'background'\n        }, !child ? item : _extends({}, item, {\n          gap: undefined,\n          icon: undefined,\n          label: undefined,\n          reverse: undefined\n        }), {\n          onClick: function onClick() {\n            if (item.onClick) {\n              item.onClick.apply(item, arguments);\n            }\n\n            if (item.close !== false) {\n              onDropClose();\n            }\n          }\n        }), child))\n      );\n    })), align.bottom === 'bottom' ? controlMirror : undefined))\n  }), content));\n});\nMenu.defaultProps = {\n  dropAlign: {\n    top: 'top',\n    left: 'left'\n  },\n  dropProps: {},\n  items: [],\n  messages: {\n    openMenu: 'Open Menu',\n    closeMenu: 'Close Menu'\n  },\n  justifyContent: 'start'\n};\nMenu.displayName = 'Menu';\nvar MenuDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  MenuDoc = require('./doc').doc(Menu); // eslint-disable-line global-require\n}\n\nvar MenuWrapper = MenuDoc || Menu;\nexport { MenuWrapper as Menu };","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from '@babel/runtime/helpers/esm/typeof';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nvar consoleLogger = {\n  type: 'logger',\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\n\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Logger);\n\n    this.init(concreteLogger, options);\n  }\n\n  _createClass(Logger, [{\n    key: \"init\",\n    value: function init(concreteLogger) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.prefix = options.prefix || 'i18next:';\n      this.logger = concreteLogger || consoleLogger;\n      this.options = options;\n      this.debug = options.debug;\n    }\n  }, {\n    key: \"setDebug\",\n    value: function setDebug(bool) {\n      this.debug = bool;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.forward(args, 'log', '', true);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.forward(args, 'warn', '', true);\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return this.forward(args, 'error', '');\n    }\n  }, {\n    key: \"deprecate\",\n    value: function deprecate() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n    }\n  }, {\n    key: \"forward\",\n    value: function forward(args, lvl, prefix, debugOnly) {\n      if (debugOnly && !this.debug) return null;\n      if (typeof args[0] === 'string') args[0] = \"\".concat(prefix).concat(this.prefix, \" \").concat(args[0]);\n      return this.logger[lvl](args);\n    }\n  }, {\n    key: \"create\",\n    value: function create(moduleName) {\n      return new Logger(this.logger, _objectSpread({}, {\n        prefix: \"\".concat(this.prefix, \":\").concat(moduleName, \":\")\n      }, this.options));\n    }\n  }]);\n\n  return Logger;\n}();\n\nvar baseLogger = new Logger();\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.observers = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(events, listener) {\n      var _this = this;\n\n      events.split(' ').forEach(function (event) {\n        _this.observers[event] = _this.observers[event] || [];\n\n        _this.observers[event].push(listener);\n      });\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      if (!this.observers[event]) return;\n\n      if (!listener) {\n        delete this.observers[event];\n        return;\n      }\n\n      this.observers[event] = this.observers[event].filter(function (l) {\n        return l !== listener;\n      });\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (this.observers[event]) {\n        var cloned = [].concat(this.observers[event]);\n        cloned.forEach(function (observer) {\n          observer.apply(void 0, args);\n        });\n      }\n\n      if (this.observers['*']) {\n        var _cloned = [].concat(this.observers['*']);\n\n        _cloned.forEach(function (observer) {\n          observer.apply(observer, [event].concat(args));\n        });\n      }\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nfunction defer() {\n  var res;\n  var rej;\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\n\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\n\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    object = object[key];\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath.obj,\n      k = _getLastOfPath.k;\n\n  obj[k] = newValue;\n}\n\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath2.obj,\n      k = _getLastOfPath2.k;\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\n\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n      obj = _getLastOfPath3.obj,\n      k = _getLastOfPath3.k;\n\n  if (!obj) return undefined;\n  return obj[k];\n}\n\nfunction getPathWithDefaults(data, defaultData, key) {\n  var value = getPath(data, key);\n\n  if (value !== undefined) {\n    return value;\n  }\n\n  return getPath(defaultData, key);\n}\n\nfunction deepExtend(target, source, overwrite) {\n  for (var prop in source) {\n    if (prop !== '__proto__') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n\n  return target;\n}\n\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\n\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n\n  return data;\n}\n\nvar isIE10 = typeof window !== 'undefined' && window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1;\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore(data) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n\n    _classCallCheck(this, ResourceStore);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResourceStore).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.data = data || {};\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    return _this;\n  }\n\n  _createClass(ResourceStore, [{\n    key: \"addNamespaces\",\n    value: function addNamespaces(ns) {\n      if (this.options.ns.indexOf(ns) < 0) {\n        this.options.ns.push(ns);\n      }\n    }\n  }, {\n    key: \"removeNamespaces\",\n    value: function removeNamespaces(ns) {\n      var index = this.options.ns.indexOf(ns);\n\n      if (index > -1) {\n        this.options.ns.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(lng, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var path = [lng, ns];\n      if (key && typeof key !== 'string') path = path.concat(key);\n      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n      }\n\n      return getPath(this.data, path);\n    }\n  }, {\n    key: \"addResource\",\n    value: function addResource(lng, ns, key, value) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        silent: false\n      };\n      var keySeparator = this.options.keySeparator;\n      if (keySeparator === undefined) keySeparator = '.';\n      var path = [lng, ns];\n      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        value = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      setPath(this.data, path, value);\n      if (!options.silent) this.emit('added', lng, ns, key, value);\n    }\n  }, {\n    key: \"addResources\",\n    value: function addResources(lng, ns, resources) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        silent: false\n      };\n\n      for (var m in resources) {\n        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n          silent: true\n        });\n      }\n\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"addResourceBundle\",\n    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n        silent: false\n      };\n      var path = [lng, ns];\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        deep = resources;\n        resources = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      var pack = getPath(this.data, path) || {};\n\n      if (deep) {\n        deepExtend(pack, resources, overwrite);\n      } else {\n        pack = _objectSpread({}, pack, resources);\n      }\n\n      setPath(this.data, path, pack);\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"removeResourceBundle\",\n    value: function removeResourceBundle(lng, ns) {\n      if (this.hasResourceBundle(lng, ns)) {\n        delete this.data[lng][ns];\n      }\n\n      this.removeNamespaces(ns);\n      this.emit('removed', lng, ns);\n    }\n  }, {\n    key: \"hasResourceBundle\",\n    value: function hasResourceBundle(lng, ns) {\n      return this.getResource(lng, ns) !== undefined;\n    }\n  }, {\n    key: \"getResourceBundle\",\n    value: function getResourceBundle(lng, ns) {\n      if (!ns) ns = this.options.defaultNS;\n      if (this.options.compatibilityAPI === 'v1') return _objectSpread({}, {}, this.getResource(lng, ns));\n      return this.getResource(lng, ns);\n    }\n  }, {\n    key: \"getDataByLanguage\",\n    value: function getDataByLanguage(lng) {\n      return this.data[lng];\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.data;\n    }\n  }]);\n\n  return ResourceStore;\n}(EventEmitter);\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\nvar checkedLoadedFor = {};\n\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  function Translator(services) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Translator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Translator).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, _assertThisInitialized(_this));\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n\n  _createClass(Translator, [{\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng) {\n      if (lng) this.language = lng;\n    }\n  }, {\n    key: \"exists\",\n    value: function exists(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      var resolved = this.resolve(key, options);\n      return resolved && resolved.res !== undefined;\n    }\n  }, {\n    key: \"extractFromKey\",\n    value: function extractFromKey(key, options) {\n      var nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n      if (nsSeparator === undefined) nsSeparator = ':';\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var namespaces = options.ns || this.options.defaultNS;\n\n      if (nsSeparator && key.indexOf(nsSeparator) > -1) {\n        var m = key.match(this.interpolator.nestingRegexp);\n\n        if (m && m.length > 0) {\n          return {\n            key: key,\n            namespaces: namespaces\n          };\n        }\n\n        var parts = key.split(nsSeparator);\n        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n        key = parts.join(keySeparator);\n      }\n\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      return {\n        key: key,\n        namespaces: namespaces\n      };\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(keys, options, lastKey) {\n      var _this2 = this;\n\n      if (_typeof(options) !== 'object' && this.options.overloadTranslationOptionHandler) {\n        options = this.options.overloadTranslationOptionHandler(arguments);\n      }\n\n      if (!options) options = {};\n      if (keys === undefined || keys === null) return '';\n      if (!Array.isArray(keys)) keys = [String(keys)];\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n          key = _this$extractFromKey.key,\n          namespaces = _this$extractFromKey.namespaces;\n\n      var namespace = namespaces[namespaces.length - 1];\n      var lng = options.lng || this.language;\n      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n\n      if (lng && lng.toLowerCase() === 'cimode') {\n        if (appendNamespaceToCIMode) {\n          var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n          return namespace + nsSeparator + key;\n        }\n\n        return key;\n      }\n\n      var resolved = this.resolve(keys, options);\n      var res = resolved && resolved.res;\n      var resUsedKey = resolved && resolved.usedKey || key;\n      var resExactUsedKey = resolved && resolved.exactUsedKey || key;\n      var resType = Object.prototype.toString.apply(res);\n      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n\n      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n        if (!options.returnObjects && !this.options.returnObjects) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n          return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, options) : \"key '\".concat(key, \" (\").concat(this.language, \")' returned an object instead of string.\");\n        }\n\n        if (keySeparator) {\n          var resTypeIsArray = resType === '[object Array]';\n          var copy$$1 = resTypeIsArray ? [] : {};\n          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n\n          for (var m in res) {\n            if (Object.prototype.hasOwnProperty.call(res, m)) {\n              var deepKey = \"\".concat(newKeyToUse).concat(keySeparator).concat(m);\n              copy$$1[m] = this.translate(deepKey, _objectSpread({}, options, {\n                joinArrays: false,\n                ns: namespaces\n              }));\n              if (copy$$1[m] === deepKey) copy$$1[m] = res[m];\n            }\n          }\n\n          res = copy$$1;\n        }\n      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, keys, options, lastKey);\n      } else {\n        var usedDefault = false;\n        var usedKey = false;\n\n        if (!this.isValidLookup(res) && options.defaultValue !== undefined) {\n          usedDefault = true;\n\n          if (options.count !== undefined) {\n            var suffix = this.pluralResolver.getSuffix(lng, options.count);\n            res = options[\"defaultValue\".concat(suffix)];\n          }\n\n          if (!res) res = options.defaultValue;\n        }\n\n        if (!this.isValidLookup(res)) {\n          usedKey = true;\n          res = key;\n        }\n\n        var updateMissing = options.defaultValue && options.defaultValue !== res && this.options.updateMissing;\n\n        if (usedKey || usedDefault || updateMissing) {\n          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? options.defaultValue : res);\n\n          if (keySeparator) {\n            var fk = this.resolve(key, _objectSpread({}, options, {\n              keySeparator: false\n            }));\n            if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n          }\n\n          var lngs = [];\n          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n\n          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n            for (var i = 0; i < fallbackLngs.length; i++) {\n              lngs.push(fallbackLngs[i]);\n            }\n          } else if (this.options.saveMissingTo === 'all') {\n            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n          } else {\n            lngs.push(options.lng || this.language);\n          }\n\n          var send = function send(l, k) {\n            if (_this2.options.missingKeyHandler) {\n              _this2.options.missingKeyHandler(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);\n            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {\n              _this2.backendConnector.saveMissing(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);\n            }\n\n            _this2.emit('missingKey', l, namespace, k, res);\n          };\n\n          if (this.options.saveMissing) {\n            var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n\n            if (this.options.saveMissingPlurals && needsPluralHandling) {\n              lngs.forEach(function (l) {\n                var plurals = _this2.pluralResolver.getPluralFormsOfKey(l, key);\n\n                plurals.forEach(function (p) {\n                  return send([l], p);\n                });\n              });\n            } else {\n              send(lngs, key);\n            }\n          }\n        }\n\n        res = this.extendTranslation(res, keys, options, resolved, lastKey);\n        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = \"\".concat(namespace, \":\").concat(key);\n        if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"extendTranslation\",\n    value: function extendTranslation(res, key, options, resolved, lastKey) {\n      var _this3 = this;\n\n      if (this.i18nFormat && this.i18nFormat.parse) {\n        res = this.i18nFormat.parse(res, options, resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n          resolved: resolved\n        });\n      } else if (!options.skipInterpolation) {\n        if (options.interpolation) this.interpolator.init(_objectSpread({}, options, {\n          interpolation: _objectSpread({}, this.options.interpolation, options.interpolation)\n        }));\n        var skipOnVariables = options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;\n        var nestBef;\n\n        if (skipOnVariables) {\n          var nb = res.match(this.interpolator.nestingRegexp);\n          nestBef = nb && nb.length;\n        }\n\n        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n        if (this.options.interpolation.defaultVariables) data = _objectSpread({}, this.options.interpolation.defaultVariables, data);\n        res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n\n        if (skipOnVariables) {\n          var na = res.match(this.interpolator.nestingRegexp);\n          var nestAft = na && na.length;\n          if (nestBef < nestAft) options.nest = false;\n        }\n\n        if (options.nest !== false) res = this.interpolator.nest(res, function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          if (lastKey && lastKey[0] === args[0]) {\n            _this3.logger.warn(\"It seems you are nesting recursively key: \".concat(args[0], \" in key: \").concat(key[0]));\n\n            return null;\n          }\n\n          return _this3.translate.apply(_this3, args.concat([key]));\n        }, options);\n        if (options.interpolation) this.interpolator.reset();\n      }\n\n      var postProcess = options.postProcess || this.options.postProcess;\n      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? _objectSpread({\n          i18nResolved: resolved\n        }, options) : options, this);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(keys) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var found;\n      var usedKey;\n      var exactUsedKey;\n      var usedLng;\n      var usedNS;\n      if (typeof keys === 'string') keys = [keys];\n      keys.forEach(function (k) {\n        if (_this4.isValidLookup(found)) return;\n\n        var extracted = _this4.extractFromKey(k, options);\n\n        var key = extracted.key;\n        usedKey = key;\n        var namespaces = extracted.namespaces;\n        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';\n        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);\n        namespaces.forEach(function (ns) {\n          if (_this4.isValidLookup(found)) return;\n          usedNS = ns;\n\n          if (!checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] && _this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {\n            checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] = true;\n\n            _this4.logger.warn(\"key \\\"\".concat(usedKey, \"\\\" for languages \\\"\").concat(codes.join(', '), \"\\\" won't get resolved as namespace \\\"\").concat(usedNS, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n          }\n\n          codes.forEach(function (code) {\n            if (_this4.isValidLookup(found)) return;\n            usedLng = code;\n            var finalKey = key;\n            var finalKeys = [finalKey];\n\n            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {\n              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n            } else {\n              var pluralSuffix;\n              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count);\n              if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);\n              if (needsContextHandling) finalKeys.push(finalKey += \"\".concat(_this4.options.contextSeparator).concat(options.context));\n              if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);\n            }\n\n            var possibleKey;\n\n            while (possibleKey = finalKeys.pop()) {\n              if (!_this4.isValidLookup(found)) {\n                exactUsedKey = possibleKey;\n                found = _this4.getResource(code, ns, possibleKey, options);\n              }\n            }\n          });\n        });\n      });\n      return {\n        res: found,\n        usedKey: usedKey,\n        exactUsedKey: exactUsedKey,\n        usedLng: usedLng,\n        usedNS: usedNS\n      };\n    }\n  }, {\n    key: \"isValidLookup\",\n    value: function isValidLookup(res) {\n      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(code, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n      return this.resourceStore.getResource(code, ns, key, options);\n    }\n  }]);\n\n  return Translator;\n}(EventEmitter);\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n    this.whitelist = this.options.supportedLngs || false;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  _createClass(LanguageUtil, [{\n    key: \"getScriptPartFromCode\",\n    value: function getScriptPartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return null;\n      var p = code.split('-');\n      if (p.length === 2) return null;\n      p.pop();\n      if (p[p.length - 1].toLowerCase() === 'x') return null;\n      return this.formatLanguageCode(p.join('-'));\n    }\n  }, {\n    key: \"getLanguagePartFromCode\",\n    value: function getLanguagePartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return code;\n      var p = code.split('-');\n      return this.formatLanguageCode(p[0]);\n    }\n  }, {\n    key: \"formatLanguageCode\",\n    value: function formatLanguageCode(code) {\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n        var p = code.split('-');\n\n        if (this.options.lowerCaseLng) {\n          p = p.map(function (part) {\n            return part.toLowerCase();\n          });\n        } else if (p.length === 2) {\n          p[0] = p[0].toLowerCase();\n          p[1] = p[1].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        } else if (p.length === 3) {\n          p[0] = p[0].toLowerCase();\n          if (p[1].length === 2) p[1] = p[1].toUpperCase();\n          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n        }\n\n        return p.join('-');\n      }\n\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  }, {\n    key: \"isWhitelisted\",\n    value: function isWhitelisted(code) {\n      this.logger.deprecate('languageUtils.isWhitelisted', 'function \"isWhitelisted\" will be renamed to \"isSupportedCode\" in the next major - please make sure to rename it\\'s usage asap.');\n      return this.isSupportedCode(code);\n    }\n  }, {\n    key: \"isSupportedCode\",\n    value: function isSupportedCode(code) {\n      if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n        code = this.getLanguagePartFromCode(code);\n      }\n\n      return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n    }\n  }, {\n    key: \"getBestMatchFromCodes\",\n    value: function getBestMatchFromCodes(codes) {\n      var _this = this;\n\n      if (!codes) return null;\n      var found;\n      codes.forEach(function (code) {\n        if (found) return;\n\n        var cleanedLng = _this.formatLanguageCode(code);\n\n        if (!_this.options.supportedLngs || _this.isSupportedCode(cleanedLng)) found = cleanedLng;\n      });\n\n      if (!found && this.options.supportedLngs) {\n        codes.forEach(function (code) {\n          if (found) return;\n\n          var lngOnly = _this.getLanguagePartFromCode(code);\n\n          if (_this.isSupportedCode(lngOnly)) return found = lngOnly;\n          found = _this.options.supportedLngs.find(function (supportedLng) {\n            if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n          });\n        });\n      }\n\n      if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n      return found;\n    }\n  }, {\n    key: \"getFallbackCodes\",\n    value: function getFallbackCodes(fallbacks, code) {\n      if (!fallbacks) return [];\n      if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n      if (!code) return fallbacks[\"default\"] || [];\n      var found = fallbacks[code];\n      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n      if (!found) found = fallbacks[this.formatLanguageCode(code)];\n      if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n      if (!found) found = fallbacks[\"default\"];\n      return found || [];\n    }\n  }, {\n    key: \"toResolveHierarchy\",\n    value: function toResolveHierarchy(code, fallbackCode) {\n      var _this2 = this;\n\n      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n      var codes = [];\n\n      var addCode = function addCode(c) {\n        if (!c) return;\n\n        if (_this2.isSupportedCode(c)) {\n          codes.push(c);\n        } else {\n          _this2.logger.warn(\"rejecting language code not found in supportedLngs: \".concat(c));\n        }\n      };\n\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n      } else if (typeof code === 'string') {\n        addCode(this.formatLanguageCode(code));\n      }\n\n      fallbackCodes.forEach(function (fc) {\n        if (codes.indexOf(fc) < 0) addCode(_this2.formatLanguageCode(fc));\n      });\n      return codes;\n    }\n  }]);\n\n  return LanguageUtil;\n}();\n\nvar sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\n\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    this.rules = createRules();\n  }\n\n  _createClass(PluralResolver, [{\n    key: \"addRule\",\n    value: function addRule(lng, obj) {\n      this.rules[lng] = obj;\n    }\n  }, {\n    key: \"getRule\",\n    value: function getRule(code) {\n      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n  }, {\n    key: \"needsPlural\",\n    value: function needsPlural(code) {\n      var rule = this.getRule(code);\n      return rule && rule.numbers.length > 1;\n    }\n  }, {\n    key: \"getPluralFormsOfKey\",\n    value: function getPluralFormsOfKey(code, key) {\n      var _this = this;\n\n      var ret = [];\n      var rule = this.getRule(code);\n      if (!rule) return ret;\n      rule.numbers.forEach(function (n) {\n        var suffix = _this.getSuffix(code, n);\n\n        ret.push(\"\".concat(key).concat(suffix));\n      });\n      return ret;\n    }\n  }, {\n    key: \"getSuffix\",\n    value: function getSuffix(code, count) {\n      var _this2 = this;\n\n      var rule = this.getRule(code);\n\n      if (rule) {\n        var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n        var suffix = rule.numbers[idx];\n\n        if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          if (suffix === 2) {\n            suffix = 'plural';\n          } else if (suffix === 1) {\n            suffix = '';\n          }\n        }\n\n        var returnSuffix = function returnSuffix() {\n          return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();\n        };\n\n        if (this.options.compatibilityJSON === 'v1') {\n          if (suffix === 1) return '';\n          if (typeof suffix === 'number') return \"_plural_\".concat(suffix.toString());\n          return returnSuffix();\n        } else if (this.options.compatibilityJSON === 'v2') {\n          return returnSuffix();\n        } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          return returnSuffix();\n        }\n\n        return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n      }\n\n      this.logger.warn(\"no plural rule found for: \".concat(code));\n      return '';\n    }\n  }]);\n\n  return PluralResolver;\n}();\n\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n\n    this.format = options.interpolation && options.interpolation.format || function (value) {\n      return value;\n    };\n\n    this.init(options);\n  }\n\n  _createClass(Interpolator, [{\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!options.interpolation) options.interpolation = {\n        escapeValue: true\n      };\n      var iOpts = options.interpolation;\n      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n      this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n      this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n      this.resetRegExp();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.options) this.init(this.options);\n    }\n  }, {\n    key: \"resetRegExp\",\n    value: function resetRegExp() {\n      var regexpStr = \"\".concat(this.prefix, \"(.+?)\").concat(this.suffix);\n      this.regexp = new RegExp(regexpStr, 'g');\n      var regexpUnescapeStr = \"\".concat(this.prefix).concat(this.unescapePrefix, \"(.+?)\").concat(this.unescapeSuffix).concat(this.suffix);\n      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n      var nestingRegexpStr = \"\".concat(this.nestingPrefix, \"(.+?)\").concat(this.nestingSuffix);\n      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(str, data, lng, options) {\n      var _this = this;\n\n      var match;\n      var value;\n      var replaces;\n      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n\n      function regexSafe(val) {\n        return val.replace(/\\$/g, '$$$$');\n      }\n\n      var handleFormat = function handleFormat(key) {\n        if (key.indexOf(_this.formatSeparator) < 0) {\n          var path = getPathWithDefaults(data, defaultData, key);\n          return _this.alwaysFormat ? _this.format(path, undefined, lng) : path;\n        }\n\n        var p = key.split(_this.formatSeparator);\n        var k = p.shift().trim();\n        var f = p.join(_this.formatSeparator).trim();\n        return _this.format(getPathWithDefaults(data, defaultData, k), f, lng, options);\n      };\n\n      this.resetRegExp();\n      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n      var skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;\n      var todos = [{\n        regex: this.regexpUnescape,\n        safeValue: function safeValue(val) {\n          return regexSafe(val);\n        }\n      }, {\n        regex: this.regexp,\n        safeValue: function safeValue(val) {\n          return _this.escapeValue ? regexSafe(_this.escape(val)) : regexSafe(val);\n        }\n      }];\n      todos.forEach(function (todo) {\n        replaces = 0;\n\n        while (match = todo.regex.exec(str)) {\n          value = handleFormat(match[1].trim());\n\n          if (value === undefined) {\n            if (typeof missingInterpolationHandler === 'function') {\n              var temp = missingInterpolationHandler(str, match, options);\n              value = typeof temp === 'string' ? temp : '';\n            } else if (skipOnVariables) {\n              value = match[0];\n              continue;\n            } else {\n              _this.logger.warn(\"missed to pass in variable \".concat(match[1], \" for interpolating \").concat(str));\n\n              value = '';\n            }\n          } else if (typeof value !== 'string' && !_this.useRawValueToEscape) {\n            value = makeString(value);\n          }\n\n          str = str.replace(match[0], todo.safeValue(value));\n          todo.regex.lastIndex = 0;\n          replaces++;\n\n          if (replaces >= _this.maxReplaces) {\n            break;\n          }\n        }\n      });\n      return str;\n    }\n  }, {\n    key: \"nest\",\n    value: function nest(str, fc) {\n      var _this2 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var match;\n      var value;\n\n      var clonedOptions = _objectSpread({}, options);\n\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n\n      function handleHasOptions(key, inheritedOptions) {\n        var sep = this.nestingOptionsSeparator;\n        if (key.indexOf(sep) < 0) return key;\n        var c = key.split(new RegExp(\"\".concat(sep, \"[ ]*{\")));\n        var optionsString = \"{\".concat(c[1]);\n        key = c[0];\n        optionsString = this.interpolate(optionsString, clonedOptions);\n        optionsString = optionsString.replace(/'/g, '\"');\n\n        try {\n          clonedOptions = JSON.parse(optionsString);\n          if (inheritedOptions) clonedOptions = _objectSpread({}, inheritedOptions, clonedOptions);\n        } catch (e) {\n          this.logger.warn(\"failed parsing options string in nesting for key \".concat(key), e);\n          return \"\".concat(key).concat(sep).concat(optionsString);\n        }\n\n        delete clonedOptions.defaultValue;\n        return key;\n      }\n\n      while (match = this.nestingRegexp.exec(str)) {\n        var formatters = [];\n        var doReduce = false;\n\n        if (match[0].includes(this.formatSeparator) && !/{.*}/.test(match[1])) {\n          var r = match[1].split(this.formatSeparator).map(function (elem) {\n            return elem.trim();\n          });\n          match[1] = r.shift();\n          formatters = r;\n          doReduce = true;\n        }\n\n        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n        if (value && match[0] === str && typeof value !== 'string') return value;\n        if (typeof value !== 'string') value = makeString(value);\n\n        if (!value) {\n          this.logger.warn(\"missed to resolve \".concat(match[1], \" for nesting \").concat(str));\n          value = '';\n        }\n\n        if (doReduce) {\n          value = formatters.reduce(function (v, f) {\n            return _this2.format(v, f, options.lng, options);\n          }, value.trim());\n        }\n\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n      }\n\n      return str;\n    }\n  }]);\n\n  return Interpolator;\n}();\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var _this;\n\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Connector).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n\n    return _this;\n  }\n\n  _createClass(Connector, [{\n    key: \"queueLoad\",\n    value: function queueLoad(languages, namespaces, options, callback) {\n      var _this2 = this;\n\n      var toLoad = [];\n      var pending = [];\n      var toLoadLanguages = [];\n      var toLoadNamespaces = [];\n      languages.forEach(function (lng) {\n        var hasAllNamespaces = true;\n        namespaces.forEach(function (ns) {\n          var name = \"\".concat(lng, \"|\").concat(ns);\n\n          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n            _this2.state[name] = 2;\n          } else if (_this2.state[name] < 0) ;else if (_this2.state[name] === 1) {\n            if (pending.indexOf(name) < 0) pending.push(name);\n          } else {\n            _this2.state[name] = 1;\n            hasAllNamespaces = false;\n            if (pending.indexOf(name) < 0) pending.push(name);\n            if (toLoad.indexOf(name) < 0) toLoad.push(name);\n            if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n          }\n        });\n        if (!hasAllNamespaces) toLoadLanguages.push(lng);\n      });\n\n      if (toLoad.length || pending.length) {\n        this.queue.push({\n          pending: pending,\n          loaded: {},\n          errors: [],\n          callback: callback\n        });\n      }\n\n      return {\n        toLoad: toLoad,\n        pending: pending,\n        toLoadLanguages: toLoadLanguages,\n        toLoadNamespaces: toLoadNamespaces\n      };\n    }\n  }, {\n    key: \"loaded\",\n    value: function loaded(name, err, data) {\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      if (err) this.emit('failedLoading', lng, ns, err);\n\n      if (data) {\n        this.store.addResourceBundle(lng, ns, data);\n      }\n\n      this.state[name] = err ? -1 : 2;\n      var loaded = {};\n      this.queue.forEach(function (q) {\n        pushPath(q.loaded, [lng], ns);\n        remove(q.pending, name);\n        if (err) q.errors.push(err);\n\n        if (q.pending.length === 0 && !q.done) {\n          Object.keys(q.loaded).forEach(function (l) {\n            if (!loaded[l]) loaded[l] = [];\n\n            if (q.loaded[l].length) {\n              q.loaded[l].forEach(function (ns) {\n                if (loaded[l].indexOf(ns) < 0) loaded[l].push(ns);\n              });\n            }\n          });\n          q.done = true;\n\n          if (q.errors.length) {\n            q.callback(q.errors);\n          } else {\n            q.callback();\n          }\n        }\n      });\n      this.emit('loaded', loaded);\n      this.queue = this.queue.filter(function (q) {\n        return !q.done;\n      });\n    }\n  }, {\n    key: \"read\",\n    value: function read(lng, ns, fcName) {\n      var _this3 = this;\n\n      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 350;\n      var callback = arguments.length > 5 ? arguments[5] : undefined;\n      if (!lng.length) return callback(null, {});\n      return this.backend[fcName](lng, ns, function (err, data) {\n        if (err && data && tried < 5) {\n          setTimeout(function () {\n            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n          }, wait);\n          return;\n        }\n\n        callback(err, data);\n      });\n    }\n  }, {\n    key: \"prepareLoading\",\n    value: function prepareLoading(languages, namespaces) {\n      var _this4 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n\n      if (!this.backend) {\n        this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n        return callback && callback();\n      }\n\n      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      var toLoad = this.queueLoad(languages, namespaces, options, callback);\n\n      if (!toLoad.toLoad.length) {\n        if (!toLoad.pending.length) callback();\n        return null;\n      }\n\n      toLoad.toLoad.forEach(function (name) {\n        _this4.loadOne(name);\n      });\n    }\n  }, {\n    key: \"load\",\n    value: function load(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {}, callback);\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {\n        reload: true\n      }, callback);\n    }\n  }, {\n    key: \"loadOne\",\n    value: function loadOne(name) {\n      var _this5 = this;\n\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      this.read(lng, ns, 'read', undefined, undefined, function (err, data) {\n        if (err) _this5.logger.warn(\"\".concat(prefix, \"loading namespace \").concat(ns, \" for language \").concat(lng, \" failed\"), err);\n        if (!err && data) _this5.logger.log(\"\".concat(prefix, \"loaded namespace \").concat(ns, \" for language \").concat(lng), data);\n\n        _this5.loaded(name, err, data);\n      });\n    }\n  }, {\n    key: \"saveMissing\",\n    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n        this.logger.warn(\"did not save key \\\"\".concat(key, \"\\\" as the namespace \\\"\").concat(namespace, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        return;\n      }\n\n      if (key === undefined || key === null || key === '') return;\n\n      if (this.backend && this.backend.create) {\n        this.backend.create(languages, namespace, key, fallbackValue, null, _objectSpread({}, options, {\n          isUpdate: isUpdate\n        }));\n      }\n\n      if (!languages || !languages[0]) return;\n      this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n  }]);\n\n  return Connector;\n}(EventEmitter);\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    whitelist: false,\n    nonExplicitWhitelist: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: true,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      var ret = {};\n      if (_typeof(args[1]) === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n\n      if (_typeof(args[2]) === 'object' || _typeof(args[3]) === 'object') {\n        var options = args[3] || args[2];\n        Object.keys(options).forEach(function (key) {\n          ret[key] = options[key];\n        });\n      }\n\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng, options) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: false\n    }\n  };\n}\n\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  if (options.whitelist) {\n    if (options.whitelist && options.whitelist.indexOf('cimode') < 0) {\n      options.whitelist = options.whitelist.concat(['cimode']);\n    }\n\n    options.supportedLngs = options.whitelist;\n  }\n\n  if (options.nonExplicitWhitelist) {\n    options.nonExplicitSupportedLngs = options.nonExplicitWhitelist;\n  }\n\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n\n  return options;\n}\n\nfunction noop() {}\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, I18n);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(I18n).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = {\n      external: []\n    };\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      if (!_this.options.initImmediate) {\n        _this.init(options, callback);\n\n        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n      }\n\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n\n    return _this;\n  }\n\n  _createClass(I18n, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n\n      if (options.whitelist && !options.supportedLngs) {\n        this.logger.deprecate('whitelist', 'option \"whitelist\" will be renamed to \"supportedLngs\" in the next major - please make sure to rename this option asap.');\n      }\n\n      if (options.nonExplicitWhitelist && !options.nonExplicitSupportedLngs) {\n        this.logger.deprecate('whitelist', 'options \"nonExplicitWhitelist\" will be renamed to \"nonExplicitSupportedLngs\" in the next major - please make sure to rename this option asap.');\n      }\n\n      this.options = _objectSpread({}, get(), this.options, transformOptions(options));\n      this.format = this.options.interpolation.format;\n      if (!callback) callback = noop;\n\n      function createClassOnDemand(ClassOrObject) {\n        if (!ClassOrObject) return null;\n        if (typeof ClassOrObject === 'function') return new ClassOrObject();\n        return ClassOrObject;\n      }\n\n      if (!this.options.isClone) {\n        if (this.modules.logger) {\n          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n        } else {\n          baseLogger.init(null, this.options);\n        }\n\n        var lu = new LanguageUtil(this.options);\n        this.store = new ResourceStore(this.options.resources, this.options);\n        var s = this.services;\n        s.logger = baseLogger;\n        s.resourceStore = this.store;\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, {\n          prepend: this.options.pluralSeparator,\n          compatibilityJSON: this.options.compatibilityJSON,\n          simplifyPluralSuffix: this.options.simplifyPluralSuffix\n        });\n        s.interpolator = new Interpolator(this.options);\n        s.utils = {\n          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n        };\n        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n\n        if (this.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n          s.languageDetector.init(s, this.options.detection, this.options);\n        }\n\n        if (this.modules.i18nFormat) {\n          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n          if (s.i18nFormat.init) s.i18nFormat.init(this);\n        }\n\n        this.translator = new Translator(this.services, this.options);\n        this.translator.on('*', function (event) {\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        this.modules.external.forEach(function (m) {\n          if (m.init) m.init(_this2);\n        });\n      }\n\n      if (!this.modules.languageDetector && !this.options.lng) {\n        this.logger.warn('init: no languageDetector is used and no lng is defined');\n      }\n\n      var storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n      storeApi.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store;\n\n          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);\n        };\n      });\n      var storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n      storeApiChained.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store2;\n\n          (_this2$store2 = _this2.store)[fcName].apply(_this2$store2, arguments);\n\n          return _this2;\n        };\n      });\n      var deferred = defer();\n\n      var load = function load() {\n        _this2.changeLanguage(_this2.options.lng, function (err, t) {\n          _this2.isInitialized = true;\n\n          _this2.logger.log('initialized', _this2.options);\n\n          _this2.emit('initialized', _this2.options);\n\n          deferred.resolve(t);\n          callback(err, t);\n        });\n      };\n\n      if (this.options.resources || !this.options.initImmediate) {\n        load();\n      } else {\n        setTimeout(load, 0);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"loadResources\",\n    value: function loadResources(language) {\n      var _this3 = this;\n\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var usedCallback = callback;\n      var usedLng = typeof language === 'string' ? language : this.language;\n      if (typeof language === 'function') usedCallback = language;\n\n      if (!this.options.resources || this.options.partialBundledLanguages) {\n        if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();\n        var toLoad = [];\n\n        var append = function append(lng) {\n          if (!lng) return;\n\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n\n        if (!usedLng) {\n          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n          fallbacks.forEach(function (l) {\n            return append(l);\n          });\n        } else {\n          append(usedLng);\n        }\n\n        if (this.options.preload) {\n          this.options.preload.forEach(function (l) {\n            return append(l);\n          });\n        }\n\n        this.services.backendConnector.load(toLoad, this.options.ns, usedCallback);\n      } else {\n        usedCallback(null);\n      }\n    }\n  }, {\n    key: \"reloadResources\",\n    value: function reloadResources(lngs, ns, callback) {\n      var deferred = defer();\n      if (!lngs) lngs = this.languages;\n      if (!ns) ns = this.options.ns;\n      if (!callback) callback = noop;\n      this.services.backendConnector.reload(lngs, ns, function (err) {\n        deferred.resolve();\n        callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"use\",\n    value: function use(module) {\n      if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n      if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n\n      if (module.type === 'backend') {\n        this.modules.backend = module;\n      }\n\n      if (module.type === 'logger' || module.log && module.warn && module.error) {\n        this.modules.logger = module;\n      }\n\n      if (module.type === 'languageDetector') {\n        this.modules.languageDetector = module;\n      }\n\n      if (module.type === 'i18nFormat') {\n        this.modules.i18nFormat = module;\n      }\n\n      if (module.type === 'postProcessor') {\n        postProcessor.addPostProcessor(module);\n      }\n\n      if (module.type === '3rdParty') {\n        this.modules.external.push(module);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng, callback) {\n      var _this4 = this;\n\n      this.isLanguageChangingTo = lng;\n      var deferred = defer();\n      this.emit('languageChanging', lng);\n\n      var done = function done(err, l) {\n        if (l) {\n          _this4.language = l;\n          _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n\n          _this4.translator.changeLanguage(l);\n\n          _this4.isLanguageChangingTo = undefined;\n\n          _this4.emit('languageChanged', l);\n\n          _this4.logger.log('languageChanged', l);\n        } else {\n          _this4.isLanguageChangingTo = undefined;\n        }\n\n        deferred.resolve(function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n        if (callback) callback(err, function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n      };\n\n      var setLng = function setLng(lngs) {\n        var l = typeof lngs === 'string' ? lngs : _this4.services.languageUtils.getBestMatchFromCodes(lngs);\n\n        if (l) {\n          if (!_this4.language) {\n            _this4.language = l;\n            _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n          }\n\n          if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n          if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n        }\n\n        _this4.loadResources(l, function (err) {\n          done(err, l);\n        });\n      };\n\n      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n        setLng(this.services.languageDetector.detect());\n      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n        this.services.languageDetector.detect(setLng);\n      } else {\n        setLng(lng);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"getFixedT\",\n    value: function getFixedT(lng, ns) {\n      var _this5 = this;\n\n      var fixedT = function fixedT(key, opts) {\n        var options;\n\n        if (_typeof(opts) !== 'object') {\n          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n            rest[_key3 - 2] = arguments[_key3];\n          }\n\n          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n        } else {\n          options = _objectSpread({}, opts);\n        }\n\n        options.lng = options.lng || fixedT.lng;\n        options.lngs = options.lngs || fixedT.lngs;\n        options.ns = options.ns || fixedT.ns;\n        return _this5.t(key, options);\n      };\n\n      if (typeof lng === 'string') {\n        fixedT.lng = lng;\n      } else {\n        fixedT.lngs = lng;\n      }\n\n      fixedT.ns = ns;\n      return fixedT;\n    }\n  }, {\n    key: \"t\",\n    value: function t() {\n      var _this$translator;\n\n      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);\n    }\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      var _this$translator2;\n\n      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);\n    }\n  }, {\n    key: \"setDefaultNamespace\",\n    value: function setDefaultNamespace(ns) {\n      this.options.defaultNS = ns;\n    }\n  }, {\n    key: \"hasLoadedNamespace\",\n    value: function hasLoadedNamespace(ns) {\n      var _this6 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!this.isInitialized) {\n        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n        return false;\n      }\n\n      if (!this.languages || !this.languages.length) {\n        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n        return false;\n      }\n\n      var lng = this.languages[0];\n      var fallbackLng = this.options ? this.options.fallbackLng : false;\n      var lastLng = this.languages[this.languages.length - 1];\n      if (lng.toLowerCase() === 'cimode') return true;\n\n      var loadNotPending = function loadNotPending(l, n) {\n        var loadState = _this6.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n\n        return loadState === -1 || loadState === 2;\n      };\n\n      if (options.precheck) {\n        var preResult = options.precheck(this, loadNotPending);\n        if (preResult !== undefined) return preResult;\n      }\n\n      if (this.hasResourceBundle(lng, ns)) return true;\n      if (!this.services.backendConnector.backend) return true;\n      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n      return false;\n    }\n  }, {\n    key: \"loadNamespaces\",\n    value: function loadNamespaces(ns, callback) {\n      var _this7 = this;\n\n      var deferred = defer();\n\n      if (!this.options.ns) {\n        callback && callback();\n        return Promise.resolve();\n      }\n\n      if (typeof ns === 'string') ns = [ns];\n      ns.forEach(function (n) {\n        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);\n      });\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"loadLanguages\",\n    value: function loadLanguages(lngs, callback) {\n      var deferred = defer();\n      if (typeof lngs === 'string') lngs = [lngs];\n      var preloaded = this.options.preload || [];\n      var newLngs = lngs.filter(function (lng) {\n        return preloaded.indexOf(lng) < 0;\n      });\n\n      if (!newLngs.length) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n\n      this.options.preload = preloaded.concat(newLngs);\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"dir\",\n    value: function dir(lng) {\n      if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;\n      if (!lng) return 'rtl';\n      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n      return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n    }\n  }, {\n    key: \"createInstance\",\n    value: function createInstance() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      return new I18n(options, callback);\n    }\n  }, {\n    key: \"cloneInstance\",\n    value: function cloneInstance() {\n      var _this8 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      var mergedOptions = _objectSpread({}, this.options, options, {\n        isClone: true\n      });\n\n      var clone = new I18n(mergedOptions);\n      var membersToCopy = ['store', 'services', 'language'];\n      membersToCopy.forEach(function (m) {\n        clone[m] = _this8[m];\n      });\n      clone.services = _objectSpread({}, this.services);\n      clone.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      clone.translator = new Translator(clone.services, clone.options);\n      clone.translator.on('*', function (event) {\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n\n        clone.emit.apply(clone, [event].concat(args));\n      });\n      clone.init(mergedOptions, callback);\n      clone.translator.options = clone.options;\n      clone.translator.backendConnector.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      return clone;\n    }\n  }]);\n\n  return I18n;\n}(EventEmitter);\n\nvar i18next = new I18n();\nexport default i18next;","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport en from '../translation/en.json'\n\n\ni18n\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources: {\n      en: {\n        translation: en\n      },\n    },\n    lng: \"en\",\n\n    keySeparator: false, // we do not use keys in form messages.welcome\n\n    interpolation: {\n      escapeValue: false // react already safes from xss\n    }\n  });\n\n  export default i18n;","import React from \"react\"\nimport { Grommet, Box, Button, Text, Menu } from 'grommet';\nimport { grommet } from 'grommet/themes';\nimport '../pages/index.css'\nimport './i18n';\nimport { navigateTo } from 'gatsby-link';\nimport { Adsense } from '@ctrl/react-adsense';\n\nconst Home = ({ location, children, max = '560px' }) => {\n\n  return <Grommet full theme={grommet}>\n      <Box\n        gridArea=\"header\"\n        direction=\"row\"\n        align=\"center\"\n        pad={{ horizontal: 'medium', vertical: 'small' }}\n        background=\"brand\"\n      >\n        <Button margin={{ right: '20px'}} onClick={() => { navigateTo('/') }}>\n          <Text size=\"large\">OpenFengShui</Text>\n        </Button>\n        <Menu label=\"Tools\" items={[\n          { label: 'QM Hour', onClick: () => { navigateTo('/qmdj/hour') } },\n          { label: 'QM Month/Day', onClick: () => { navigateTo('/qmdj/month') } },\n          { label: 'QiMen Finder', onClick: () => { navigateTo('/qmdj/finder') } },\n          { label: 'Flying Star', onClick: () => { navigateTo('/flyingstar/chart') } },\n          { label: '8 Mansion', onClick: () => { navigateTo('/bazhai/chart') } },\n          { label: 'Calendar', onClick: () => { navigateTo('/calendar/page') } },\n          { label: 'Bazi', onClick: () => { navigateTo('/bazi/chart') } },\n          { label: 'I Ching', onClick: () => { navigateTo('/iching/') } },\n        ]} />\n\n        <Menu label=\"Videos\" items={[\n          { label: 'Metaphysics', onClick: () => { navigateTo('/videos/metaphysics') } },\n        ]} />\n\n\n        <Menu label=\"Support\" items={[\n          { label: 'Donate', onClick: () => { navigateTo('https://www.paypal.me/openfengshui') } },\n        ]} />\n      </Box>\n      <Box \n        align=\"center\"\n        justify=\"center\"\n        pad=\"small\"\n      >\n        <Box \n          pad={{\n            bottom: '64px'\n          }}\n          fill=\"horizontal\"\n          width={{\n          min: '360px',\n          max\n        }} >\n\n          { children }\n        </Box>\n        <Adsense\n            client=\"ca-pub-6343289823091285\"\n            slot=\"5114483936\"\n          />\n      </Box>\n    </Grommet>\n}\n\nexport default Home\n","import { useEffect, useRef } from 'react'; // https://medium.com/the-non-traditional-developer/how-to-use-the-forwarded-ref-in-react-1fb108f4e6af\n\nexport var useForwardedRef = function useForwardedRef(ref) {\n  var innerRef = useRef(null);\n  useEffect(function () {\n    if (!ref) return;\n\n    if (typeof ref === 'function') {\n      ref(innerRef.current);\n    } else {\n      // eslint-disable-next-line no-param-reassign\n      ref.current = innerRef.current;\n    }\n  });\n  return innerRef;\n};","export var findScrollParent = function findScrollParent(element, horizontal) {\n  var result;\n\n  if (element) {\n    var parent = element.parentNode;\n\n    while (!result && parent && parent.getBoundingClientRect) {\n      var rect = parent.getBoundingClientRect(); // 10px is to account for borders and scrollbars in a lazy way\n\n      if (horizontal) {\n        if (rect.width && parent.scrollWidth > rect.width + 10) {\n          result = parent;\n        }\n      } else if (rect.height && parent.scrollHeight > rect.height + 10) {\n        result = parent;\n      }\n\n      parent = parent.parentNode;\n    } // last scrollable element will be the document\n    // if nothing else is scrollable in the page\n\n\n    if (!result) {\n      result = document;\n    } else if (result.tagName.toLowerCase() === 'body') {\n      result = document;\n    }\n  }\n\n  return result;\n};\nexport var findScrollParents = function findScrollParents(element, horizontal) {\n  var result = [];\n\n  if (element) {\n    var parent = element.parentNode;\n\n    while (parent && parent.getBoundingClientRect) {\n      var rect = parent.getBoundingClientRect(); // 10px is to account for borders and scrollbars in a lazy way\n\n      if (horizontal) {\n        if (rect.width && parent.scrollWidth > rect.width + 10) {\n          result.push(parent);\n        }\n      } else if (rect.height && parent.scrollHeight > rect.height + 10) {\n        result.push(parent);\n      }\n\n      parent = parent.parentNode;\n    } // last scrollable element will be the document\n    // if nothing else is scrollable in the page\n\n\n    if (result.length === 0) {\n      result.push(document);\n    } else if (result[0].tagName.toLowerCase() === 'body') {\n      result.length = 0;\n      result.push(document);\n    }\n  }\n\n  return result;\n};\nexport var containsFocus = function containsFocus(node) {\n  var element = document.activeElement;\n\n  while (element) {\n    if (element === node) break;\n    element = element.parentElement;\n  }\n\n  return !!element;\n};\nexport var getFirstFocusableDescendant = function getFirstFocusableDescendant(element) {\n  var children = element.getElementsByTagName('*');\n\n  for (var i = 0; i < children.length; i += 1) {\n    var child = children[i];\n    var tagName = child.tagName.toLowerCase();\n\n    if (tagName === 'input' || tagName === 'select') {\n      return child;\n    }\n  }\n\n  return undefined;\n};\nexport var getBodyChildElements = function getBodyChildElements() {\n  var excludeMatch = /^(script|link)$/i;\n  var children = [];\n  [].forEach.call(document.body.children, function (node) {\n    if (!excludeMatch.test(node.tagName)) {\n      children.push(node);\n    }\n  });\n  return children;\n};\nexport var getNewContainer = function getNewContainer(target, targetChildPosition) {\n  if (target === void 0) {\n    target = document.body;\n  } // setup DOM\n\n\n  var container = document.createElement('div');\n\n  if (targetChildPosition === 'first') {\n    // for SkipLinks\n    target.prepend(container);\n  } else {\n    target.appendChild(container);\n  }\n\n  return container;\n};\nexport var setFocusWithoutScroll = function setFocusWithoutScroll(element) {\n  var x = window.scrollX;\n  var y = window.scrollY;\n  element.focus();\n  window.scrollTo(x, y);\n};\nvar TABINDEX = 'tabindex';\nvar TABINDEX_STATE = 'data-g-tabindex';\nexport var makeNodeFocusable = function makeNodeFocusable(node) {\n  // do not touch aria live containers so that announcements work\n  if (!node.hasAttribute('aria-live')) {\n    node.setAttribute('aria-hidden', false); // allow children to receive focus again\n\n    var elements = node.getElementsByTagName('*'); // only reset elements we've changed in makeNodeUnfocusable()\n\n    Array.prototype.filter.call(elements || [], function (element) {\n      return element.hasAttribute(TABINDEX_STATE);\n    }).forEach(function (element) {\n      var prior = element.getAttribute(TABINDEX_STATE);\n\n      if (prior >= 0) {\n        element.setAttribute(TABINDEX, element.getAttribute(TABINDEX_STATE));\n      } else if (prior === 'none') {\n        element.removeAttribute(TABINDEX);\n      }\n\n      element.removeAttribute(TABINDEX_STATE);\n    });\n  }\n};\nvar autoFocusingTags = /(a|area|input|select|textarea|button|iframe)$/;\nexport var makeNodeUnfocusable = function makeNodeUnfocusable(node) {\n  // do not touch aria live containers so that announcements work\n  if (!node.hasAttribute('aria-live')) {\n    node.setAttribute('aria-hidden', true); // prevent children to receive focus\n\n    var elements = node.getElementsByTagName('*'); // first, save off the tabIndex of any element with one\n\n    Array.prototype.filter.call(elements || [], function (element) {\n      return element.getAttribute(TABINDEX) !== null;\n    }).forEach(function (element) {\n      element.setAttribute(TABINDEX_STATE, element.getAttribute(TABINDEX));\n      element.setAttribute(TABINDEX, -1);\n    }); // then, if any element is inherently focusable and not handled above,\n    // give it a tabIndex of -1 so it can't receive focus\n\n    Array.prototype.filter.call(elements || [], function (element) {\n      var currentTag = element.tagName.toLowerCase();\n      return currentTag.match(autoFocusingTags) && element.focus && element.getAttribute(TABINDEX_STATE) === null;\n    }).forEach(function (element) {\n      element.setAttribute(TABINDEX_STATE, 'none');\n      element.setAttribute(TABINDEX, -1);\n    });\n  }\n};\nexport var findVisibleParent = function findVisibleParent(element) {\n  if (element) {\n    return element.offsetParent ? element : findVisibleParent(element.parentElement) || element;\n  }\n\n  return undefined;\n};\nexport var isNodeAfterScroll = function isNodeAfterScroll(node, target) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n      bottom = _node$getBoundingClie.bottom; // target will be the document from findScrollParent()\n\n\n  var _ref = target.getBoundingClientRect ? target.getBoundingClientRect() : {\n    height: 0,\n    top: 0\n  },\n      height = _ref.height,\n      top = _ref.top;\n\n  return bottom >= top + height;\n};\nexport var isNodeBeforeScroll = function isNodeBeforeScroll(node, target) {\n  var _node$getBoundingClie2 = node.getBoundingClientRect(),\n      top = _node$getBoundingClie2.top; // target will be the document from findScrollParent()\n\n\n  var _ref2 = target.getBoundingClientRect ? target.getBoundingClientRect() : {\n    top: 0\n  },\n      targetTop = _ref2.top;\n\n  return top <= targetTop;\n};","\"use strict\";\n\nexports.__esModule = true;\nexports.base = exports.generate = void 0;\n\nvar _polished = require(\"polished\");\n\nvar _Actions = require(\"grommet-icons/icons/Actions\");\n\nvar _ClosedCaption = require(\"grommet-icons/icons/ClosedCaption\");\n\nvar _Expand = require(\"grommet-icons/icons/Expand\");\n\nvar _FormDown = require(\"grommet-icons/icons/FormDown\");\n\nvar _FormNext = require(\"grommet-icons/icons/FormNext\");\n\nvar _FormPrevious = require(\"grommet-icons/icons/FormPrevious\");\n\nvar _FormUp = require(\"grommet-icons/icons/FormUp\");\n\nvar _Next = require(\"grommet-icons/icons/Next\");\n\nvar _Pause = require(\"grommet-icons/icons/Pause\");\n\nvar _Play = require(\"grommet-icons/icons/Play\");\n\nvar _Previous = require(\"grommet-icons/icons/Previous\");\n\nvar _Subtract = require(\"grommet-icons/icons/Subtract\");\n\nvar _Volume = require(\"grommet-icons/icons/Volume\");\n\nvar _VolumeLow = require(\"grommet-icons/icons/VolumeLow\");\n\nvar _base = require(\"grommet-icons/themes/base\");\n\nvar _object = require(\"../utils/object\");\n\nvar _mixins = require(\"../utils/mixins\");\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar brandColor = '#7D4CDB';\nvar accentColors = ['#6FFFB0', '#FD6FFF', '#81FCED', '#FFCA58'];\nvar neutralColors = ['#00873D', '#3D138D', '#00739D', '#A2423D'];\nvar statusColors = {\n  critical: '#FF4040',\n  error: '#FF4040',\n  warning: '#FFAA15',\n  ok: '#00C781',\n  unknown: '#CCCCCC',\n  disabled: '#CCCCCC'\n};\nvar darkColors = ['#333333', '#555555', '#777777', '#999999', '#999999', '#999999'];\nvar lightColors = ['#F8F8F8', '#F2F2F2', '#EDEDED', '#DADADA', '#DADADA', '#DADADA'];\nvar focusColor = accentColors[0];\nvar colors = {\n  active: (0, _polished.rgba)(221, 221, 221, 0.5),\n  'background-back': {\n    dark: '#33333308',\n    light: '#EDEDED'\n  },\n  'background-front': {\n    dark: '#444444',\n    light: '#FFFFFF'\n  },\n  'background-contrast': {\n    dark: '#33333308',\n    light: '#FFFFFF08'\n  },\n  'active-background': 'background-contrast',\n  'active-text': 'text-strong',\n  black: '#000000',\n  border: {\n    dark: (0, _polished.rgba)(255, 255, 255, 0.33),\n    light: (0, _polished.rgba)(0, 0, 0, 0.33)\n  },\n  brand: brandColor,\n  control: {\n    dark: 'accent-1',\n    light: 'brand'\n  },\n  focus: focusColor,\n  'graph-0': 'accent-1',\n  'graph-1': 'neutral-1',\n  'graph-2': 'neutral-2',\n  'graph-3': 'neutral-3',\n  'graph-4': 'neutral-4',\n  placeholder: '#AAAAAA',\n  selected: 'brand',\n  text: {\n    dark: '#f8f8f8',\n    light: '#444444'\n  },\n  'text-strong': {\n    dark: '#FFFFFF',\n    light: '#000000'\n  },\n  'text-weak': {\n    dark: '#CCCCCC',\n    light: '#555555'\n  },\n  'text-xweak': {\n    dark: '#BBBBBB',\n    light: '#666666'\n  },\n  icon: {\n    dark: '#f8f8f8',\n    light: '#666666'\n  },\n  'selected-background': 'brand',\n  'selected-text': 'text-strong',\n  white: '#FFFFFF'\n};\n\nvar colorArray = function colorArray(array, prefix) {\n  return array.forEach(function (color, index) {\n    colors[prefix + \"-\" + (index + 1)] = color;\n  });\n};\n\ncolorArray(accentColors, 'accent');\ncolorArray(darkColors, 'dark');\ncolorArray(lightColors, 'light');\ncolorArray(neutralColors, 'neutral');\nObject.keys(statusColors).forEach(function (color) {\n  colors[\"status-\" + color] = statusColors[color];\n});\n\nvar generate = function generate(baseSpacing, scale) {\n  if (baseSpacing === void 0) {\n    baseSpacing = 24;\n  }\n\n  if (scale === void 0) {\n    scale = 6;\n  } // 24\n\n\n  var baseFontSize = baseSpacing * 0.75; // 18\n\n  var fontScale = baseSpacing / scale; // 4\n\n  var fontSizing = function fontSizing(factor) {\n    return {\n      size: baseFontSize + factor * fontScale + \"px\",\n      height: baseSpacing + factor * fontScale + \"px\",\n      // maxWidth chosen to be ~50 characters wide\n      // see: https://ux.stackexchange.com/a/34125\n      maxWidth: baseSpacing * (baseFontSize + factor * fontScale) + \"px\"\n    };\n  };\n\n  var borderWidth = 2;\n  var controlBorderWidth = 1;\n  var result = (0, _object.deepMerge)(_base.base, {\n    global: {\n      active: {\n        background: {\n          color: 'active',\n          opacity: 'medium'\n        },\n        color: {\n          dark: 'white',\n          light: 'black'\n        }\n      },\n      animation: {\n        duration: '1s',\n        jiggle: {\n          duration: '0.1s'\n        }\n      },\n      borderSize: {\n        xsmall: '1px',\n        small: '2px',\n        medium: baseSpacing / 6 + \"px\",\n        // 4\n        large: baseSpacing / 2 + \"px\",\n        // 12\n        xlarge: baseSpacing + \"px\" // 24\n\n      },\n      breakpoints: {\n        small: {\n          value: baseSpacing * 32,\n          // 768\n          borderSize: {\n            xsmall: '1px',\n            small: '2px',\n            medium: baseSpacing / 6 + \"px\",\n            // 4\n            large: baseSpacing / 4 + \"px\",\n            // 6\n            xlarge: baseSpacing / 2 + \"px\" // 12\n\n          },\n          edgeSize: {\n            none: '0px',\n            hair: '1px',\n            // for Chart\n            xxsmall: '2px',\n            xsmall: baseSpacing / 8 + \"px\",\n            // 3\n            small: baseSpacing / 4 + \"px\",\n            // 6\n            medium: baseSpacing / 2 + \"px\",\n            // 12\n            large: baseSpacing + \"px\",\n            // 24\n            xlarge: baseSpacing * 2 + \"px\" // 48\n\n          },\n          size: {\n            xxsmall: baseSpacing + \"px\",\n            // 24\n            xsmall: baseSpacing * 2 + \"px\",\n            // 48\n            small: baseSpacing * 4 + \"px\",\n            // 96\n            medium: baseSpacing * 8 + \"px\",\n            // 192\n            large: baseSpacing * 16 + \"px\",\n            // 384\n            xlarge: baseSpacing * 32 + \"px\",\n            // 768\n            full: '100%'\n          }\n        },\n        medium: {\n          value: baseSpacing * 64 // 1536\n\n        },\n        large: {} // anything above 'medium'\n\n      },\n      // Breakpoints used at Server Side Rendering for the initial rendering\n      // These values correspond to the theme breakpoints\n      deviceBreakpoints: {\n        phone: 'small',\n        tablet: 'medium',\n        computer: 'large'\n      },\n      colors: colors,\n      control: {\n        border: {\n          width: controlBorderWidth + \"px\",\n          radius: '4px',\n          color: 'border'\n        },\n        disabled: {\n          opacity: 0.3\n        }\n      },\n      // The time to wait after the user stopped typing, measured in ms.\n      debounceDelay: 300,\n      drop: {\n        background: '#ffffff',\n        border: {\n          radius: '0px'\n        },\n        shadowSize: 'small',\n        zIndex: '20'\n      },\n      edgeSize: {\n        none: '0px',\n        hair: '1px',\n        // for Chart\n        xxsmall: baseSpacing / 8 + \"px\",\n        // 3\n        xsmall: baseSpacing / 4 + \"px\",\n        // 6\n        small: baseSpacing / 2 + \"px\",\n        // 12\n        medium: baseSpacing + \"px\",\n        // 24\n        large: baseSpacing * 2 + \"px\",\n        // 48\n        xlarge: baseSpacing * 4 + \"px\",\n        // 96\n        responsiveBreakpoint: 'small'\n      },\n      elevation: {\n        light: {\n          none: 'none',\n          xsmall: '0px 1px 2px rgba(0, 0, 0, 0.20)',\n          small: '0px 2px 4px rgba(0, 0, 0, 0.20)',\n          medium: '0px 4px 8px rgba(0, 0, 0, 0.20)',\n          large: '0px 8px 16px rgba(0, 0, 0, 0.20)',\n          xlarge: '0px 12px 24px rgba(0, 0, 0, 0.20)'\n        },\n        dark: {\n          none: 'none',\n          xsmall: '0px 2px 2px rgba(255, 255, 255, 0.40)',\n          small: '0px 4px 4px rgba(255, 255, 255, 0.40)',\n          medium: '0px 6px 8px rgba(255, 255, 255, 0.40)',\n          large: '0px 8px 16px rgba(255, 255, 255, 0.40)',\n          xlarge: '0px 12px 24px rgba(255, 255, 255, 0.40)'\n        }\n      },\n      focus: {\n        // shadow or outline are required for accessibility\n        border: {\n          // remove to only have shadow\n          color: 'focus'\n        },\n        // outline: { color: undefined, size: undefined },\n        shadow: {\n          color: 'focus',\n          size: '2px'\n        }\n      },\n      font: _extends({}, fontSizing(0)),\n      hover: {\n        background: {\n          color: 'active',\n          opacity: 'medium'\n        },\n        color: {\n          dark: 'white',\n          light: 'black'\n        }\n      },\n      input: {\n        padding: {\n          horizontal: (0, _mixins.parseMetricToNum)(baseSpacing / 2 + \"px\") - (0, _mixins.parseMetricToNum)(controlBorderWidth + \"px\") + \"px\",\n          vertical: (0, _mixins.parseMetricToNum)(baseSpacing / 2 + \"px\") - (0, _mixins.parseMetricToNum)(controlBorderWidth + \"px\") + \"px\"\n        },\n        font: {\n          // size: undefined,\n          // height: undefined,\n          weight: 600\n        } // deprecate in v3\n        // weight: undefined,\n\n      },\n      opacity: {\n        strong: 0.8,\n        medium: 0.4,\n        weak: 0.1\n      },\n      selected: {\n        background: 'selected',\n        color: 'white'\n      },\n      spacing: baseSpacing + \"px\",\n      size: {\n        xxsmall: baseSpacing * 2 + \"px\",\n        // 48\n        xsmall: baseSpacing * 4 + \"px\",\n        // 96\n        small: baseSpacing * 8 + \"px\",\n        // 192\n        medium: baseSpacing * 16 + \"px\",\n        // 384\n        large: baseSpacing * 32 + \"px\",\n        // 768\n        xlarge: baseSpacing * 48 + \"px\",\n        // 1152\n        xxlarge: baseSpacing * 64 + \"px\",\n        // 1536\n        full: '100%'\n      }\n    },\n    accordion: {\n      panel: {// border: {\n        //   side: 'bottom',\n        //   color: 'border',\n        // },\n      },\n      border: {\n        side: 'bottom',\n        color: 'border'\n      },\n      heading: {\n        level: '4' // level ranges from 1-6\n        // margin: undefined\n\n      },\n      hover: {\n        color: {\n          dark: 'light-4',\n          light: 'dark-3'\n        },\n        // deprecated\n        heading: {\n          color: {\n            dark: 'light-4',\n            light: 'dark-3'\n          }\n        }\n      },\n      icons: {\n        collapse: _FormUp.FormUp,\n        expand: _FormDown.FormDown // color: { dark: undefined, light: undefined },\n\n      }\n    },\n    anchor: {\n      textDecoration: 'none',\n      fontWeight: 600,\n      color: {\n        dark: 'accent-1',\n        light: 'brand'\n      },\n      hover: {\n        textDecoration: 'underline' // fontWeight: undefined,\n        // extend: undefined,\n\n      } // extend: undefined,\n\n    },\n    avatar: {\n      // extend: undefined,\n      size: {\n        xsmall: baseSpacing * 0.75 + \"px\",\n        small: baseSpacing + \"px\",\n        medium: baseSpacing * 2 + \"px\",\n        // default 48\n        large: baseSpacing * 3 + \"px\",\n        xlarge: baseSpacing * 4 + \"px\"\n      },\n      text: {// fontWeight: undefined,\n        // extend: undefined\n      }\n    },\n    box: {\n      responsiveBreakpoint: 'small' // when we switch rows to columns\n      // extend: undefined,\n\n    },\n    button: {\n      size: {\n        small: {\n          border: {\n            radius: baseSpacing * 0.75 + \"px\"\n          },\n          pad: {\n            vertical: baseSpacing / 4 - borderWidth + \"px\",\n            // 4px\n            horizontal: baseSpacing - borderWidth * 2 + \"px\" // 20px,\n\n          }\n        },\n        medium: {\n          border: {\n            radius: baseSpacing * 0.75 + \"px\" // 18px\n\n          },\n          pad: {\n            vertical: baseSpacing / 4 - borderWidth + \"px\",\n            // 4px\n            horizontal: baseSpacing - borderWidth + \"px\" // 22px\n\n          }\n        },\n        large: {\n          border: {\n            radius: baseSpacing + \"px\" // 24px\n\n          },\n          pad: {\n            vertical: baseSpacing / 4 + borderWidth + \"px\",\n            // 8px\n            horizontal: baseSpacing + borderWidth * 4 + \"px\" // 32px,\n\n          }\n        }\n      },\n      border: {\n        // color: { dark: undefined, light: undefined }\n        width: borderWidth + \"px\",\n        radius: baseSpacing * 0.75 + \"px\"\n      },\n      // color: { dark: undefined, light: undefined }\n      // default: {\n      //   background: undefined,\n      //   border: undefined,\n      //   color: undefined,\n      //   font: {\n      //     weight: undefined,\n      //   },\n      //   padding: {\n      //     vertical: undefined,\n      //     horizontal: undefined,\n      //   },\n      //   extend: undefined,\n      // },\n      // primary: {\n      //   font: {\n      //     weight: undefined,\n      //   },\n      //   background: undefined,\n      //   border: undefined,\n      //   color: undefined,\n      //   padding: {\n      //     vertical: undefined,\n      //     horizontal: undefined,\n      //   },\n      //   extend: undefined,\n      // },\n      // secondary: {\n      //   font: {\n      //     weight: undefined,\n      //   },\n      //   background: undefined,\n      //   border: undefined,\n      //   color: undefined,\n      //   padding: {\n      //     vertical: undefined,\n      //     horizontal: undefined,\n      //   },\n      //   extend: undefined,\n      // },\n      // option: {\n      //   background: undefined,\n      //   border: undefined,\n      //   color: undefined,\n      //   padding: {\n      //     vertical: undefined,\n      //     horizontal: undefined,\n      //   },\n      //   extend: undefined,\n      // },\n      active: {\n        background: 'active-background',\n        //   border: undefined,\n        color: 'active-text' //   extend: undefined,\n        //   default: {},\n        //   primary: {},\n        //   secondary: {},\n\n      },\n      disabled: {\n        //   background: undefined,\n        //   border: undefined,\n        //   color: undefined,\n        opacity: 0.3 //   extend: undefined,\n        //   default: {},\n        //   primary: {},\n        //   secondary: {},\n\n      },\n      // hover: {\n      //   background: undefined,\n      //   border: undefined,\n      //   color: undefined},\n      //   extend: undefined,\n      //   default: {},\n      //   primary: {},\n      //   secondary: {},\n      // },\n      padding: {\n        vertical: baseSpacing / 4 - borderWidth + \"px\",\n        horizontal: baseSpacing - borderWidth + \"px\"\n      },\n      transition: {\n        timing: 'ease-in-out',\n        duration: 0.1,\n        properties: ['color', 'background-color', 'border-color', 'box-shadow']\n      }\n    },\n    calendar: {\n      // daySize must align with global.size\n      small: {\n        fontSize: baseFontSize - fontScale + \"px\",\n        lineHeight: 1.375,\n        daySize: baseSpacing * 8 / 7 + \"px\",\n        slideDuration: '0.2s'\n      },\n      medium: {\n        fontSize: baseFontSize + \"px\",\n        lineHeight: 1.45,\n        daySize: baseSpacing * 16 / 7 + \"px\",\n        slideDuration: '0.5s'\n      },\n      large: {\n        fontSize: baseFontSize + 3 * fontScale + \"px\",\n        lineHeight: 1.11,\n        daySize: baseSpacing * 32 / 7 + \"px\",\n        slideDuration: '0.8s'\n      },\n      icons: {\n        previous: _Previous.Previous,\n        next: _Next.Next,\n        small: {\n          previous: _FormPrevious.FormPrevious,\n          next: _FormNext.FormNext\n        }\n      },\n      heading: {\n        level: '4'\n      } // level ranges from 1-6\n\n    },\n    card: {\n      container: {\n        round: 'small',\n        elevation: 'small'\n      },\n      header: {},\n      body: {},\n      footer: {\n        background: 'background-contrast'\n      }\n    },\n    carousel: {\n      icons: {\n        current: _Subtract.Subtract,\n        next: _Next.Next,\n        previous: _Previous.Previous // color: { dark: undefined, light: undefined },\n\n      },\n      animation: {\n        duration: 1000\n      },\n      disabled: {\n        icons: {// color: { dark: undefined, light: undefined },\n        }\n      }\n    },\n    chart: {\n      color: 'graph-0' // extend: undefined,\n\n    },\n    checkBox: {\n      border: {\n        color: {\n          dark: 'rgba(255, 255, 255, 0.5)',\n          light: 'rgba(0, 0, 0, 0.15)'\n        },\n        width: '2px'\n      },\n      check: {\n        // extend: undefined,\n        radius: '4px',\n        thickness: '4px'\n      },\n      // color: { dark: undefined, light: undefined },\n      // extend: undefined,\n      // gap: undefined\n      hover: {\n        border: {\n          color: {\n            dark: 'white',\n            light: 'black'\n          }\n        }\n      },\n      icon: {// size: undefined,\n        // extend: undefined,\n      },\n      icons: {// checked: undefined,\n        // indeterminate: undefined,\n      },\n      size: baseSpacing + \"px\",\n      toggle: {\n        // background: undefined\n        color: {\n          dark: '#d9d9d9',\n          light: '#d9d9d9'\n        },\n        knob: {// extend: undefined,\n        },\n        radius: baseSpacing + \"px\",\n        size: baseSpacing * 2 + \"px\" // extend: undefined,\n\n      }\n    },\n    clock: {\n      analog: {\n        // extend: undefined,\n        hour: {\n          color: {\n            dark: 'light-2',\n            light: 'dark-3'\n          },\n          width: baseSpacing / 3 + \"px\",\n          size: baseSpacing + \"px\",\n          shape: 'round'\n        },\n        minute: {\n          color: {\n            dark: 'light-4',\n            light: 'dark-3'\n          },\n          width: baseSpacing / 6 + \"px\",\n          size: Math.round(baseSpacing / 2) + \"px\",\n          shape: 'round'\n        },\n        second: {\n          color: {\n            dark: 'accent-1',\n            light: 'accent-1'\n          },\n          width: baseSpacing / 8 + \"px\",\n          size: Math.round(baseSpacing / 2.666) + \"px\",\n          shape: 'round'\n        },\n        size: {\n          small: baseSpacing * 3 + \"px\",\n          medium: baseSpacing * 4 + \"px\",\n          large: baseSpacing * 6 + \"px\",\n          xlarge: baseSpacing * 9 + \"px\",\n          huge: baseSpacing * 12 + \"px\"\n        }\n      },\n      digital: {\n        text: {\n          xsmall: {\n            size: baseFontSize - 2 * fontScale + \"px\",\n            height: 1.5\n          },\n          small: {\n            size: baseFontSize - fontScale + \"px\",\n            height: 1.43\n          },\n          medium: {\n            size: baseFontSize + \"px\",\n            height: 1.375\n          },\n          large: {\n            size: baseFontSize + fontScale + \"px\",\n            height: 1.167\n          },\n          xlarge: {\n            size: baseFontSize + 2 * fontScale + \"px\",\n            height: 1.1875\n          },\n          xxlarge: {\n            size: baseFontSize + 4 * fontScale + \"px\",\n            height: 1.125\n          }\n        }\n      }\n    },\n    collapsible: {\n      minSpeed: 200,\n      baseline: 500\n    },\n    dateInput: {// icon: {\n      //   size: undefined,\n      // },\n    },\n    dataTable: {\n      // body: {\n      //   extend: undefined,\n      // },\n      groupHeader: {\n        background: {\n          dark: 'dark-2',\n          light: 'light-2'\n        },\n        border: {\n          side: 'bottom',\n          size: 'xsmall'\n        },\n        pad: {\n          horizontal: 'small',\n          vertical: 'xsmall'\n        }\n      },\n      groupEnd: {\n        border: {\n          side: 'bottom',\n          size: 'xsmall'\n        }\n      },\n      header: {},\n      icons: {\n        ascending: _FormDown.FormDown,\n        contract: _FormUp.FormUp,\n        descending: _FormUp.FormUp,\n        expand: _FormDown.FormDown\n      },\n      primary: {\n        weight: 'bold'\n      },\n      resize: {\n        border: {\n          color: 'border',\n          side: 'end'\n        }\n      }\n    },\n    diagram: {\n      // extend: undefined,\n      line: {\n        color: 'graph-0'\n      }\n    },\n    // drop: {\n    //   extend: undefined,\n    //   maxHeight: undefined,\n    // },\n    formField: {\n      border: {\n        color: 'border',\n        error: {\n          color: {\n            dark: 'white',\n            light: 'status-critical'\n          }\n        },\n        position: 'inner',\n        side: 'bottom'\n      },\n      content: {\n        // margin: undefined,\n        pad: 'small'\n      },\n      disabled: {\n        background: {\n          color: 'status-disabled',\n          opacity: 'medium'\n        } // border: {\n        //   color: undefined,\n        // },\n        // label: {\n        //   color: undefined,\n        // },\n\n      },\n      // focus: {\n      //   background: {\n      //     color: undefined,\n      //   },\n      //   border: {\n      //     color: undefined,\n      //   },\n      // },\n      error: {\n        color: 'status-critical',\n        margin: {\n          vertical: 'xsmall',\n          horizontal: 'small'\n        } // background: undefined,\n\n      },\n      // extend: undefined,\n      help: {\n        color: 'dark-3',\n        margin: {\n          start: 'small'\n        }\n      },\n      info: {\n        color: 'text-xweak',\n        margin: {\n          vertical: 'xsmall',\n          horizontal: 'small'\n        }\n      },\n      label: {\n        margin: {\n          vertical: 'xsmall',\n          horizontal: 'small'\n        }\n      },\n      margin: {\n        bottom: 'small'\n      } // round: undefined,\n\n    },\n    grommet: {// extend: undefined\n    },\n    heading: {\n      font: {// family: undefined\n      },\n      level: {\n        1: {\n          font: {// family: undefined,\n            // weight: undefined,\n          },\n          small: _extends({}, fontSizing(4)),\n          medium: _extends({}, fontSizing(8)),\n          large: _extends({}, fontSizing(16)),\n          xlarge: _extends({}, fontSizing(24))\n        },\n        2: {\n          font: {// family: undefined,\n            // weight: undefined,\n          },\n          small: _extends({}, fontSizing(2)),\n          medium: _extends({}, fontSizing(4)),\n          large: _extends({}, fontSizing(8)),\n          xlarge: _extends({}, fontSizing(12))\n        },\n        3: {\n          font: {// family: undefined,\n            // weight: undefined,\n          },\n          small: _extends({}, fontSizing(1)),\n          medium: _extends({}, fontSizing(2)),\n          large: _extends({}, fontSizing(4)),\n          xlarge: _extends({}, fontSizing(6))\n        },\n        4: {\n          font: {// family: undefined,\n            // weight: undefined,\n          },\n          small: _extends({}, fontSizing(0)),\n          medium: _extends({}, fontSizing(0)),\n          large: _extends({}, fontSizing(0)),\n          xlarge: _extends({}, fontSizing(0))\n        },\n        5: {\n          font: {// family: undefined,\n            // weight: undefined,\n          },\n          small: _extends({}, fontSizing(-0.5)),\n          medium: _extends({}, fontSizing(-0.5)),\n          large: _extends({}, fontSizing(-0.5)),\n          xlarge: _extends({}, fontSizing(-0.5))\n        },\n        6: {\n          font: {// family: undefined,\n            // weight: undefined,\n          },\n          small: _extends({}, fontSizing(-1)),\n          medium: _extends({}, fontSizing(-1)),\n          large: _extends({}, fontSizing(-1)),\n          xlarge: _extends({}, fontSizing(-1))\n        }\n      },\n      responsiveBreakpoint: 'small',\n      // when we scale the font size down\n      weight: 600\n    },\n    layer: {\n      background: 'white',\n      border: {\n        radius: '4px'\n      },\n      container: {\n        zIndex: '15'\n      },\n      // extend: undefined,\n      overlay: {\n        background: 'rgba(0, 0, 0, 0.5)'\n      },\n      responsiveBreakpoint: 'small',\n      // when Layer takes over the full screen\n      zIndex: '10'\n    },\n    list: {\n      item: {\n        // background: undefined,\n        border: 'horizontal',\n        pad: {\n          horizontal: 'medium',\n          vertical: 'small'\n        } // extend: undefined,\n\n      } // extend: undefined,\n\n    },\n    maskedInput: {// extend: undefined,\n      // disabled: { opacity: undefined },\n    },\n    menu: {\n      // background: undefined,\n      // extend: undefined,\n      icons: {\n        down: _FormDown.FormDown // up: undefined,\n        // color: { dark: undefined, light: undefined },\n\n      }\n    },\n    meter: {\n      color: 'graph-0' // colors: [] || colors: ['graph-0', 'graph-1', 'graph-2', 'graph-3'],\n      // extend: undefined,\n\n    },\n    paragraph: {\n      small: _extends({}, fontSizing(-1)),\n      medium: _extends({}, fontSizing(0)),\n      large: _extends({}, fontSizing(1)),\n      xlarge: _extends({}, fontSizing(2)),\n      xxlarge: _extends({}, fontSizing(4))\n    },\n    radioButton: {\n      border: {\n        color: {\n          dark: 'rgba(255, 255, 255, 0.5)',\n          light: 'rgba(0, 0, 0, 0.15)'\n        },\n        width: '2px'\n      },\n      check: {\n        radius: '100%' // background: {\n        //  color: undefined,\n        // },\n        // color: { dark: undefined, light: undefined },\n        // extend: undefined,\n\n      },\n      // color: undefined,\n      hover: {\n        // background: {\n        //   color: undefined,\n        // },\n        border: {\n          color: {\n            dark: 'white',\n            light: 'black'\n          }\n        }\n      },\n      icon: {// size: undefined,\n        // extend: undefined,\n      },\n      icons: {// circle: undefined,\n      },\n      gap: 'small',\n      size: baseSpacing + \"px\",\n      font: {// weight: undefined,\n      }\n    },\n    radioButtonGroup: {// container: {}, // any box props\n    },\n    rangeInput: {\n      // extend: undefined\n      track: {\n        height: '4px',\n        color: 'border' // opacity: undefined,\n        // lower: {\n        //   color: 'undefined',\n        //   opacity: undefined,\n        // },\n        // upper: {\n        //   color: undefined,\n        //   opacity: undefined,\n        // },\n        // extend: undefined\n\n      },\n      thumb: {// color: { dark: undefined, light: undefined },\n        // extend: undefined\n      }\n    },\n    rangeSelector: {\n      background: {\n        invert: {\n          color: 'light-4'\n        }\n      } // edge: {\n      //   type: undefined,\n      // },\n\n    },\n    select: {\n      // background: undefined,\n      container: {// extend: undefined,\n      },\n      control: {// extend: undefined,\n        // open: undefined,\n      },\n      icons: {\n        // color: { dark: undefined, light: undefined },\n        margin: {\n          horizontal: 'small'\n        },\n        down: _FormDown.FormDown // up: undefined\n\n      },\n      options: {\n        container: {\n          align: 'start',\n          pad: 'small'\n        },\n        text: {\n          margin: 'none'\n        }\n      },\n      // searchInput: undefined,\n      step: 20\n    },\n    skipLinks: {\n      position: 'top',\n      container: {\n        elevation: 'large',\n        round: 'small',\n        pad: 'medium'\n      },\n      label: {\n        margin: {\n          bottom: 'medium'\n        },\n        size: 'medium'\n      }\n    },\n    tab: {\n      active: {\n        color: 'text' // background: undefined,\n\n      },\n      // background: undefined,\n      border: {\n        side: 'bottom',\n        size: 'small',\n        color: {\n          dark: 'accent-1',\n          light: 'brand'\n        },\n        active: {\n          color: {\n            dark: 'white',\n            light: 'black'\n          }\n        },\n        disabled: {// color: undefined,\n        },\n        hover: {\n          color: {\n            dark: 'white',\n            light: 'black'\n          } // extend: undefined,\n\n        }\n      },\n      color: 'control',\n      // disabled: {\n      //   color: undefined,\n      // },\n      // extend: undefined,\n      hover: {\n        // background: undefined,\n        // extend: undefined,\n        color: {\n          dark: 'white',\n          light: 'black'\n        }\n      },\n      margin: {\n        vertical: 'xxsmall',\n        horizontal: 'small'\n      },\n      pad: {\n        bottom: 'xsmall'\n      }\n    },\n    tabs: {\n      // background: undefined,\n      // extend: undefined,\n      // gap: undefined,\n      header: {// background: undefined,\n        // border: {\n        //   side: undefined,\n        //   size: undefined,\n        //   style: undefined,\n        //   color: undefined,\n        // },\n        // extend: undefined,\n      },\n      panel: {// extend: undefined,\n      }\n    },\n    table: {\n      header: {\n        align: 'start',\n        pad: {\n          horizontal: 'small',\n          vertical: 'xsmall'\n        },\n        border: 'bottom' // verticalAlign: undefined,\n        // background: undefined,\n        // extend: undefined,\n\n      },\n      body: {\n        align: 'start',\n        pad: {\n          horizontal: 'small',\n          vertical: 'xsmall'\n        } // background: undefined,\n        // border: undefined,\n        // extend: undefined,\n\n      },\n      // row: {\n      //   hover: {\n      //     background: undefined,\n      //     color: undefined,\n      //   },\n      // },\n      footer: {\n        align: 'start',\n        pad: {\n          horizontal: 'small',\n          vertical: 'xsmall'\n        },\n        border: 'top' // verticalAlign: undefined,\n        // background: undefined,\n        // extend: undefined,\n\n      }\n    },\n    text: {\n      xsmall: _extends({}, fontSizing(-1.5)),\n      small: _extends({}, fontSizing(-1)),\n      medium: _extends({}, fontSizing(0)),\n      // 18px\n      large: _extends({}, fontSizing(1)),\n      // 22px\n      xlarge: _extends({}, fontSizing(2)),\n      xxlarge: _extends({}, fontSizing(4))\n    },\n    textArea: {// extend: undefined,\n      // disabled: { opacity: undefined },\n    },\n    textInput: {// extend: undefined,\n      // disabled: { opacity: undefined },\n    },\n    video: {\n      captions: {\n        background: 'rgba(0, 0, 0, 0.7)'\n      },\n      // controls: { background: undefined },\n      icons: {\n        closedCaption: _ClosedCaption.ClosedCaption,\n        configure: _Actions.Actions,\n        fullScreen: _Expand.Expand,\n        pause: _Pause.Pause,\n        play: _Play.Play,\n        reduceVolume: _VolumeLow.VolumeLow,\n        volume: _Volume.Volume // color: { dark: undefined, light: undefined },\n\n      },\n      // scrubber: { track: { color: undefined } },\n      scrubber: {\n        color: 'light-4'\n      }\n    },\n    worldMap: {\n      color: 'light-3',\n      continent: {\n        active: '8px',\n        base: '6px'\n      },\n      hover: {\n        color: 'light-4'\n      },\n      place: {\n        active: '20px',\n        base: '8px'\n      }\n    }\n  });\n  return (0, _object.deepFreeze)(result);\n};\n\nexports.generate = generate;\nvar base = generate(24);\nexports.base = base;","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { getBodyChildElements, makeNodeFocusable, makeNodeUnfocusable } from '../utils';\n\nvar isNotAncestorOf = function isNotAncestorOf(child) {\n  return function (parent) {\n    return !parent.contains(child);\n  };\n};\n\nexport var FocusedContainer = function FocusedContainer(_ref) {\n  var _ref$hidden = _ref.hidden,\n      hidden = _ref$hidden === void 0 ? false : _ref$hidden,\n      _ref$restrictScroll = _ref.restrictScroll,\n      restrictScroll = _ref$restrictScroll === void 0 ? false : _ref$restrictScroll,\n      children = _ref.children,\n      trapFocus = _ref.trapFocus,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"hidden\", \"restrictScroll\", \"children\", \"trapFocus\"]);\n\n  var _useState = useState(''),\n      bodyOverflowStyle = _useState[0],\n      setBodyOverflowStyle = _useState[1];\n\n  var ref = useRef(null);\n  useEffect(function () {\n    var removeTrap = function removeTrap() {\n      var child = ref.current;\n      getBodyChildElements().filter(isNotAncestorOf(child)).forEach(makeNodeFocusable);\n\n      if (restrictScroll) {\n        document.body.style.overflow = bodyOverflowStyle;\n      }\n    };\n\n    var handleTrapFocus = function handleTrapFocus() {\n      var child = ref.current;\n      getBodyChildElements().filter(isNotAncestorOf(child)).forEach(makeNodeUnfocusable);\n\n      if (restrictScroll && bodyOverflowStyle !== 'hidden') {\n        setBodyOverflowStyle(document.body.style.overflow);\n        document.body.style.overflow = 'hidden';\n      }\n    };\n\n    var timer = setTimeout(function () {\n      if (!hidden && trapFocus) {\n        handleTrapFocus();\n      }\n    }, 0);\n    return function () {\n      removeTrap();\n      clearTimeout(timer);\n    };\n  }, [hidden, bodyOverflowStyle, restrictScroll, trapFocus]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    \"aria-hidden\": hidden\n  }, rest), children);\n};","\"use strict\";\n\nexports.__esModule = true;\nexports.removeUndefined = exports.deepMerge = exports.deepFreeze = exports.isObject = void 0;\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar isObject = function isObject(item) {\n  return item && typeof item === 'object' && !Array.isArray(item);\n};\n\nexports.isObject = isObject;\n\nvar deepFreeze = function deepFreeze(obj) {\n  Object.keys(obj).forEach(function (key) {\n    return key && isObject(obj[key]) && Object.freeze(obj[key]);\n  });\n  return Object.freeze(obj);\n};\n\nexports.deepFreeze = deepFreeze;\n\nvar deepMerge = function deepMerge(target) {\n  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    sources[_key - 1] = arguments[_key];\n  }\n\n  if (!sources.length) {\n    return target;\n  } // making sure to not change target (immutable)\n\n\n  var output = _extends({}, target);\n\n  sources.forEach(function (source) {\n    if (isObject(source)) {\n      Object.keys(source).forEach(function (key) {\n        if (isObject(source[key])) {\n          if (!output[key]) {\n            output[key] = _extends({}, source[key]);\n          } else {\n            output[key] = deepMerge(output[key], source[key]);\n          }\n        } else {\n          output[key] = source[key];\n        }\n      });\n    }\n  });\n  return output;\n};\n\nexports.deepMerge = deepMerge;\n\nvar removeUndefined = function removeUndefined(obj) {\n  var result = {};\n  Object.keys(obj).forEach(function (key) {\n    if (obj[key] !== undefined) {\n      result[key] = obj[key];\n    }\n  });\n  return result;\n};\n\nexports.removeUndefined = removeUndefined;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n}; // array function should not be used here so that we can the local this\n\n\nvar addPropTypeDocumentationField = function addPropTypeDocumentationField(fieldName) {\n  return function addFieldToReactDesc(value) {\n    if (!this.reactDesc) {\n      this.reactDesc = {};\n    }\n\n    this.reactDesc[fieldName] = value;\n    return this;\n  };\n};\n\nvar documentedPropType = {\n  defaultValue: addPropTypeDocumentationField('defaultValue'),\n  description: addPropTypeDocumentationField('description'),\n  deprecated: addPropTypeDocumentationField('deprecated'),\n  format: addPropTypeDocumentationField('format')\n};\n\nvar createPropType = function createPropType(type) {\n  var propTypeObj = _extends({\n    type: type\n  }, documentedPropType);\n\n  Object.defineProperty(propTypeObj, 'isRequired', {\n    get: function getRequired() {\n      if (!this.reactDesc) {\n        this.reactDesc = {};\n      }\n\n      this.reactDesc.required = true;\n      return this;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return propTypeObj;\n};\n\nvar createPropTypeWithArgs = function createPropTypeWithArgs(type) {\n  return function (args) {\n    var propTypeObj = _extends({\n      args: args,\n      type: type\n    }, documentedPropType);\n\n    Object.defineProperty(propTypeObj, 'isRequired', {\n      get: function getRequired() {\n        if (!this.reactDesc) {\n          this.reactDesc = {};\n        }\n\n        this.reactDesc.required = true;\n        return this;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    return propTypeObj;\n  };\n};\n\nvar PropTypes = {\n  custom: function custom(callback) {\n    var target = callback.bind(null);\n    target.type = 'func';\n    Object.keys(documentedPropType).forEach(function (fieldName) {\n      target[fieldName] = documentedPropType[fieldName];\n    });\n    return target;\n  }\n};\n\nfunction definePropType(type) {\n  Object.defineProperty(PropTypes, type, {\n    get: function getPropType() {\n      return createPropType(type);\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\nfunction definePropTypeWithArgs(type) {\n  Object.defineProperty(PropTypes, type, {\n    get: function getPropType() {\n      return createPropTypeWithArgs(type);\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\ndefinePropType('any');\ndefinePropType('array');\ndefinePropType('bool');\ndefinePropType('element');\ndefinePropType('func');\ndefinePropType('node');\ndefinePropType('number');\ndefinePropType('object');\ndefinePropType('symbol');\ndefinePropType('string');\ndefinePropTypeWithArgs('arrayOf');\ndefinePropTypeWithArgs('instanceOf');\ndefinePropTypeWithArgs('objectOf');\ndefinePropTypeWithArgs('oneOfType');\ndefinePropTypeWithArgs('oneOf');\ndefinePropTypeWithArgs('shape');\nexports.default = PropTypes;","import React from 'react';\nexport var PortalContext = /*#__PURE__*/React.createContext(undefined);","import styled, { keyframes } from 'styled-components';\nimport { baseStyle } from '../../utils';\nimport { backgroundStyle } from '../../utils/background';\nimport { defaultProps } from '../../default-props';\n\nfunction getTransformOriginStyle(align) {\n  var vertical = 'top';\n\n  if (align.bottom) {\n    vertical = 'bottom';\n  }\n\n  var horizontal = 'left';\n\n  if (align.right) {\n    horizontal = 'right';\n  }\n\n  return vertical + \" \" + horizontal;\n}\n\nvar dropKeyFrames = keyframes([\"0%{opacity:0.5;transform:scale(0.8);}100%{opacity:1;transform:scale(1);}\"]);\nvar StyledDrop = styled.div.withConfig({\n  displayName: \"StyledDrop\",\n  componentId: \"sc-16s5rx8-0\"\n})([\"\", \" border-radius:\", \";position:fixed;z-index:\", \";outline:none;\", \" opacity:0;transform-origin:\", \";animation:\", \" 0.1s forwards;animation-delay:0.01s;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){display:flex;align-items:stretch;}\", \"\"], baseStyle, function (props) {\n  return props.theme.global.drop.border.radius;\n}, function (props) {\n  return props.theme.global.drop.zIndex;\n}, function (props) {\n  return !props.plain && backgroundStyle(props.theme.global.drop.background, props.theme);\n}, function (props) {\n  return getTransformOriginStyle(props.alignProp);\n}, dropKeyFrames, function (props) {\n  return props.theme.global.drop && props.theme.global.drop.extend;\n});\nStyledDrop.defaultProps = {};\nObject.setPrototypeOf(StyledDrop.defaultProps, defaultProps);\nexport { StyledDrop };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useContext, useEffect, useMemo, useRef } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { FocusedContainer } from '../FocusedContainer';\nimport { backgroundIsDark, findScrollParents, findVisibleParent, parseMetricToNum } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Keyboard } from '../Keyboard';\nimport { PortalContext } from './PortalContext';\nimport { StyledDrop } from './StyledDrop'; // using react synthetic event to be able to stop propagation that\n// would otherwise close the layer on ESC.\n\nvar preventLayerClose = function preventLayerClose(event) {\n  var key = event.keyCode ? event.keyCode : event.which;\n\n  if (key === 27) {\n    event.stopPropagation();\n  }\n};\n\nvar defaultAlign = {\n  top: 'top',\n  left: 'left'\n};\nvar defaultPortalContext = [];\nvar DropContainer = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$align = _ref.align,\n      align = _ref$align === void 0 ? defaultAlign : _ref$align,\n      children = _ref.children,\n      dropTarget = _ref.dropTarget,\n      elevation = _ref.elevation,\n      onClickOutside = _ref.onClickOutside,\n      onEsc = _ref.onEsc,\n      onKeyDown = _ref.onKeyDown,\n      _ref$overflow = _ref.overflow,\n      overflow = _ref$overflow === void 0 ? 'auto' : _ref$overflow,\n      plain = _ref.plain,\n      responsive = _ref.responsive,\n      restrictFocus = _ref.restrictFocus,\n      _ref$stretch = _ref.stretch,\n      stretch = _ref$stretch === void 0 ? 'width' : _ref$stretch,\n      trapFocus = _ref.trapFocus,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"align\", \"children\", \"dropTarget\", \"elevation\", \"onClickOutside\", \"onEsc\", \"onKeyDown\", \"overflow\", \"plain\", \"responsive\", \"restrictFocus\", \"stretch\", \"trapFocus\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var portalContext = useContext(PortalContext) || defaultPortalContext;\n  var portalId = useMemo(function () {\n    return portalContext.length;\n  }, [portalContext]);\n  var nextPortalContext = useMemo(function () {\n    return [].concat(portalContext, [portalId]);\n  }, [portalContext, portalId]);\n  var dropRef = useRef();\n  useEffect(function () {\n    // We try to preserve the maxHeight as changing it causes any scroll\n    // position to be lost. We set the maxHeight on mount and if the window\n    // is resized.\n    var place = function place(preserveHeight) {\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var target = dropTarget;\n      var container = (ref || dropRef).current;\n\n      if (container && target) {\n        // clear prior styling\n        container.style.left = '';\n        container.style.top = '';\n        container.style.bottom = '';\n        container.style.width = '';\n\n        if (!preserveHeight) {\n          container.style.maxHeight = '';\n        } // get bounds\n\n\n        var targetRect = findVisibleParent(target).getBoundingClientRect();\n        var containerRect = container.getBoundingClientRect(); // determine width\n\n        var width = Math.min(stretch ? Math.max(targetRect.width, containerRect.width) : containerRect.width, windowWidth); // set left position\n\n        var left;\n\n        if (align.left) {\n          if (align.left === 'left') {\n            left = targetRect.left;\n          } else if (align.left === 'right') {\n            left = targetRect.left + targetRect.width;\n          }\n        } else if (align.right) {\n          if (align.right === 'left') {\n            left = targetRect.left - width;\n          } else if (align.right === 'right') {\n            left = targetRect.left + targetRect.width - width;\n          }\n        } else {\n          left = targetRect.left + targetRect.width / 2 - width / 2;\n        }\n\n        if (left + width > windowWidth) {\n          left -= left + width - windowWidth;\n        } else if (left < 0) {\n          left = 0;\n        } // set top or bottom position\n\n\n        var top;\n        var bottom;\n        var maxHeight = containerRect.height;\n\n        if (align.top) {\n          if (align.top === 'top') {\n            top = targetRect.top;\n          } else {\n            top = targetRect.bottom;\n          } // Calculate visible area underneath the control w.r.t window height\n\n\n          var percentVisibleAreaBelow = 100 - targetRect.bottom / windowHeight * 100; // Check whether it is within 20% from bottom of the window or\n          // visible area to flip the control\n          // DropContainer doesn't fit well within visible area when\n          // percentVisibleAreaBelow value<=20%\n          // There is enough space from DropContainer to bottom of the window\n          // when percentVisibleAreaBelow>20%.\n\n          if (windowHeight === top || percentVisibleAreaBelow <= 20) {\n            // We need more room than we have.\n            // We put it below, but there's more room above, put it above\n            top = '';\n\n            if (align.top === 'bottom') {\n              bottom = targetRect.top;\n            } else {\n              bottom = targetRect.bottom;\n            }\n\n            maxHeight = bottom;\n            container.style.maxHeight = maxHeight + \"px\";\n          } else if (top > 0) {\n            maxHeight = windowHeight - top;\n            container.style.maxHeight = maxHeight + \"px\";\n          } else {\n            maxHeight = windowHeight - top;\n          }\n        } else if (align.bottom) {\n          if (align.bottom === 'bottom') {\n            bottom = targetRect.bottom;\n          } else {\n            bottom = targetRect.top;\n          }\n\n          maxHeight = bottom;\n          container.style.maxHeight = maxHeight + \"px\";\n        } else {\n          // center\n          top = targetRect.top + targetRect.height / 2 - containerRect.height / 2;\n          maxHeight = windowHeight - top;\n        } // if we can't fit it all, or we're rather close,\n        // see if there's more room the other direction\n\n\n        if (responsive && (containerRect.height > maxHeight || maxHeight < windowHeight / 10)) {\n          // We need more room than we have.\n          if (align.top && top > windowHeight / 2) {\n            // We put it below, but there's more room above, put it above\n            top = '';\n\n            if (align.top === 'bottom') {\n              // top = Math.max(targetRect.top - containerRect.height, 0);\n              // maxHeight = targetRect.top - top;\n              bottom = targetRect.top;\n            } else {\n              // top = Math.max(targetRect.bottom - containerRect.height, 0);\n              // maxHeight = targetRect.bottom - top;\n              bottom = targetRect.bottom;\n            }\n\n            maxHeight = bottom;\n          } else if (align.bottom && maxHeight < windowHeight / 2) {\n            // We put it above but there's more room below, put it below\n            bottom = '';\n\n            if (align.bottom === 'bottom') {\n              top = targetRect.top;\n            } else {\n              top = targetRect.bottom;\n            }\n\n            maxHeight = windowHeight - top;\n          }\n        }\n\n        container.style.left = left + \"px\";\n\n        if (stretch) {\n          // offset width by 0.1 to avoid a bug in ie11 that\n          // unnecessarily wraps the text if width is the same\n          // NOTE: turned off for now\n          container.style.width = width + 0.1 + \"px\";\n        } // the (position:absolute + scrollTop)\n        // is presenting issues with desktop scroll flickering\n\n\n        if (top !== '') {\n          container.style.top = top + \"px\";\n        }\n\n        if (bottom !== '') {\n          container.style.bottom = windowHeight - bottom + \"px\";\n        }\n\n        if (!preserveHeight) {\n          if (theme.drop && theme.drop.maxHeight) {\n            maxHeight = Math.min(maxHeight, parseMetricToNum(theme.drop.maxHeight));\n          }\n\n          container.style.maxHeight = maxHeight + \"px\";\n        }\n      }\n    };\n\n    var scrollParents;\n\n    var addScrollListeners = function addScrollListeners() {\n      scrollParents = findScrollParents(dropTarget);\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.addEventListener('scroll', place);\n      });\n    };\n\n    var removeScrollListeners = function removeScrollListeners() {\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.removeEventListener('scroll', place);\n      });\n      scrollParents = [];\n    };\n\n    var onClickDocument = function onClickDocument(event) {\n      // determine which portal id the target is in, if any\n      var clickedPortalId = null;\n      var node = event.target;\n\n      while (clickedPortalId === null && node !== document) {\n        var attr = node.getAttribute('data-g-portal-id');\n        if (attr !== null) clickedPortalId = parseInt(attr, 10);\n        node = node.parentNode;\n      }\n\n      if (clickedPortalId === null || portalContext.indexOf(clickedPortalId) !== -1) {\n        onClickOutside(event);\n      }\n    };\n\n    var onResize = function onResize() {\n      removeScrollListeners();\n      addScrollListeners();\n      place(false);\n    };\n\n    addScrollListeners();\n    window.addEventListener('resize', onResize);\n\n    if (onClickOutside) {\n      document.addEventListener('mousedown', onClickDocument);\n    }\n\n    place(false);\n    return function () {\n      removeScrollListeners();\n      window.removeEventListener('resize', onResize);\n\n      if (onClickOutside) {\n        document.removeEventListener('mousedown', onClickDocument);\n      }\n    };\n  }, [align, dropTarget, onClickOutside, portalContext, portalId, ref, responsive, restrictFocus, stretch, theme.drop]);\n  useEffect(function () {\n    if (restrictFocus) {\n      (ref || dropRef).current.focus();\n    }\n  }, [ref, restrictFocus]);\n  var content = /*#__PURE__*/React.createElement(StyledDrop, _extends({\n    ref: ref || dropRef,\n    as: Box,\n    plain: plain,\n    elevation: !plain ? elevation || theme.global.drop.shadowSize || 'small' : undefined,\n    tabIndex: \"-1\",\n    alignProp: align,\n    overflow: overflow,\n    \"data-g-portal-id\": portalId\n  }, rest), children);\n\n  if (theme.global.drop.background) {\n    var dark = backgroundIsDark(theme.global.drop.background, theme);\n\n    if (dark !== undefined && dark !== theme.dark) {\n      content = /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n        value: _extends({}, theme, {\n          dark: dark\n        })\n      }, content);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: nextPortalContext\n  }, /*#__PURE__*/React.createElement(FocusedContainer, {\n    onKeyDown: onEsc && preventLayerClose,\n    trapFocus: trapFocus\n  }, /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: onEsc ? function (event) {\n      event.stopPropagation();\n      onEsc(event);\n    } : undefined,\n    onKeyDown: onKeyDown,\n    target: \"document\"\n  }, content)));\n});\nexport { DropContainer };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useEffect, useState, useContext } from 'react';\nimport { createPortal } from 'react-dom';\nimport { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { getNewContainer, setFocusWithoutScroll } from '../../utils';\nimport { DropContainer } from './DropContainer';\nimport { ContainerTargetContext } from '../../contexts/ContainerTargetContext';\nvar Drop = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var restrictFocus = _ref.restrictFocus,\n      dropTarget = _ref.target,\n      _ref$trapFocus = _ref.trapFocus,\n      trapFocus = _ref$trapFocus === void 0 ? true : _ref$trapFocus,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"restrictFocus\", \"target\", \"trapFocus\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(),\n      originalFocusedElement = _useState[0],\n      setOriginalFocusedElement = _useState[1];\n\n  useEffect(function () {\n    return setOriginalFocusedElement(document.activeElement);\n  }, []);\n\n  var _useState2 = useState(),\n      dropContainer = _useState2[0],\n      setDropContainer = _useState2[1];\n\n  var containerTarget = useContext(ContainerTargetContext);\n  useEffect(function () {\n    return setDropContainer(getNewContainer(containerTarget));\n  }, [containerTarget]); // just a few things to clean up when the Drop is unmounted\n\n  useEffect(function () {\n    return function () {\n      if (restrictFocus && originalFocusedElement) {\n        if (originalFocusedElement.focus) {\n          setFocusWithoutScroll(originalFocusedElement);\n        } else if (originalFocusedElement.parentNode && originalFocusedElement.parentNode.focus) {\n          // required for IE11 and Edge\n          setFocusWithoutScroll(originalFocusedElement.parentNode);\n        }\n      }\n\n      if (dropContainer) {\n        containerTarget.removeChild(dropContainer);\n      }\n    };\n  }, [containerTarget, dropContainer, originalFocusedElement, restrictFocus]);\n  return dropContainer ? /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(DropContainer, _extends({\n    ref: ref,\n    dir: theme && theme.dir,\n    dropTarget: dropTarget,\n    restrictFocus: restrictFocus,\n    trapFocus: trapFocus\n  }, rest)), dropContainer) : null;\n});\nDrop.displayName = 'Drop';\nvar DropDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  DropDoc = require('./doc').doc(Drop); // eslint-disable-line global-require\n}\n\nvar DropWrapper = DropDoc || Drop;\nexport { DropWrapper as Drop };","\"use strict\";\n\nexports.__esModule = true;\nexports.getRGBA = exports.colorIsDark = exports.normalizeColor = void 0; // Returns the specific color that should be used according to the theme.\n// If 'dark' is supplied, it takes precedence over 'theme.dark'.\n// Can return undefined.\n\nvar normalizeColor = function normalizeColor(color, theme, dark) {\n  var colorSpec = theme.global && theme.global.colors[color] !== undefined ? theme.global.colors[color] : color; // If the color has a light or dark object, use that\n\n  var result = colorSpec;\n\n  if (colorSpec) {\n    if ((dark === true || dark === undefined && theme.dark) && colorSpec.dark !== undefined) {\n      result = colorSpec.dark;\n    } else if ((dark === false || !theme.dark) && colorSpec.light !== undefined) {\n      result = colorSpec.light;\n    }\n  } // allow one level of indirection in color names\n\n\n  if (result && theme.global && theme.global.colors[result] !== undefined) {\n    result = normalizeColor(result, theme, dark);\n  }\n\n  return result;\n};\n\nexports.normalizeColor = normalizeColor;\n\nvar parseHexToRGB = function parseHexToRGB(color) {\n  return color.length < 7 // 7 is what's needed for '#RRGGBB'\n  ? color.match(/[A-Za-z0-9]{1}/g).map(function (v) {\n    return parseInt(\"\" + v + v, 16);\n  }) : // https://stackoverflow.com/a/42429333\n  color.match(/[A-Za-z0-9]{2}/g).map(function (v) {\n    return parseInt(v, 16);\n  });\n}; // From: https://stackoverflow.com/a/9493060/8513067\n// Converts an HSL color value to RGB. Conversion formula\n// adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n// Assumes h, s, and l are contained in the set [0, 1] and\n// returns r, g, and b in the set [0, 255].\n\n\nvar hslToRGB = function hslToRGB(h, s, l) {\n  var r;\n  var g;\n  var b;\n\n  if (s === 0 || s === '0') {\n    // achromatic\n    r = l;\n    g = l;\n    b = l;\n  } else {\n    var hue2rgb = function hue2rgb(p, q, inT) {\n      var t = inT;\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 0.16666667) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 0.66666667) return p + (q - p) * (0.66666667 - t) * 6;\n      return p;\n    };\n\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 0.33333333);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 0.33333333);\n  }\n\n  return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n}; // allow for alpha: #RGB, #RGBA, #RRGGBB, or #RRGGBBAA\n\n\nvar hexExp = /^#[A-Za-z0-9]{3,4}$|^#[A-Za-z0-9]{6,8}$/;\nvar rgbExp = /rgba?\\(\\s?([0-9]*)\\s?,\\s?([0-9]*)\\s?,\\s?([0-9]*)\\s?\\)/;\nvar rgbaExp = /rgba?\\(\\s?([0-9]*)\\s?,\\s?([0-9]*)\\s?,\\s?([0-9]*)\\s?,\\s?([.0-9]*)\\s?\\)/; // e.g. hsl(240, 60%, 50%)\n\nvar hslExp = /hsla?\\(\\s?([0-9]*)\\s?,\\s?([0-9]*)%?\\s?,\\s?([0-9]*)%?\\s?.*?\\)/;\n\nvar canExtractRGBArray = function canExtractRGBArray(color) {\n  return hexExp.test(color) || rgbExp.test(color) || rgbaExp.test(color) || hslExp.test(color);\n};\n\nvar getRGBArray = function getRGBArray(color) {\n  if (hexExp.test(color)) {\n    var _parseHexToRGB = parseHexToRGB(color),\n        red = _parseHexToRGB[0],\n        green = _parseHexToRGB[1],\n        blue = _parseHexToRGB[2],\n        alpha = _parseHexToRGB[3];\n\n    return [red, green, blue, alpha !== undefined ? alpha / 255.0 : undefined];\n  }\n\n  var match = color.match(rgbExp);\n\n  if (match) {\n    return match.splice(1).map(function (v) {\n      return parseInt(v, 10);\n    });\n  }\n\n  match = color.match(rgbaExp);\n\n  if (match) {\n    return match.splice(1).map(function (v) {\n      return parseFloat(v, 10);\n    });\n  }\n\n  match = color.match(hslExp);\n\n  if (match) {\n    var _match$splice$map = match.splice(1).map(function (v) {\n      return parseInt(v, 10);\n    }),\n        h = _match$splice$map[0],\n        s = _match$splice$map[1],\n        l = _match$splice$map[2];\n\n    return hslToRGB(h / 360.0, s / 100.0, l / 100.0);\n  }\n\n  return color;\n};\n\nvar colorIsDark = function colorIsDark(color) {\n  if (color && canExtractRGBArray(color)) {\n    var _getRGBArray = getRGBArray(color),\n        red = _getRGBArray[0],\n        green = _getRGBArray[1],\n        blue = _getRGBArray[2],\n        alpha = _getRGBArray[3]; // if there is an alpha and it's greater than 50%, we can't really tell\n\n\n    if (alpha < 0.5) return undefined;\n    var brightness = (299 * red + 587 * green + 114 * blue) / 1000; // From: http://www.had2know.com/technology/color-contrast-calculator-web-design.html\n    // Above domain is no longer registered.\n\n    return brightness < 125;\n  }\n\n  return undefined;\n};\n\nexports.colorIsDark = colorIsDark;\n\nvar getRGBA = function getRGBA(color, opacity) {\n  if (color && canExtractRGBArray(color)) {\n    var _getRGBArray2 = getRGBArray(color),\n        red = _getRGBArray2[0],\n        green = _getRGBArray2[1],\n        blue = _getRGBArray2[2],\n        alpha = _getRGBArray2[3];\n\n    var normalizedAlpha;\n\n    if (opacity !== undefined) {\n      normalizedAlpha = opacity;\n    } else if (alpha !== undefined) {\n      normalizedAlpha = alpha;\n    } else {\n      normalizedAlpha = 1;\n    }\n\n    return \"rgba(\" + red + \", \" + green + \", \" + blue + \", \" + normalizedAlpha + \")\";\n  }\n\n  return undefined;\n};\n\nexports.getRGBA = getRGBA;","\"use strict\";\n\nexports.__esModule = true;\nexports.grommet = void 0;\n\nvar _styledComponents = require(\"styled-components\");\n\nvar _object = require(\"../utils/object\");\n\nvar grommet = (0, _object.deepFreeze)({\n  global: {\n    colors: {\n      background: {\n        light: '#ffffff',\n        dark: '#000000'\n      }\n    },\n    font: {\n      family: \"-apple-system,\\n         BlinkMacSystemFont, \\n         \\\"Segoe UI\\\", \\n         Roboto, \\n         Oxygen, \\n         Ubuntu, \\n         Cantarell, \\n         \\\"Fira Sans\\\", \\n         \\\"Droid Sans\\\",  \\n         \\\"Helvetica Neue\\\", \\n         Arial, sans-serif,  \\n         \\\"Apple Color Emoji\\\", \\n         \\\"Segoe UI Emoji\\\", \\n         \\\"Segoe UI Symbol\\\"\"\n    }\n  },\n  button: {\n    extend: (0, _styledComponents.css)([\"\", \"\"], function (props) {\n      return !props.plain && 'font-weight: bold;';\n    })\n  }\n});\nexports.grommet = grommet;"],"sourceRoot":""}