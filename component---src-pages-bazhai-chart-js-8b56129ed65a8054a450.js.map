{"version":3,"sources":["webpack:///./src/components/Picker/Direction.js","webpack:///./src/components/Square/Styles.js","webpack:///./src/components/Square/index.js","webpack:///./src/components/Square/Bazhai.js","webpack:///./src/components/EightMansion/index.js","webpack:///./src/cm-lib/EightMansion/index.js","webpack:///./src/cm-lib/constants/NGram.js","webpack:///./src/containers/Bazhai/index.js","webpack:///./src/pages/bazhai/chart.js","webpack:///./src/components/Picker/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"names":["Period","onChange","options","TWENTY_FOUR_MOUNTAIN","map","e","label","facing","toUpperCase","value","Symbol","styled","div","props","includes","index","width","Square","inline","background","data","Template","direction","onSquarePressed","colorLookup","defaultColorLookup","base","global","colors","onClick","MountainStar","FlyingStarSquare","chart","size","React","useContext","ResponsiveContext","t","useTranslation","Text","color","BoxWrapper","Box","Home","alignSelf","justify","wrap","fill","withDirection","i","border","QiMen","getEightMansionSectors","trigramBinary","getSector","trigram","indexes","bin","split","join","flipAtIndex","YanNian","FuWei","ShengChi","TianYi","WuGui","LiuSha","JueMing","HuoHai","伏位","延年","生气","天医","五鬼","六煞","绝命","祸害","onDateChanged","date","handleSearch","useState","setFacing","Direction","EightMansion","slice","DateTimePicker","initialValue","selectedValue","setSelectedValue","useEffect","option","labelKey","valueKey","key","reduce","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","length","indexOf"],"mappings":"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","file":"component---src-pages-bazhai-chart-js-8b56129ed65a8054a450.js","sourcesContent":["import React from 'react';\nimport Picker from './'\nimport { TWENTY_FOUR_MOUNTAIN } from '../../cm-lib/constants'\n\nconst Period = ( { onChange }) => {\n    const options = TWENTY_FOUR_MOUNTAIN.map(e => ({\n        label: e.facing.toUpperCase(),\n        value: e.facing,\n    }))\n    return <>\n        <Picker options={options} onChange={onChange} />\n    </>;\n}\n\nexport default Period;\n","import styled from 'styled-components'\n\nexport const Symbol = styled.div`\n    position absolute;\n    ${props => [0, 3, 6].includes(props.index) ? 'left: 10px;' : '' }\n    ${props => [0, 3, 6].includes(props.index) ? 'left: 10px;' : '' }\n    ${props => [2, 5, 8].includes(props.index) ? 'right: 10px;' : '' }\n    ${props => [6, 7, 8].includes(props.index) ? 'bottom: 10px;' : '' }\n    ${props => [1, 4, 7].includes(props.index) ? 'left: 50%;' : '' }\n    ${props => [1, 4, 7].includes(props.index) ? 'margin-left: -10px;' : '' }\n    ${props => [3].includes(props.index) ? 'top: 50%; margin-top: -20px;' : '' }\n    width: ${props => props.width ? props.width : '20px'};\n    ${props => props.width ? 'left: 0;': ''};\n    text-align: center;\n`","import React from 'react';\nimport styled from 'styled-components'\nimport { base } from 'grommet'\nconst Square = styled.div`\n  width: 100%;\n  ${props => props.inline ? '' : 'padding-bottom: 100%;' }\n  \n  position: relative;\n  display: flex;\n  ${props => props.background ? `background-color: ${props.background}` : ''}\n`\n\nconst index = ({ index, inline, data, Template, direction, onSquarePressed, colorLookup}) => {\n    const defaultColorLookup = {\t\n        \"SE\": base.global.colors['status-ok'], \t\n        \"S\": base.global.colors['status-error'], \t\n        \"SW\": base.global.colors['neutral-4'], \t\n        \"E\": base.global.colors['status-ok'],  \t\n        \"\": base.global.colors['neutral-4'],  \t\n        \"W\": base.global.colors['dark-3'],  \t\n        \"NE\": base.global.colors['neutral-4'],  \t\n        \"N\": base.global.colors['neutral-3'],  \t\n        \"NW\": base.global.colors['dark-3'], \t\n    }\n    return (\n        <Square \n            inline={inline}\n            onClick={() => onSquarePressed && onSquarePressed(data)} \n            background={(colorLookup && colorLookup[direction]) || defaultColorLookup[direction]}\n        >\n            <Template direction={direction} {...data} />\n        </Square>\n    );\n}\n\nexport default index;","import React from 'react';\nimport { Text, ResponsiveContext } from 'grommet'\nimport styled from 'styled-components'\nimport { Symbol } from './Styles'\nimport { useTranslation } from 'react-i18next';\n\n\nconst MountainStar = styled.div`\n    position absolute;\n    text-align: center;\n`\n\nconst FlyingStarSquare = ({ index, direction, chart, ...props }) => {\n    const size = React.useContext(ResponsiveContext);\n    const { t } = useTranslation()\n    return (\n        <>\n\n            <MountainStar><Text color=\"white\" size=\"xlarge\">\n                <div>{ chart[direction] } </div>\n                <div>{ t(chart[direction]) } </div>\n            \n            </Text></MountainStar>\n\n            <Symbol index={8}>\n            <Text color=\"white\" size={size}>{ direction }</Text>\n            </Symbol>\n        </>\n    );\n}\nexport default FlyingStarSquare;","import React from \"react\"\nimport { Box } from 'grommet';\nimport styled from 'styled-components'\nimport Square from '../Square'\nimport QiMen from '../Square/Bazhai'\nimport { withDirection } from '../../helpers'\n\nconst BoxWrapper = styled(Box)`\n  width: 32%;\n  margin: 2px;\n`\n\nconst Home = ({ chart }) => {\n  return <>\n  <Box \n    alignSelf=\"center\"\n    justify=\"center\"\n    direction=\"row\"\n    wrap={true}\n    fill=\"horizontal\"\n  >\n\n  {\n    chart && withDirection(chart).map((e, i) => <BoxWrapper\n      border={true}\n    >\n    <Square direction={e.direction} data={{\n        chart,\n        ...e,\n        index: i\n      }} Template={QiMen} />\n    </BoxWrapper>)\n  }\n  </Box>\n\n  </>\n}\n\nexport default Home\n","/*\nAll Yao unchanged, called Fu Wei\nAll Yao change, called Yan Nian\nOnly Upper Yao change, called Sheng Chi\nMiddle and Lower Yao change, called Tian Yi\n\nUpper and Middle Yao change, called Wu Kwei\nUpper and Lower Yao change, called Liu Sha\nOnly Middle Yao change, called Chueh Ming\nOnly Lower Yao change, called Huo Hai\n*/\nimport { QIAN, KUN, DUI, ZHEN, LI, KAN, XUN, GEN } from '../constants/NGram'\nconst map = {\n    [KUN]: 'SW',\n    [QIAN]: 'NW',\n    [LI]: 'S',\n    [KAN]: 'N',\n    [ZHEN]: 'E',\n    [GEN]: 'NE',\n    [DUI]: 'W',\n    [XUN]: 'SE',\n    'SW': KUN,\n    'NW': QIAN,\n    'S': LI,\n    'N': KAN,\n    'E': ZHEN,\n    'NE': GEN,\n    'W': DUI,\n    'SE': XUN,\n}\n\nconst flipAtIndex = (bin, indexes) => {\n    \n    return bin\n    .split('')\n    .map((e, i) => {\n        \n        if(indexes.includes(i)) {\n            return e === '0' ? '1' : '0';\n        }\n        return e;\n    })\n    .join('')\n}\n\nexport const getBazhaiChart = (direction) => {\n    const trigram = map[direction.slice(0, -1).toUpperCase()]\n    return getEightMansionSectors(trigram)\n}\n\n\nexport const getEightMansionSectors = (trigramBinary = '000') => {\n\n    const getSector = (trigram, indexes) => map[flipAtIndex(trigram, indexes)]\n    \n    const YanNian = getSector(trigramBinary, [0, 1, 2]);\n    const FuWei = map[trigramBinary]\n    const ShengChi = getSector(trigramBinary, [2]);\n    const TianYi = getSector(trigramBinary, [0, 1]);\n    const WuGui = getSector(trigramBinary, [1, 2]);\n    const LiuSha = getSector(trigramBinary, [0, 2]);\n    const JueMing = getSector(trigramBinary, [1]);\n    const HuoHai = getSector(trigramBinary, [0]);\n\n    return {\n        \n        伏位: FuWei,\n        延年: YanNian,\n        生气: ShengChi,\n        天医: TianYi,\n        五鬼: WuGui,\n        六煞: LiuSha,\n        绝命: JueMing,\n        祸害: HuoHai,\n        [FuWei]: '伏位',\n        [YanNian]: '延年',\n        [ShengChi]: '生气',\n        [TianYi]: '天医',\n        [WuGui]: '五鬼',\n        [LiuSha]: '六煞',\n        [JueMing]: '绝命',\n        [HuoHai]: '祸害',\n    }\n}","/*\n\n乾三连（天），坤六断（地）；\n震仰盂（雷），艮覆碗（山）；\n离中虚（火），坎中满（水）；\n兑上缺（泽），巽下断（风）\n\n*/\n\nexport const QIAN = '111';\nexport const KUN = '000';\nexport const ZHEN = '100';\nexport const XUN = '011';\nexport const LI = '101';\nexport const KAN = '010';\nexport const GEN = '001';\nexport const DUI = '110';\n","import React, { useState } from 'react';\nimport EightMansion from '../../components/EightMansion'\nimport { getBazhaiChart } from '../../cm-lib/EightMansion/'\nimport DirectionPicker from '../../components/Picker/Direction'\n\n\nconst Home = ({ onDateChanged, date, handleSearch }) => {\n    const [facing, setFacing] = useState('s2');\n    return <>\n        <h2>8 Mansion</h2>\n        <DirectionPicker onChange={setFacing} />\n        <br />\n        <EightMansion chart={getBazhaiChart(facing)} />\n    </>\n  }\n  \n  export default Home","import React from \"react\"\nimport Layout from '../../containers/layout'\nimport Bazhai from '../../containers/Bazhai'\n\nconst Home = () => {\n  return <Layout>\n    <Bazhai />\n  </Layout>\n}\n\nexport default Home\n","import React, { useState, useEffect } from 'react';\nimport { Select  } from 'grommet';\n\nconst DateTimePicker = ({ onChange, options, initialValue }) => {\n    const [selectedValue, setSelectedValue] = useState(initialValue || options[0].value)\n    useEffect(() => {\n        onChange && onChange(selectedValue)\n    }, [selectedValue, onChange])\n\n    return <Select\n        options={options}\n        value={selectedValue}\n        onChange={({ option }) => setSelectedValue(option.value)}\n        labelKey=\"label\"\n        valueKey={{ key: 'value', reduce: true  }}\n    />;\n}\n\nexport default DateTimePicker;","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"sourceRoot":""}