{"version":3,"sources":["webpack:///./src/components/BoxButton/index.js","webpack:///./src/components/Pillar/index.js","webpack:///./src/containers/Bazi/BaziPillar.js","webpack:///./src/containers/Bazi/index.js","webpack:///./src/pages/bazi/chart.js"],"names":["Home","onClick","buttons","activeIndex","useState","direction","map","e","i","key","align","color","background","fill","pad","label","list","wrap","Box","gap","StandardBox","children","justify","alignContent","PillarGrid","t","getColor","header","ganzhi","hiddenStems","width","useTranslation","substr","Text","size","textAlign","HIDDEN_STEMS","isBrowser","window","inputDate","onBazi","qs","getQueryString","dateObject","parseStringDate","dt","Date","pillars","setPillars","parseInt","g","gender","setGender","bazi","dateObjectToBazi","useEffect","bz","GanZhiHour","GanZhiDay","GanZhiMonth","GanZhiYear","BaziPillar","luckHeader","tenYearCycle","startWesternAge","hundredYear","chunk","year","pillar","BoxButton","DateTimePicker","date","format","location","assign","Pillar","Accordion","AccordionPanel","Object","keys","stars","classical","k"],"mappings":"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","file":"component---src-pages-bazi-chart-js-a74920121e41fb456f05.js","sourcesContent":["import React, { useState } from \"react\"\nimport { Box, Text } from 'grommet';\n\nconst Home = ({ onClick, buttons, activeIndex }) => {\n\n  const [, setActive] = useState((activeIndex && buttons[activeIndex]) || (buttons && buttons[0]))\n  return <>\n\n    <Box direction=\"row-responsive\">\n      {\n        buttons && buttons.map((e, i) => <Box \n            key={i}\n            onClick={() => (onClick && onClick(e, i))}\n            align=\"center\" color=\"white\"  \n            background={activeIndex === i ? 'brand' : 'black'} \n            fill=\"horizontal\" \n            pad=\"small\">\n            <Text color=\"white\"> { e.label }</Text>\n          </Box>)\n      }\n    </Box>\n  </>\n}\n\nexport default Home\n","import React from \"react\"\nimport { Box } from 'grommet';\n\nconst Home = ({ list, wrap }) => {\n\n  return <>\n    <Box\n      wrap={wrap}\n      direction=\"row\"\n      gap=\"xxsmall\"\n    >\n    {list}\n    </Box>\n  </>\n}\n\nexport default Home\n","import React from \"react\"\nimport { Box, Text } from 'grommet';\nimport { getColor } from '../../cm-lib/QiMen'\nimport { HIDDEN_STEMS } from '../../cm-lib/constants'\nimport { useTranslation } from \"react-i18next\";\n\n\nconst StandardBox = ({ children }) => <Box\n  justify=\"center\"\n  align=\"center\"\n  alignContent=\"center\"\n>{ children }</Box>\n\n  const PillarGrid = ( { children, t, background }) => <Box background={background || getColor(t)}\n    pad=\"small\"\n    \n    fill=\"horizontal\" \n    justify=\"center\"\n    align=\"center\"\n    alignContent=\"center\"\n  > { children } </Box>\n\nconst Home = ({ header, ganzhi, width, hiddenStems }) => {\n    const { t } = useTranslation()\n  return <><Box \n\n                direction=\"column\"\n                fill={\"horizontal\"}\n                gap=\"xxsmall\"\n              >\n      <PillarGrid background=\"light-2\">\n        <StandardBox> { header }</StandardBox>\n      </PillarGrid>\n      <PillarGrid t={ganzhi.substr(0, 1)}>\n        <StandardBox> { ganzhi.substr(0, 1) }</StandardBox><StandardBox> <Text size=\"12px\" textAlign=\"center\">{ t(ganzhi.substr(0, 1)) }</Text></StandardBox>\n      </PillarGrid>\n      <PillarGrid t={ganzhi.substr(1, 1)}>\n      <StandardBox> { ganzhi.substr(1, 1) }</StandardBox><StandardBox> <Text size=\"12px\" textAlign=\"center\">{ t(ganzhi.substr(1, 1)) }</Text></StandardBox>\n      </PillarGrid>\n      {\n        hiddenStems && <PillarGrid t={ganzhi.substr(1, 1)}>\n        <StandardBox> { HIDDEN_STEMS[ganzhi.substr(1, 1)] }</StandardBox>\n        </PillarGrid>\n      }\n    </Box>\n  </>\n}\n\nexport default Home\n","import React, { useState, useEffect } from \"react\"\nimport { Accordion, AccordionPanel } from 'grommet';\nimport DateTimePicker from '../../components/DateTimePicker'\nimport Pillar from '../../components/Pillar'\nimport BaziPillar from './BaziPillar'\nimport BoxButton from '../../components/BoxButton'\n\nimport { dateObjectToBazi } from '../../cm-lib/FourPillar'\nimport { useTranslation } from 'react-i18next';\nimport { parseStringDate, getQueryString, chunk } from '../../helpers'\nimport { format } from 'date-fns';\n\nconst isBrowser = typeof window !== `undefined`\n\nconst Home = ({ inputDate, onBazi }) => {\n  const { t } = useTranslation();\n  const qs = getQueryString()\n  const [dateObject] = useState(parseStringDate(qs.dt, new Date()))\n  const [pillars, setPillars] = useState(null)\n  const [gender, setGender] = useState(parseInt(qs.g) || 0)\n  const [bazi] = useState(dateObjectToBazi(dateObject, gender === 0 ? 'M' : 'F' ))\n  useEffect(() => {\n    const bz = [\n      {\n        header: 'Hour',\n        ganzhi: bazi.GanZhiHour.ganzhi\n      },\n      {\n        header: 'Day',\n        ganzhi: bazi.GanZhiDay.ganzhi\n      },\n      {\n        header: 'Month',\n        ganzhi: bazi.GanZhiMonth.ganzhi\n      },\n      {\n        header: 'Year',\n        ganzhi: bazi.GanZhiYear.ganzhi\n      },\n\n    ].map(e => <BaziPillar hiddenStems header={e.header} ganzhi={e.ganzhi} />)\n\n    const luckHeader = bazi.tenYearCycle\n    .map((e, i) => {\n      \n      return <BaziPillar header={bazi.startWesternAge + i * 10} ganzhi={e} />\n    \n    })\n\n    setPillars({\n      bz,\n      hundredYear: chunk(bazi.hundredYear.map(e => <BaziPillar header={e.year} ganzhi={e.pillar} />), 10),\n      luckHeader,\n      bazi,\n    })\n  }, [])\n  return <>\n\n      <BoxButton activeIndex={gender} onClick={(e, i) => setGender(i)} buttons={[\n      { \n        label: 'M', \n        \n      },\n      {\n        label: 'F',\n      }\n    ]} />\n    <br />\n    <DateTimePicker \n        dateObject={dateObject}\n        onClick={date => {\n          const dt = format(date, 'yyyy-MM-dd HH:mm')\n          isBrowser && window.location.assign(`?dt=${dt}&g=${gender}`)\n        }}\n    />\n    <br />\n\n    {\n      pillars && <Pillar list={pillars.bz} />\n    }\n\n<Accordion>\n        <AccordionPanel label=\"More Information\">\n        {\n          Object.keys(bazi.stars.classical).map(k => <AccordionPanel label={`${k} ${t(k)}: ${bazi.stars.classical[k]}`}></AccordionPanel>)\n        }\n        </AccordionPanel>\n      </Accordion>\n<br />\n    {\n      pillars && <Pillar list={pillars.luckHeader} />\n    }\n\n<br />\n    {\n      pillars && pillars.hundredYear.map(e => <Pillar list={e} />)\n    }\n\n  </>\n}\n\nexport default Home\n","import React from \"react\"\nimport Layout from '../../containers/layout'\nimport Calendar from '../../containers/Bazi'\n\nconst Home = () => {\n  return <Layout>\n        <Calendar />\n  </Layout>\n}\n\nexport default Home\n"],"sourceRoot":""}