{"version":3,"sources":["webpack:///./node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js","webpack:///./node_modules/grommet/es6/contexts/AnnounceContext/AnnounceContext.js","webpack:///./node_modules/grommet/es6/components/TextInput/StyledTextInput.js","webpack:///./node_modules/grommet/es6/components/TextInput/TextInput.js","webpack:///./node_modules/grommet/es6/components/Select/StyledSelect.js","webpack:///./node_modules/grommet/es6/components/Select/utils.js","webpack:///./node_modules/grommet/es6/components/Select/SelectContainer.js","webpack:///./node_modules/grommet/es6/components/Select/Select.js","webpack:///./node_modules/grommet/es6/components/Form/FormContext.js"],"names":["Ref","_Component","subClass","superClass","apply","this","arguments","prototype","Object","create","constructor","__proto__","render","props","children","InfiniteScrollWrapper","_ref","_ref$items","items","onMore","renderMarker","replace","show","_ref$step","step","lastPage","Math","floor","length","_useState","beginPage","setBeginPage","_useState2","endPage","setEndPage","_useState3","pageHeight","setPageHeight","_useState4","pageArea","setPageArea","_useState5","multiColumn","setMultiColumn","_useState6","pendingLength","setPendingLength","belowMarkerRef","firstPageItemRef","lastPageItemRef","showRef","current","beginRect","getBoundingClientRect","endRect","initialPage","nextPageHeight","top","height","nextMultiColumn","nextPageArea","width","scrollParents","onScroll","scrollParent","document","documentElement","scrollTop","body","window","innerHeight","innerWidth","rect","offset","nextBeginPage","min","max","nextEndPage","ceil","forEach","addEventListener","removeEventListener","timer","setTimeout","showNode","scrollIntoView","clearTimeout","firstIndex","lastIndex","result","marker","createElement","Box","key","flex","cloneElement","push","slice","item","index","itemsIndex","child","ref","_marker","AnnounceContext","createContext","message","mode","timeout","announcer","querySelector","style","left","right","position","insertBefore","firstChild","createAnnouncer","setAttribute","innerHTML","StyledTextInput","input","withConfig","displayName","componentId","plain","icon","reverse","theme","global","edgeSize","large","disabled","textInput","opacity","extend","defaultProps","setPrototypeOf","StyledTextInputContainer","div","container","StyledPlaceholder","control","border","placeholder","StyledIcon","StyledSuggestions","ol","suggestions","_extends","assign","target","i","source","hasOwnProperty","call","renderLabel","suggestion","label","value","stringLabel","ContainerBox","dropHeight","defaultDropAlign","defaultMessages","enterSelect","suggestionsCount","suggestionsExist","suggestionIsOpen","TextInput","a11yTitle","defaultValue","_ref$dropAlign","dropAlign","dropTarget","dropProps","id","_ref$messages","messages","name","_onBlur","onBlur","onChange","_onFocus","onFocus","onKeyDown","onSelect","onSuggestionsClose","onSuggestionsOpen","readOnly","valueProp","rest","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","announce","formContext","FormContext","inputRef","dropRef","suggestionsRef","suggestionRefs","_formContext$useFormI","useFormInput","undefined","setValue","focus","setFocus","showDrop","setShowDrop","activeSuggestionIndex","setActiveSuggestionIndex","selectedSuggestionIndex","setSelectedSuggestionIndex","suggestionValues","map","buttonNode","optionsNode","scrollTo","offsetTop","drop","openDrop","closeDrop","onNextSuggestion","event","preventDefault","nextActiveIndex","onPreviousSuggestion","showStyledPlaceholder","Keyboard","onDown","onUp","onEnter","adjustedEvent","Drop","align","responsive","onClickOutside","onEsc","overflow","select","itemRef","renderedLabel","button","option","pad","Button","active","r","fill","kind","hoverIndicator","onClick","persist","onMouseOver","stopPropagation","nativeEvent","stopImmediatePropagation","onTab","autoComplete","TextInputWrapper","StyledContainer","applyKey","OptionsBox","OptionBox","selected","SelectOption","SelectContainer","_ref$children","disabledKey","_ref$emptySearchMessa","emptySearchMessage","labelKey","multiple","onSearch","optionIndexesInValue","options","searchPlaceholder","_ref$value","valueKey","_ref$replace","search","setSearch","activeIndex","setActiveIndex","keyboardNavigation","setKeyboardNavigation","searchRef","optionsRef","searchInput","optionLabel","optionValue","isDisabled","Array","isArray","optionVal","isSelected","some","valueItem","selectOption","nextValue","nextSelected","nextOptionIndexesInValue","valueIndex","splice","reduce","onNextOption","onPreviousOption","onActiveOption","onSelectOption","customSearchInput","SelectTextInput","selectOptionsStyle","box","as","focusIndicator","size","type","nextSearch","role","tabIndex","optionRef","optionDisabled","optionSelected","optionActive","Text","text","StyledSelectDropButton","DropButton","callerPlain","open","Select","alignSelf","_ref$closeOnChange","closeOnChange","gridArea","margin","onClose","onOpen","propOpen","valueLabel","valuedValue","v","setOpen","SelectIcon","onRequestOpen","onRequestClose","onSelectChange","_ref2","icons","up","down","selectValue","isValidElement","inputValue","iconColor","color","dropContent","direction","justify","background","basis","minWidth","SelectWrapper","useFormField","error","info","_","initialValue"],"mappings":"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","file":"3cbbeac919aeb7e42945dc8a87d11ad45c7e2106-e3a19bd56634416f7316.js","sourcesContent":["function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n/* eslint-disable react/no-find-dom-node */\n\n\nimport React, { Component, useEffect, useMemo, useRef, useState } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { findScrollParent, findScrollParents, isNodeAfterScroll, isNodeBeforeScroll } from '../../utils';\nimport { Box } from '../Box';\n\nvar Ref = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Ref, _Component);\n\n  function Ref() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Ref.prototype;\n\n  _proto.render = function render() {\n    var children = this.props.children;\n    return children;\n  };\n\n  return Ref;\n}(Component);\n\nvar InfiniteScroll = function InfiniteScroll(_ref) {\n  var children = _ref.children,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      onMore = _ref.onMore,\n      renderMarker = _ref.renderMarker,\n      replace = _ref.replace,\n      show = _ref.show,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 50 : _ref$step; // the last page we have items for\n\n  var lastPage = useMemo(function () {\n    return Math.floor(items.length / step);\n  }, [items.length, step]); // the first page we are displaying\n\n  var _useState = useState(0),\n      beginPage = _useState[0],\n      setBeginPage = _useState[1]; // the last page we are displaying\n\n\n  var _useState2 = useState(show ? Math.floor((show + step) / step) - 1 : 0),\n      endPage = _useState2[0],\n      setEndPage = _useState2[1]; // how tall we've measured a page to be\n\n\n  var _useState3 = useState(),\n      pageHeight = _useState3[0],\n      setPageHeight = _useState3[1]; // how much area a page requires\n\n\n  var _useState4 = useState(),\n      pageArea = _useState4[0],\n      setPageArea = _useState4[1]; // whether the items are laid out in a grid instead of linearly\n\n\n  var _useState5 = useState(),\n      multiColumn = _useState5[0],\n      setMultiColumn = _useState5[1]; // what we're waiting for onMore to give us\n\n\n  var _useState6 = useState(0),\n      pendingLength = _useState6[0],\n      setPendingLength = _useState6[1];\n\n  var belowMarkerRef = useRef();\n  var firstPageItemRef = useRef();\n  var lastPageItemRef = useRef();\n  var showRef = useRef(); // calculating space based on where the first and last items being displayed\n  // are located\n\n  useEffect(function () {\n    if (firstPageItemRef.current && lastPageItemRef.current && !pageHeight) {\n      /* eslint-disable react/no-find-dom-node */\n      var beginRect = firstPageItemRef.current.getBoundingClientRect ? firstPageItemRef.current.getBoundingClientRect() : findDOMNode(firstPageItemRef.current).getBoundingClientRect();\n      var endRect = lastPageItemRef.current.getBoundingClientRect ? lastPageItemRef.current.getBoundingClientRect() : findDOMNode(lastPageItemRef.current).getBoundingClientRect(); // Need to adjust for cases such as show where first and last page item\n      // refs can be much larger than the step.\n\n      var initialPage = show ? Math.floor(show / step) : 0;\n      var nextPageHeight = (endRect.top + endRect.height - beginRect.top) / (initialPage + 1); // Check if the items are arranged in a single column or not.\n\n      var nextMultiColumn = nextPageHeight / step < endRect.height;\n      var nextPageArea = endRect.height * endRect.width * step;\n      setPageHeight(nextPageHeight);\n      setPageArea(nextPageArea);\n      setMultiColumn(nextMultiColumn);\n    }\n  }, [pageHeight, step, show]); // scroll handling\n\n  useEffect(function () {\n    var scrollParents;\n\n    var onScroll = function onScroll() {\n      var scrollParent = scrollParents[0]; // Determine the window into the first scroll parent\n\n      var top;\n      var height;\n      var width;\n\n      if (scrollParent === document) {\n        top = document.documentElement.scrollTop || document.body.scrollTop;\n        height = window.innerHeight;\n        width = window.innerWidth;\n      } else {\n        top = scrollParent.scrollTop;\n        var rect = scrollParent.getBoundingClientRect();\n        height = rect.height;\n        width = rect.width;\n      } // Figure out which pages we should make visible based on the scroll\n      // window.\n\n\n      var offset = height / 4; // nextBeginPage will increment/decrement when using replace, otherwise\n      // the beginPage will be at 0.\n\n      var nextBeginPage = replace ? Math.min(lastPage, Math.max(0, multiColumn ? Math.floor(Math.max(0, top - offset) * width / pageArea) : Math.floor(Math.max(0, top - offset) / pageHeight))) : 0; // Increment nextEndPage when nearing end of current page\n\n      var nextEndPage = Math.min(lastPage, Math.max(!replace && endPage || 0, multiColumn ? Math.ceil((top + height + offset) * width / pageArea) : Math.floor((top + height + offset) / pageHeight)));\n      if (nextBeginPage !== beginPage) setBeginPage(nextBeginPage);\n      if (nextEndPage !== endPage) setEndPage(nextEndPage);\n    };\n\n    if (pageHeight && belowMarkerRef.current) {\n      scrollParents = findScrollParents(belowMarkerRef.current);\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.addEventListener('scroll', onScroll);\n      });\n      onScroll();\n    }\n\n    return function () {\n      if (scrollParents) {\n        scrollParents.forEach(function (scrollParent) {\n          return scrollParent.removeEventListener('scroll', onScroll);\n        });\n      }\n    };\n  }, [beginPage, endPage, lastPage, multiColumn, pageArea, pageHeight, replace]); // check if we need to ask for more\n\n  useEffect(function () {\n    if (onMore && endPage === lastPage && items.length >= pendingLength) {\n      // remember we've asked for more, so we don't keep asking if it takes\n      // a while\n      setPendingLength(items.length + 1);\n      onMore();\n    }\n  }, [endPage, items.length, lastPage, onMore, pendingLength, step]); // scroll to any 'show'\n\n  useEffect(function () {\n    // ride out any animation delays, 100ms empirically measured\n    var timer = setTimeout(function () {\n      if (show && showRef.current) {\n        var showNode = showRef.current.scrollIntoView ? showRef.current : findDOMNode(showRef.current);\n        var scrollParent = findScrollParent(showNode);\n\n        if (isNodeBeforeScroll(showNode, scrollParent)) {\n          showNode.scrollIntoView(true);\n        } else if (isNodeAfterScroll(showNode, scrollParent)) {\n          showNode.scrollIntoView(false);\n        }\n      }\n    }, 100);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [show]);\n  var firstIndex = beginPage * step;\n  var lastIndex = Math.min((endPage + 1) * step, items.length) - 1;\n  var result = [];\n\n  if (replace && pageHeight && firstIndex) {\n    var marker = /*#__PURE__*/React.createElement(Box, {\n      key: \"above\",\n      flex: false,\n      height: beginPage * pageHeight + \"px\"\n    });\n\n    if (renderMarker) {\n      // need to give it a key\n      marker = /*#__PURE__*/React.cloneElement(renderMarker(marker), {\n        key: 'above'\n      });\n    }\n\n    result.push(marker);\n  }\n\n  items.slice(firstIndex, lastIndex + 1).forEach(function (item, index) {\n    var itemsIndex = firstIndex + index;\n    var ref;\n    var child = children(item, itemsIndex, ref); // Set firstPageItemRef & lastPageItemRef if we don't know the pageHeight.\n\n    if (!pageHeight && itemsIndex === 0) {\n      // We pass the ref we want to the children render function.\n      // If we don't see that our ref was set, wrap it (\"the old way\").\n      child = children(item, itemsIndex, firstPageItemRef);\n\n      if (child.ref !== firstPageItemRef) {\n        child = /*#__PURE__*/React.createElement(Ref, {\n          key: \"first\",\n          ref: firstPageItemRef\n        }, child);\n      }\n    }\n\n    if (!pageHeight && (itemsIndex === step - 1 || itemsIndex === lastIndex)) {\n      // If show && show > step, we only want a single lastPageItemRef and it\n      // should be set at lastIndex. Ignore step - 1 scenario, otherwise will\n      // create duplicates.\n      child = show && show > step && itemsIndex === step - 1 ? child : children(item, itemsIndex, lastPageItemRef); // We pass the ref we want to the children render function.\n      // If we don't see that our ref was set, wrap it (\"the old way\").\n\n      if (child.ref !== lastPageItemRef && !(show && show > step && itemsIndex === step - 1)) {\n        child = /*#__PURE__*/React.createElement(Ref, {\n          key: \"last\",\n          ref: lastPageItemRef\n        }, child);\n      }\n    } // Set showRef\n\n\n    if (show && show === itemsIndex) {\n      child = children(item, itemsIndex, showRef);\n\n      if (child.ref !== showRef) {\n        child = /*#__PURE__*/React.createElement(Ref, {\n          key: \"show\",\n          ref: showRef\n        }, child);\n      }\n    }\n\n    result.push(child);\n  });\n\n  if (endPage < lastPage || replace || onMore) {\n    var _marker = /*#__PURE__*/React.createElement(Box, {\n      key: \"below\",\n      ref: belowMarkerRef,\n      flex: false,\n      height: (replace ? (lastPage - endPage) * pageHeight : 0) + \"px\"\n    });\n\n    if (renderMarker) {\n      // need to give it a key\n      _marker = /*#__PURE__*/React.cloneElement(renderMarker(_marker), {\n        key: 'below'\n      });\n    }\n\n    result.push(_marker);\n  }\n\n  return result;\n};\n\nvar InfiniteScrollDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  InfiniteScrollDoc = require('./doc').doc(InfiniteScroll);\n}\n\nvar InfiniteScrollWrapper = InfiniteScrollDoc || InfiniteScroll;\nexport { InfiniteScrollWrapper as InfiniteScroll };","import React from 'react';\n\nvar createAnnouncer = function createAnnouncer() {\n  var announcer = document.createElement('div');\n  announcer.style.left = '-100%';\n  announcer.style.right = '100%';\n  announcer.style.position = 'fixed';\n  announcer.style['z-index'] = '-1';\n  document.body.insertBefore(announcer, document.body.firstChild);\n  return announcer;\n};\n\nexport var AnnounceContext = /*#__PURE__*/React.createContext(function (message, mode, timeout) {\n  if (mode === void 0) {\n    mode = 'polite';\n  }\n\n  if (timeout === void 0) {\n    timeout = 500;\n  } // we only create a new container if we don't have one already\n  // we create a separate node so that grommet does not set aria-hidden to it\n\n\n  var announcer = document.body.querySelector('[aria-live]') || createAnnouncer();\n  announcer.setAttribute('aria-live', 'off');\n  announcer.innerHTML = message;\n  announcer.setAttribute('aria-live', mode);\n  setTimeout(function () {\n    announcer.innerHTML = '';\n  }, timeout);\n});","import styled from 'styled-components';\nimport { disabledStyle, getInputPadBySide, inputStyle, parseMetricToNum, plainInputStyle } from '../../utils';\nimport { defaultProps } from '../../default-props';\nvar StyledTextInput = styled.input.withConfig({\n  displayName: \"StyledTextInput\",\n  componentId: \"sc-1x30a0s-0\"\n})([\"\", \" \", \" \", \" \", \" \", \";\"], inputStyle, function (props) {\n  return props.plain && plainInputStyle;\n}, function (props) {\n  return props.icon && (props.reverse ? \"padding-right: \" + props.theme.global.edgeSize.large + \";\" : \"padding-left: \" + props.theme.global.edgeSize.large + \";\");\n}, function (props) {\n  return props.disabled && disabledStyle(props.theme.textInput.disabled && props.theme.textInput.disabled.opacity);\n}, function (props) {\n  return props.theme.textInput && props.theme.textInput.extend;\n});\nStyledTextInput.defaultProps = {};\nObject.setPrototypeOf(StyledTextInput.defaultProps, defaultProps);\nvar StyledTextInputContainer = styled.div.withConfig({\n  displayName: \"StyledTextInput__StyledTextInputContainer\",\n  componentId: \"sc-1x30a0s-1\"\n})([\"position:relative;width:100%;\", \";\"], function (props) {\n  return props.theme.textInput && props.theme.textInput.container && props.theme.textInput.container.extend;\n});\nStyledTextInputContainer.defaultProps = {};\nObject.setPrototypeOf(StyledTextInputContainer.defaultProps, defaultProps);\nvar StyledPlaceholder = styled.div.withConfig({\n  displayName: \"StyledTextInput__StyledPlaceholder\",\n  componentId: \"sc-1x30a0s-2\"\n})([\"position:absolute;left:\", \"px;top:50%;transform:translateY(-50%);display:flex;justify-content:center;pointer-events:none;\", \";\"], function (props) {\n  return parseMetricToNum(getInputPadBySide(props, 'left')) - parseMetricToNum(props.theme.global.control.border.width);\n}, function (props) {\n  return props.theme.textInput && props.theme.textInput.placeholder && props.theme.textInput.placeholder.extend;\n});\nStyledPlaceholder.defaultProps = {};\nObject.setPrototypeOf(StyledPlaceholder.defaultProps, defaultProps);\nvar StyledIcon = styled.div.withConfig({\n  displayName: \"StyledTextInput__StyledIcon\",\n  componentId: \"sc-1x30a0s-3\"\n})([\"position:absolute;display:flex;justify:center;top:50%;transform:translateY(-50%);pointer-events:none;\", \"\"], function (props) {\n  return props.reverse ? \"right: \" + getInputPadBySide(props, 'right') + \";\" : \"left: \" + getInputPadBySide(props, 'left') + \";\";\n});\nvar StyledSuggestions = styled.ol.withConfig({\n  displayName: \"StyledTextInput__StyledSuggestions\",\n  componentId: \"sc-1x30a0s-4\"\n})([\"border-top-left-radius:0;border-top-right-radius:0;margin:0;padding:0;list-style-type:none;\", \";\"], function (props) {\n  return props.theme.textInput && props.theme.textInput.suggestions && props.theme.textInput.suggestions.extend;\n});\nStyledSuggestions.defaultProps = {};\nObject.setPrototypeOf(StyledSuggestions.defaultProps, defaultProps);\nexport { StyledTextInput, StyledTextInputContainer, StyledPlaceholder, StyledIcon, StyledSuggestions };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { Keyboard } from '../Keyboard';\nimport { FormContext } from '../Form/FormContext';\nimport { AnnounceContext } from '../../contexts';\nimport { isNodeAfterScroll, isNodeBeforeScroll, sizeStyle, useForwardedRef } from '../../utils';\nimport { StyledTextInput, StyledTextInputContainer, StyledPlaceholder, StyledIcon, StyledSuggestions } from './StyledTextInput';\n\nvar renderLabel = function renderLabel(suggestion) {\n  if (suggestion && typeof suggestion === 'object') {\n    return suggestion.label || suggestion.value;\n  }\n\n  return suggestion;\n};\n\nvar stringLabel = function stringLabel(suggestion) {\n  if (suggestion && typeof suggestion === 'object') {\n    if (suggestion.label && typeof suggestion.label === 'string') {\n      return suggestion.label;\n    }\n\n    return suggestion.value;\n  }\n\n  return suggestion;\n};\n\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"TextInput__ContainerBox\",\n  componentId: \"sc-1ai0c08-0\"\n})([\"\", \";@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}\"], function (props) {\n  return props.dropHeight ? sizeStyle('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';\n});\nvar defaultDropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar defaultMessages = {\n  enterSelect: '(Press Enter to Select)',\n  suggestionsCount: 'suggestions available',\n  suggestionsExist: 'This input has suggestions use arrow keys to navigate',\n  suggestionIsOpen: 'Suggestions drop is open, continue to use arrow keys to navigate'\n};\nvar TextInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      defaultValue = _ref.defaultValue,\n      _ref$dropAlign = _ref.dropAlign,\n      dropAlign = _ref$dropAlign === void 0 ? defaultDropAlign : _ref$dropAlign,\n      dropHeight = _ref.dropHeight,\n      dropTarget = _ref.dropTarget,\n      dropProps = _ref.dropProps,\n      icon = _ref.icon,\n      id = _ref.id,\n      _ref$messages = _ref.messages,\n      messages = _ref$messages === void 0 ? defaultMessages : _ref$messages,\n      name = _ref.name,\n      _onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      _onFocus = _ref.onFocus,\n      onKeyDown = _ref.onKeyDown,\n      onSelect = _ref.onSelect,\n      onSuggestionsClose = _ref.onSuggestionsClose,\n      onSuggestionsOpen = _ref.onSuggestionsOpen,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      readOnly = _ref.readOnly,\n      reverse = _ref.reverse,\n      suggestions = _ref.suggestions,\n      valueProp = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"defaultValue\", \"dropAlign\", \"dropHeight\", \"dropTarget\", \"dropProps\", \"icon\", \"id\", \"messages\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"onKeyDown\", \"onSelect\", \"onSuggestionsClose\", \"onSuggestionsOpen\", \"placeholder\", \"plain\", \"readOnly\", \"reverse\", \"suggestions\", \"value\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var announce = useContext(AnnounceContext);\n  var formContext = useContext(FormContext);\n  var inputRef = useForwardedRef(ref);\n  var dropRef = useRef();\n  var suggestionsRef = useRef();\n  var suggestionRefs = {}; // if this is a readOnly property, don't set a name with the form context\n  // this allows Select to control the form context for the name.\n\n  var _formContext$useFormI = formContext.useFormInput(readOnly ? undefined : name, valueProp),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1];\n\n  var _useState = useState(),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  var _useState2 = useState(),\n      showDrop = _useState2[0],\n      setShowDrop = _useState2[1]; // if we have no suggestions, close drop if it's open\n\n\n  useEffect(function () {\n    if (showDrop && (!suggestions || !suggestions.length)) {\n      setShowDrop(false);\n      if (onSuggestionsClose) onSuggestionsClose();\n    }\n  }, [onSuggestionsClose, showDrop, suggestions]); // If we have suggestions and focus, open drop if it's closed.\n  // This can occur when suggestions are tied to the value.\n  // We don't want focus or showDrop in the dependencies because we\n  // don't want to open the drop just because Esc close it.\n\n  /* eslint-disable react-hooks/exhaustive-deps */\n\n  useEffect(function () {\n    if (focus && !showDrop && suggestions && suggestions.length) {\n      setShowDrop(true);\n      if (onSuggestionsOpen) onSuggestionsOpen();\n    }\n  }, [onSuggestionsOpen, suggestions]);\n  /* eslint-enable react-hooks/exhaustive-deps */\n\n  var _useState3 = useState(-1),\n      activeSuggestionIndex = _useState3[0],\n      setActiveSuggestionIndex = _useState3[1]; // reset activeSuggestionIndex when the drop is closed\n\n\n  useEffect(function () {\n    if (activeSuggestionIndex !== -1 && !showDrop) {\n      setActiveSuggestionIndex(-1);\n    }\n  }, [activeSuggestionIndex, showDrop]); // announce active suggestion\n\n  useEffect(function () {\n    if (activeSuggestionIndex >= 0) {\n      var label = stringLabel(suggestions[activeSuggestionIndex]);\n      announce(label + \" \" + messages.enterSelect);\n    }\n  }, [activeSuggestionIndex, announce, messages, suggestions]);\n\n  var _useState4 = useState(-1),\n      selectedSuggestionIndex = _useState4[0],\n      setSelectedSuggestionIndex = _useState4[1]; // set selectedSuggestionIndex based on value and current suggestions\n\n\n  useEffect(function () {\n    if (suggestions) {\n      var suggestionValues = suggestions.map(function (suggestion) {\n        return typeof suggestion === 'object' ? suggestion.value : suggestion;\n      });\n      setSelectedSuggestionIndex(suggestionValues.indexOf(value));\n    } else setSelectedSuggestionIndex(-1);\n  }, [suggestions, value]); // make sure activeSuggestion remains visible in scroll\n\n  useEffect(function () {\n    var buttonNode = suggestionRefs[activeSuggestionIndex];\n    var optionsNode = suggestionsRef.current;\n\n    if (buttonNode && isNodeAfterScroll(buttonNode, optionsNode) && optionsNode.scrollTo) {\n      optionsNode.scrollTo(0, buttonNode.offsetTop - (optionsNode.getBoundingClientRect().height - buttonNode.getBoundingClientRect().height));\n    }\n\n    if (buttonNode && isNodeBeforeScroll(buttonNode, optionsNode) && optionsNode.scrollTo) {\n      optionsNode.scrollTo(0, buttonNode.offsetTop);\n    }\n  }, [activeSuggestionIndex, suggestionRefs]);\n  var openDrop = useCallback(function () {\n    setShowDrop(true);\n    announce(messages.suggestionIsOpen);\n    announce(suggestions.length + \" \" + messages.suggestionsCount);\n    if (onSuggestionsOpen) onSuggestionsOpen();\n  }, [announce, messages.suggestionsCount, messages.suggestionIsOpen, onSuggestionsOpen, suggestions]);\n  var closeDrop = useCallback(function () {\n    setShowDrop(false);\n    if (messages.onSuggestionsClose) onSuggestionsClose();\n    if (onSuggestionsClose) onSuggestionsClose();\n  }, [messages.onSuggestionsClose, onSuggestionsClose]);\n\n  var onNextSuggestion = function onNextSuggestion(event) {\n    event.preventDefault();\n    var nextActiveIndex = Math.min(activeSuggestionIndex + 1, suggestions.length - 1);\n    setActiveSuggestionIndex(nextActiveIndex);\n  };\n\n  var onPreviousSuggestion = function onPreviousSuggestion(event) {\n    event.preventDefault();\n    var nextActiveIndex = Math.max(activeSuggestionIndex - 1, 0);\n    setActiveSuggestionIndex(nextActiveIndex);\n  };\n\n  var showStyledPlaceholder = placeholder && typeof placeholder !== 'string' && !value;\n  var drop;\n\n  if (showDrop) {\n    drop =\n    /*#__PURE__*/\n    // keyboard access needed here in case user clicks\n    // and drags on scroll bar and focus shifts to drop\n    React.createElement(Keyboard, {\n      onDown: function onDown(event) {\n        return onNextSuggestion(event);\n      },\n      onUp: function onUp(event) {\n        return onPreviousSuggestion(event);\n      },\n      onEnter: function onEnter(event) {\n        // we stole the focus, give it back\n        inputRef.current.focus();\n        closeDrop();\n\n        if (onSelect) {\n          var adjustedEvent = event;\n          adjustedEvent.suggestion = suggestions[activeSuggestionIndex];\n          onSelect(adjustedEvent);\n        }\n\n        setValue(suggestions[activeSuggestionIndex]);\n      }\n    }, /*#__PURE__*/React.createElement(Drop, _extends({\n      ref: dropRef,\n      id: id ? \"text-input-drop__\" + id : undefined,\n      align: dropAlign,\n      responsive: false,\n      target: dropTarget || inputRef.current,\n      onClickOutside: closeDrop,\n      onEsc: closeDrop\n    }, dropProps), /*#__PURE__*/React.createElement(ContainerBox, {\n      ref: suggestionsRef,\n      overflow: \"auto\",\n      dropHeight: dropHeight\n    }, /*#__PURE__*/React.createElement(StyledSuggestions, null, /*#__PURE__*/React.createElement(InfiniteScroll, {\n      items: suggestions,\n      step: theme.select.step\n    }, function (suggestion, index, itemRef) {\n      // Determine whether the label is done as a child or\n      // as an option Button kind property.\n      var renderedLabel = renderLabel(suggestion);\n      var child;\n      if (typeof renderedLabel !== 'string') // must be an element rendered by suggestions.label\n        child = renderedLabel;else if (!theme.button.option) // don't have theme support, need to layout here\n        child = /*#__PURE__*/React.createElement(Box, {\n          align: \"start\",\n          pad: \"small\"\n        }, renderedLabel); // if we have a child, turn on plain, and hoverIndicator\n\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: stringLabel(suggestion) + \"-\" + index,\n        ref: itemRef\n      }, /*#__PURE__*/React.createElement(Button, {\n        active: activeSuggestionIndex === index || selectedSuggestionIndex === index,\n        ref: function ref(r) {\n          suggestionRefs[index] = r;\n        },\n        fill: true,\n        plain: !child ? undefined : true,\n        align: \"start\",\n        kind: !child ? 'option' : undefined,\n        hoverIndicator: !child ? undefined : 'background',\n        label: !child ? renderedLabel : undefined,\n        onClick: function onClick(event) {\n          // we stole the focus, give it back\n          inputRef.current.focus();\n          closeDrop();\n\n          if (onSelect) {\n            event.persist();\n            var adjustedEvent = event;\n            adjustedEvent.suggestion = suggestion;\n            adjustedEvent.target = inputRef.current;\n            onSelect(adjustedEvent);\n          }\n\n          setValue(suggestion);\n        },\n        onMouseOver: function onMouseOver() {\n          return setActiveSuggestionIndex(index);\n        },\n        onFocus: function onFocus() {\n          return setActiveSuggestionIndex(index);\n        }\n      }, child));\n    })))));\n  }\n\n  return /*#__PURE__*/React.createElement(StyledTextInputContainer, {\n    plain: plain\n  }, showStyledPlaceholder && /*#__PURE__*/React.createElement(StyledPlaceholder, null, placeholder), icon && /*#__PURE__*/React.createElement(StyledIcon, {\n    reverse: reverse,\n    theme: theme\n  }, icon), /*#__PURE__*/React.createElement(Keyboard, {\n    onEnter: function onEnter(event) {\n      closeDrop();\n\n      if (activeSuggestionIndex >= 0 && onSelect) {\n        // prevent submitting forms when choosing a suggestion\n        event.preventDefault();\n        event.persist();\n        var adjustedEvent = event;\n        adjustedEvent.suggestion = suggestions[activeSuggestionIndex];\n        adjustedEvent.target = inputRef.current;\n        onSelect(adjustedEvent);\n      }\n    },\n    onEsc: showDrop ? function (event) {\n      closeDrop(); // we have to stop both synthetic events and native events\n      // drop and layer should not close by pressing esc on this\n      // input\n\n      event.stopPropagation();\n      event.nativeEvent.stopImmediatePropagation();\n    } : undefined,\n    onTab: showDrop ? closeDrop : undefined,\n    onUp: showDrop && suggestions && suggestions.length > 0 && activeSuggestionIndex ? function (event) {\n      onPreviousSuggestion(event);\n    } : undefined,\n    onDown: suggestions && suggestions.length > 0 ? function (event) {\n      if (!showDrop) {\n        openDrop();\n      } else {\n        onNextSuggestion(event);\n      }\n    } : undefined,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(StyledTextInput, _extends({\n    \"aria-label\": a11yTitle,\n    ref: inputRef,\n    id: id,\n    name: name,\n    autoComplete: \"off\",\n    plain: plain,\n    placeholder: typeof placeholder === 'string' ? placeholder : undefined,\n    icon: icon,\n    reverse: reverse,\n    focus: focus\n  }, rest, {\n    defaultValue: renderLabel(defaultValue),\n    value: renderLabel(value),\n    readOnly: readOnly,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n\n      if (suggestions && suggestions.length > 0) {\n        announce(messages.suggestionsExist);\n        openDrop();\n      }\n\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      if (_onBlur) _onBlur(event);\n    },\n    onChange: readOnly ? undefined : function (event) {\n      setValue(event.target.value);\n      if (onChange) onChange(event);\n    }\n  }))), drop);\n});\nTextInput.displayName = 'TextInput';\nvar TextInputDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  TextInputDoc = require('./doc').doc(TextInput);\n}\n\nvar TextInputWrapper = TextInputDoc || TextInput;\nexport { TextInputWrapper as TextInput };","import styled from 'styled-components';\nimport { sizeStyle } from '../../utils';\nexport var StyledContainer = styled.div.withConfig({\n  displayName: \"StyledSelect__StyledContainer\",\n  componentId: \"znp66n-0\"\n})([\"@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}\", \";\", \";\"], function (props) {\n  return props.dropHeight ? sizeStyle('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';\n}, function (props) {\n  return props.theme.select.container && props.theme.select.container.extend;\n});","export var applyKey = function applyKey(option, key) {\n  if (option === undefined) return undefined;\n  if (typeof key === 'object') return applyKey(option, key.key);\n  if (typeof key === 'function') return key(option);\n  if (key !== undefined) return option[key];\n  return option;\n};","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { forwardRef, useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { selectedStyle, setFocusWithoutScroll } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { TextInput } from '../TextInput';\nimport { StyledContainer } from './StyledSelect';\nimport { applyKey } from './utils'; // position relative is so scroll can be managed correctly\n\nvar OptionsBox = styled.div.withConfig({\n  displayName: \"SelectContainer__OptionsBox\",\n  componentId: \"sc-1wi0ul8-0\"\n})([\"position:relative;scroll-behavior:smooth;overflow:auto;outline:none;\"]);\nvar OptionBox = styled(Box).withConfig({\n  displayName: \"SelectContainer__OptionBox\",\n  componentId: \"sc-1wi0ul8-1\"\n})([\"\", \"\"], function (props) {\n  return props.selected && selectedStyle;\n});\nvar SelectOption = styled(Button).withConfig({\n  displayName: \"SelectContainer__SelectOption\",\n  componentId: \"sc-1wi0ul8-2\"\n})([\"display:block;width:100%;\"]);\nvar SelectContainer = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$children = _ref.children,\n      children = _ref$children === void 0 ? null : _ref$children,\n      disabled = _ref.disabled,\n      disabledKey = _ref.disabledKey,\n      dropHeight = _ref.dropHeight,\n      _ref$emptySearchMessa = _ref.emptySearchMessage,\n      emptySearchMessage = _ref$emptySearchMessa === void 0 ? 'No matches found' : _ref$emptySearchMessa,\n      id = _ref.id,\n      labelKey = _ref.labelKey,\n      multiple = _ref.multiple,\n      onChange = _ref.onChange,\n      onKeyDown = _ref.onKeyDown,\n      onMore = _ref.onMore,\n      onSearch = _ref.onSearch,\n      optionIndexesInValue = _ref.optionIndexesInValue,\n      options = _ref.options,\n      searchPlaceholder = _ref.searchPlaceholder,\n      selected = _ref.selected,\n      _ref$value = _ref.value,\n      value = _ref$value === void 0 ? '' : _ref$value,\n      valueKey = _ref.valueKey,\n      _ref$replace = _ref.replace,\n      replace = _ref$replace === void 0 ? true : _ref$replace;\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(),\n      search = _useState[0],\n      setSearch = _useState[1];\n\n  var _useState2 = useState(-1),\n      activeIndex = _useState2[0],\n      setActiveIndex = _useState2[1];\n\n  var _useState3 = useState(),\n      keyboardNavigation = _useState3[0],\n      setKeyboardNavigation = _useState3[1];\n\n  var searchRef = useRef();\n  var optionsRef = useRef(); // adjust activeIndex when options change\n\n  useEffect(function () {\n    if (activeIndex === -1 && search && optionIndexesInValue.length) {\n      setActiveIndex(optionIndexesInValue[0]);\n    }\n  }, [activeIndex, optionIndexesInValue, search]); // set initial focus\n\n  useEffect(function () {\n    // need to wait for Drop to be ready\n    var timer = setTimeout(function () {\n      var optionsNode = optionsRef.current;\n\n      if (onSearch) {\n        var searchInput = searchRef.current;\n\n        if (searchInput && searchInput.focus) {\n          setFocusWithoutScroll(searchInput);\n        }\n      } else if (optionsNode) {\n        setFocusWithoutScroll(optionsNode);\n      }\n    }, 100);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [onSearch]); // clear keyboardNavigation after a while\n\n  useEffect(function () {\n    if (keyboardNavigation) {\n      // 100ms was empirically determined\n      var timer = setTimeout(function () {\n        return setKeyboardNavigation(false);\n      }, 100);\n      return function () {\n        return clearTimeout(timer);\n      };\n    }\n\n    return undefined;\n  }, [keyboardNavigation]);\n  var optionLabel = useCallback(function (index) {\n    return applyKey(options[index], labelKey);\n  }, [labelKey, options]);\n  var optionValue = useCallback(function (index) {\n    return applyKey(options[index], valueKey);\n  }, [options, valueKey]);\n  var isDisabled = useCallback(function (index) {\n    var option = options[index];\n    var result;\n\n    if (disabledKey) {\n      result = applyKey(option, disabledKey);\n    } else if (Array.isArray(disabled)) {\n      if (typeof disabled[0] === 'number') {\n        result = disabled.indexOf(index) !== -1;\n      } else {\n        var optionVal = optionValue(index);\n        result = disabled.indexOf(optionVal) !== -1;\n      }\n    }\n\n    return result;\n  }, [disabled, disabledKey, options, optionValue]);\n  var isSelected = useCallback(function (index) {\n    var result;\n\n    if (selected) {\n      // deprecated in favor of value\n      result = selected.indexOf(index) !== -1;\n    } else {\n      var optionVal = optionValue(index);\n\n      if (Array.isArray(value)) {\n        if (value.length === 0) {\n          result = false;\n        } else if (typeof value[0] !== 'object') {\n          result = value.indexOf(optionVal) !== -1;\n        } else if (valueKey) {\n          result = value.some(function (valueItem) {\n            var valueValue = typeof valueKey === 'function' ? valueKey(valueItem) : valueItem[valueKey];\n            return valueValue === optionVal;\n          });\n        }\n      } else if (valueKey && typeof value === 'object') {\n        var valueValue = typeof valueKey === 'function' ? valueKey(value) : value[valueKey];\n        result = valueValue === optionVal;\n      } else {\n        result = value === optionVal;\n      }\n    }\n\n    return result;\n  }, [optionValue, selected, value, valueKey]);\n  var selectOption = useCallback(function (index) {\n    return function (event) {\n      if (onChange) {\n        var nextValue;\n        var nextSelected;\n\n        if (multiple) {\n          var nextOptionIndexesInValue = optionIndexesInValue.slice(0);\n          var valueIndex = optionIndexesInValue.indexOf(index);\n\n          if (valueIndex === -1) {\n            nextOptionIndexesInValue.push(index);\n          } else {\n            nextOptionIndexesInValue.splice(valueIndex, 1);\n          }\n\n          nextValue = nextOptionIndexesInValue.map(function (i) {\n            return valueKey && valueKey.reduce ? applyKey(options[i], valueKey) : options[i];\n          });\n          nextSelected = nextOptionIndexesInValue;\n        } else {\n          nextValue = valueKey && valueKey.reduce ? applyKey(options[index], valueKey) : options[index];\n          nextSelected = index;\n        }\n\n        onChange(event, {\n          option: options[index],\n          value: nextValue,\n          selected: nextSelected\n        });\n      }\n    };\n  }, [multiple, onChange, optionIndexesInValue, options, valueKey]);\n  var onNextOption = useCallback(function (event) {\n    event.preventDefault();\n    var nextActiveIndex = activeIndex + 1;\n\n    while (nextActiveIndex < options.length && isDisabled(nextActiveIndex)) {\n      nextActiveIndex += 1;\n    }\n\n    if (nextActiveIndex !== options.length) {\n      setActiveIndex(nextActiveIndex);\n      setKeyboardNavigation(true);\n    }\n  }, [activeIndex, isDisabled, options]);\n  var onPreviousOption = useCallback(function (event) {\n    event.preventDefault();\n    var nextActiveIndex = activeIndex - 1;\n\n    while (nextActiveIndex >= 0 && isDisabled(nextActiveIndex)) {\n      nextActiveIndex -= 1;\n    }\n\n    if (nextActiveIndex >= 0) {\n      setActiveIndex(nextActiveIndex);\n      setKeyboardNavigation(true);\n    }\n  }, [activeIndex, isDisabled]);\n  var onActiveOption = useCallback(function (index) {\n    return function () {\n      if (!keyboardNavigation) setActiveIndex(index);\n    };\n  }, [keyboardNavigation]);\n  var onSelectOption = useCallback(function (event) {\n    if (activeIndex >= 0) {\n      event.preventDefault(); // prevent submitting forms\n\n      selectOption(activeIndex)(event);\n    }\n  }, [activeIndex, selectOption]);\n  var customSearchInput = theme.select.searchInput;\n  var SelectTextInput = customSearchInput || TextInput;\n  var selectOptionsStyle = theme.select.options ? _extends({}, theme.select.options.box, theme.select.options.container) : {};\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onEnter: onSelectOption,\n    onUp: onPreviousOption,\n    onDown: onNextOption,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(StyledContainer, {\n    ref: ref,\n    as: Box,\n    id: id ? id + \"__select-drop\" : undefined,\n    dropHeight: dropHeight\n  }, onSearch && /*#__PURE__*/React.createElement(Box, {\n    pad: !customSearchInput ? 'xsmall' : undefined,\n    flex: false\n  }, /*#__PURE__*/React.createElement(SelectTextInput, {\n    focusIndicator: !customSearchInput,\n    size: \"small\",\n    ref: searchRef,\n    type: \"search\",\n    value: search || '',\n    placeholder: searchPlaceholder,\n    onChange: function onChange(event) {\n      var nextSearch = event.target.value;\n      setSearch(nextSearch);\n      setActiveIndex(-1);\n      onSearch(nextSearch);\n    }\n  })), /*#__PURE__*/React.createElement(OptionsBox, {\n    role: \"menubar\",\n    tabIndex: \"-1\",\n    ref: optionsRef\n  }, options.length > 0 ? /*#__PURE__*/React.createElement(InfiniteScroll, {\n    items: options,\n    step: theme.select.step,\n    onMore: onMore,\n    replace: replace,\n    show: activeIndex !== -1 ? activeIndex : undefined\n  }, function (option, index, optionRef) {\n    var optionDisabled = isDisabled(index);\n    var optionSelected = isSelected(index);\n    var optionActive = activeIndex === index; // Determine whether the label is done as a child or\n    // as an option Button kind property.\n\n    var child;\n    if (children) child = children(option, index, options, {\n      active: optionActive,\n      disabled: optionDisabled,\n      selected: optionSelected\n    });else if (theme.select.options) child = /*#__PURE__*/React.createElement(OptionBox, _extends({}, selectOptionsStyle, {\n      selected: optionSelected\n    }), /*#__PURE__*/React.createElement(Text, theme.select.options.text, optionLabel(index))); // if we have a child, turn on plain, and hoverIndicator\n\n    return /*#__PURE__*/React.createElement(SelectOption // eslint-disable-next-line react/no-array-index-key\n    , {\n      key: index,\n      ref: optionRef,\n      tabIndex: \"-1\",\n      role: \"menuitem\",\n      plain: !child ? undefined : true,\n      align: \"start\",\n      kind: !child ? 'option' : undefined,\n      hoverIndicator: !child ? undefined : 'background',\n      label: !child ? optionLabel(index) : undefined,\n      disabled: optionDisabled || undefined,\n      active: optionActive,\n      selected: optionSelected,\n      option: option,\n      onMouseOver: !optionDisabled ? onActiveOption(index) : undefined,\n      onClick: !optionDisabled ? selectOption(index) : undefined\n    }, child);\n  }) : /*#__PURE__*/React.createElement(SelectOption, {\n    key: \"search_empty\",\n    tabIndex: \"-1\",\n    role: \"menuitem\",\n    hoverIndicator: \"background\",\n    disabled: true,\n    option: emptySearchMessage\n  }, /*#__PURE__*/React.createElement(OptionBox, selectOptionsStyle, /*#__PURE__*/React.createElement(Text, theme.select.container.text, emptySearchMessage))))));\n});\nexport { SelectContainer };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, isValidElement, useCallback, useContext, useMemo, useState, useRef, useEffect } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { controlBorderStyle, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { FormContext } from '../Form/FormContext';\nimport { TextInput } from '../TextInput';\nimport { SelectContainer } from './SelectContainer';\nimport { applyKey } from './utils';\nvar SelectTextInput = styled(TextInput).withConfig({\n  displayName: \"Select__SelectTextInput\",\n  componentId: \"sc-17idtfo-0\"\n})([\"cursor:pointer;\"]);\nvar StyledSelectDropButton = styled(DropButton).withConfig({\n  displayName: \"Select__StyledSelectDropButton\",\n  componentId: \"sc-17idtfo-1\"\n})([\"\", \";\", \";\", \";\"], function (props) {\n  return !props.callerPlain && controlBorderStyle;\n}, function (props) {\n  return props.theme.select && props.theme.select.control && props.theme.select.control.extend;\n}, function (props) {\n  return props.open && props.theme.select.control.open;\n});\nStyledSelectDropButton.defaultProps = {};\nObject.setPrototypeOf(StyledSelectDropButton.defaultProps, defaultProps);\nvar defaultDropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar defaultMessages = {\n  multiple: 'multiple'\n};\nvar Select = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      alignSelf = _ref.alignSelf,\n      children = _ref.children,\n      _ref$closeOnChange = _ref.closeOnChange,\n      closeOnChange = _ref$closeOnChange === void 0 ? true : _ref$closeOnChange,\n      disabled = _ref.disabled,\n      disabledKey = _ref.disabledKey,\n      _ref$dropAlign = _ref.dropAlign,\n      dropAlign = _ref$dropAlign === void 0 ? defaultDropAlign : _ref$dropAlign,\n      dropHeight = _ref.dropHeight,\n      dropProps = _ref.dropProps,\n      dropTarget = _ref.dropTarget,\n      emptySearchMessage = _ref.emptySearchMessage,\n      focusIndicator = _ref.focusIndicator,\n      gridArea = _ref.gridArea,\n      id = _ref.id,\n      icon = _ref.icon,\n      labelKey = _ref.labelKey,\n      margin = _ref.margin,\n      _ref$messages = _ref.messages,\n      messages = _ref$messages === void 0 ? defaultMessages : _ref$messages,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      onChange = _ref.onChange,\n      onClick = _ref.onClick,\n      onClose = _ref.onClose,\n      onKeyDown = _ref.onKeyDown,\n      onMore = _ref.onMore,\n      onOpen = _ref.onOpen,\n      onSearch = _ref.onSearch,\n      propOpen = _ref.open,\n      options = _ref.options,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      replace = _ref.replace,\n      searchPlaceholder = _ref.searchPlaceholder,\n      selected = _ref.selected,\n      size = _ref.size,\n      valueProp = _ref.value,\n      valueKey = _ref.valueKey,\n      valueLabel = _ref.valueLabel,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"alignSelf\", \"children\", \"closeOnChange\", \"disabled\", \"disabledKey\", \"dropAlign\", \"dropHeight\", \"dropProps\", \"dropTarget\", \"emptySearchMessage\", \"focusIndicator\", \"gridArea\", \"id\", \"icon\", \"labelKey\", \"margin\", \"messages\", \"multiple\", \"name\", \"onChange\", \"onClick\", \"onClose\", \"onKeyDown\", \"onMore\", \"onOpen\", \"onSearch\", \"open\", \"options\", \"placeholder\", \"plain\", \"replace\", \"searchPlaceholder\", \"selected\", \"size\", \"value\", \"valueKey\", \"valueLabel\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var inputRef = useRef();\n  var formContext = useContext(FormContext); // value is used for what we receive in valueProp and the basis for\n  // what we send with onChange\n\n  var _formContext$useFormI = formContext.useFormInput(name, valueProp, ''),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1]; // valuedValue is the value mapped with any valueKey applied\n\n\n  var valuedValue = useMemo(function () {\n    if (Array.isArray(value)) return value.map(function (v) {\n      return valueKey && valueKey.reduce ? v : applyKey(v, valueKey);\n    });\n    return valueKey && valueKey.reduce ? value : applyKey(value, valueKey);\n  }, [value, valueKey]); // the option indexes present in the value\n\n  var optionIndexesInValue = useMemo(function () {\n    var result = [];\n    options.forEach(function (option, index) {\n      if (selected !== undefined) {\n        if (Array.isArray(selected)) {\n          if (selected.indexOf(index) !== -1) result.push(index);\n        } else if (index === selected) {\n          result.push(index);\n        }\n      } else if (Array.isArray(valuedValue)) {\n        if (valuedValue.some(function (v) {\n          return v === applyKey(option, valueKey);\n        })) {\n          result.push(index);\n        }\n      } else if (valuedValue === applyKey(option, valueKey)) {\n        result.push(index);\n      }\n    });\n    return result;\n  }, [options, selected, valueKey, valuedValue]);\n\n  var _useState = useState(propOpen),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  useEffect(function () {\n    return setOpen(propOpen);\n  }, [propOpen]);\n  var onRequestOpen = useCallback(function () {\n    if (open) return;\n    setOpen(true);\n    if (onOpen) onOpen();\n  }, [onOpen, open]);\n  var onRequestClose = useCallback(function () {\n    setOpen(false);\n    if (onClose) onClose();\n  }, [onClose]);\n  var onSelectChange = useCallback(function (event, _ref2) {\n    var option = _ref2.option,\n        nextValue = _ref2.value,\n        nextSelected = _ref2.selected;\n    if (closeOnChange) onRequestClose();\n    setValue(nextValue);\n\n    if (onChange) {\n      event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.target = inputRef.current;\n      adjustedEvent.value = nextValue;\n      adjustedEvent.option = option;\n      adjustedEvent.selected = nextSelected;\n      onChange(adjustedEvent);\n    }\n  }, [closeOnChange, onChange, onRequestClose, setValue]);\n  var SelectIcon;\n\n  switch (icon) {\n    case false:\n      break;\n\n    case true:\n    case undefined:\n      SelectIcon = open && theme.select.icons.up ? theme.select.icons.up : theme.select.icons.down;\n      break;\n\n    default:\n      SelectIcon = icon;\n  } // element to show, trumps inputValue\n\n\n  var selectValue = useMemo(function () {\n    if (valueLabel) return valueLabel;\n    if ( /*#__PURE__*/React.isValidElement(value)) return value; // deprecated\n\n    return undefined;\n  }, [value, valueLabel]); // text to show\n\n  var inputValue = useMemo(function () {\n    if (!selectValue) {\n      if (optionIndexesInValue.length === 0) return '';\n      if (optionIndexesInValue.length === 1) return applyKey(options[optionIndexesInValue[0]], labelKey);\n      return messages.multiple;\n    }\n\n    return undefined;\n  }, [labelKey, messages, optionIndexesInValue, options, selectValue]);\n  var iconColor = normalizeColor(theme.select.icons.color || 'control', theme);\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onRequestOpen,\n    onUp: onRequestOpen\n  }, /*#__PURE__*/React.createElement(StyledSelectDropButton, {\n    ref: ref,\n    id: id,\n    disabled: disabled === true || undefined,\n    dropAlign: dropAlign,\n    dropTarget: dropTarget,\n    open: open,\n    alignSelf: alignSelf,\n    focusIndicator: focusIndicator,\n    gridArea: gridArea,\n    margin: margin,\n    onOpen: onRequestOpen,\n    onClose: onRequestClose,\n    onClick: onClick,\n    dropContent: /*#__PURE__*/React.createElement(SelectContainer, {\n      disabled: disabled,\n      disabledKey: disabledKey,\n      dropHeight: dropHeight,\n      emptySearchMessage: emptySearchMessage,\n      id: id,\n      labelKey: labelKey,\n      multiple: multiple,\n      name: name,\n      onChange: onSelectChange,\n      onKeyDown: onKeyDown,\n      onMore: onMore,\n      onSearch: onSearch,\n      options: options,\n      optionIndexesInValue: optionIndexesInValue,\n      replace: replace,\n      searchPlaceholder: searchPlaceholder,\n      selected: selected,\n      value: value,\n      valueKey: valueKey\n    }, children) // StyledDropButton needs to know if the border should be shown\n    ,\n    callerPlain: plain,\n    plain: true // Button should be plain\n    ,\n    dropProps: dropProps,\n    theme: theme\n  }, /*#__PURE__*/React.createElement(Box, {\n    align: \"center\",\n    direction: \"row\",\n    justify: \"between\",\n    background: theme.select.background\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    flex: true,\n    basis: \"auto\"\n  }, selectValue || /*#__PURE__*/React.createElement(SelectTextInput, _extends({\n    a11yTitle: a11yTitle && \"\" + a11yTitle + (value && typeof value === 'string' ? \", \" + value : ''),\n    id: id ? id + \"__input\" : undefined,\n    name: name,\n    ref: inputRef\n  }, rest, {\n    tabIndex: \"-1\",\n    type: \"text\",\n    placeholder: placeholder,\n    plain: true,\n    readOnly: true,\n    value: inputValue,\n    size: size,\n    theme: theme\n  }))), SelectIcon && /*#__PURE__*/React.createElement(Box, {\n    margin: theme.select.icons.margin,\n    flex: false,\n    style: {\n      minWidth: 'auto'\n    }\n  }, /*#__PURE__*/isValidElement(SelectIcon) ? SelectIcon : /*#__PURE__*/React.createElement(SelectIcon, {\n    color: iconColor,\n    size: size\n  })))));\n});\nSelect.defaultProps = _extends({}, defaultProps);\nSelect.displayName = 'Select';\nvar SelectDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  SelectDoc = require('./doc').doc(Select);\n}\n\nvar SelectWrapper = SelectDoc || Select;\nexport { SelectWrapper as Select };","import React, { useState } from 'react'; // When not a descendant of a Form, FormContext still provides a basic\n// useFormInput. It doesn't do anything for components like TextInput.\n// But, it does store the value for components like CheckBox or Select\n// where the grommet component needs to know the value in order to\n// render custom visuals.\n\nvar useFormInput = function useFormInput(_, valueProp, initialValue) {\n  var _useState = useState(valueProp !== undefined ? valueProp : initialValue),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  return [valueProp !== undefined ? valueProp : value, function (nextValue) {\n    if (initialValue !== undefined) setValue(nextValue);\n  }];\n};\n\nvar useFormField = function useFormField(_ref) {\n  var error = _ref.error,\n      info = _ref.info;\n  return {\n    error: error,\n    info: info\n  };\n};\n\nexport var FormContext = /*#__PURE__*/React.createContext({\n  useFormField: useFormField,\n  useFormInput: useFormInput\n});"],"sourceRoot":""}