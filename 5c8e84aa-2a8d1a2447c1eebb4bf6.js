"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[711],{2087:function(t,e,r){r.d(e,{ZP:function(){return Ii}});var n=r(4497),i=r(2397),o=r(8344),a=r(4175),s=r(9749),u=r(650),l=r(7749),c=r(2404),f=r(7294),p=r(4711),d=r(1495),g=r(28),h=r(871),v=function(t,e){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},v(t,e)};function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var b=function(){return b=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},b.apply(this,arguments)};function x(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function S(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function y(t,e){return b({events:[],props:[],name:t},e)}var E=["n","w","s","e"],D=["n","w","s","e","nw","ne","sw","se"];var C,R,M=(0,n.ZP)(),P=M.browser.webkit,z=P&&(C="undefined"==typeof window?{userAgent:""}:window.navigator,!!(R=/applewebkit\/([^\s]+)/g.exec(C.userAgent.toLowerCase()))&&parseFloat(R[1])<605),T=M.browser.name,O=parseInt(M.browser.version,10),w="chrome"===T,G=M.browser.chromium,A=parseInt(M.browser.chromiumVersion,10)||0,B=w&&O>=109||G&&A>=109,_="firefox"===T,k=parseInt(M.browser.webkitVersion,10)>=612||O>=15,I="moveable-",F=D.map((function(t){var e="",r="",n="center",i="center",o="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(e="top: ".concat(o,";"),i="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",i="top"),t.indexOf("w")>-1&&(r="left: ".concat(o,";"),n="right"),t.indexOf("e")>-1&&(r="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(t,'"] {\n        ').concat(r).concat(e,"\n        transform-origin: ").concat(n," ").concat(i,";\n    }")})).join("\n"),N="\n{\nposition: absolute;\nwidth: 1px;\nheight: 1px;\nleft: 0;\ntop: 0;\nz-index: 3000;\n--moveable-color: #4af;\n--zoom: 1;\n--zoompx: 1px;\n--moveable-line-padding: 0;\n--moveable-control-padding: 0;\nwill-change: transform;\noutline: 1px solid transparent;\n}\n.control-box {\nz-index: 0;\n}\n.line, .control {\nposition: absolute;\nleft: 0;\ntop: 0;\nwill-change: transform;\n}\n.control {\nwidth: 14px;\nheight: 14px;\nborder-radius: 50%;\nborder: 2px solid #fff;\nbox-sizing: border-box;\nbackground: #4af;\nbackground: var(--moveable-color);\nmargin-top: -7px;\nmargin-left: -7px;\nborder: 2px solid #fff;\nz-index: 10;\n}\n.around-control {\nposition: absolute;\nwill-change: transform;\nwidth: calc(var(--moveable-control-padding, 20) * 1px);\nheight: calc(var(--moveable-control-padding, 20) * 1px);\nleft: calc(var(--moveable-control-padding, 20) * -0.5px);\ntop: calc(var(--moveable-control-padding, 20) * -0.5px);\nbox-sizing: border-box;\nbackground: transparent;\nz-index: 8;\ncursor: alias;\ntransform-origin: center center;\n}\n".concat(F,"\n.padding {\nposition: absolute;\ntop: 0px;\nleft: 0px;\nwidth: 100px;\nheight: 100px;\ntransform-origin: 0 0;\n}\n.line {\nwidth: 1px;\nheight: 1px;\nbackground: #4af;\nbackground: var(--moveable-color);\ntransform-origin: 0px 50%;\n}\n.line.edge {\nz-index: 1;\nbackground: transparent;\n}\n.line.dashed {\nbox-sizing: border-box;\nbackground: transparent;\n}\n.line.dashed.horizontal {\nborder-top: 1px dashed #4af;\nborder-top-color: #4af;\nborder-top-color: var(--moveable-color);\n}\n.line.dashed.vertical {\nborder-left: 1px dashed #4af;\nborder-left-color: #4af;\nborder-left-color: var(--moveable-color);\n}\n.line.vertical {\ntransform: translateX(-50%);\n}\n.line.horizontal {\ntransform: translateY(-50%);\n}\n.line.vertical.bold {\nwidth: 2px;\n}\n.line.horizontal.bold {\nheight: 2px;\n}\n\n.control.origin {\nborder-color: #f55;\nbackground: #fff;\nwidth: 12px;\nheight: 12px;\nmargin-top: -6px;\nmargin-left: -6px;\npointer-events: none;\n}\n").concat([0,15,30,45,60,75,90,105,120,135,150,165].map((function(t){return'\n.direction[data-rotation="'.concat(t,'"], :global .view-control-rotation').concat(t," {\n").concat(function(t){var e=function(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}(1,t),r=45*Math.round(t/45)%180,n="ns-resize";return 135===r?n="nwse-resize":45===r?n="nesw-resize":90===r&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(e,"') 16 16, ").concat(n,";")}(t),"\n}\n")})).join("\n"),'\n\n.line.direction:before {\ncontent: "";\nposition: absolute;\nwidth: 100%;\nheight: calc(var(--moveable-line-padding, 0) * 1px);\nbottom: 0;\nleft: 0;\n}\n.group {\nz-index: -1;\n}\n.area {\nposition: absolute;\n}\n.area-pieces {\nposition: absolute;\ntop: 0;\nleft: 0;\ndisplay: none;\n}\n.area.avoid, .area.pass {\npointer-events: none;\n}\n.area.avoid+.area-pieces {\ndisplay: block;\n}\n.area-piece {\nposition: absolute;\n}\n\n').concat(z?':global svg *:before {\ncontent:"";\ntransform-origin: inherit;\n}':"","\n"),W=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],q=1e-4,H=1e-7,Y=1e-9,X=Math.pow(10,10),j=-X,L={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},V={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},U={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},K=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function J(t,e,r,n,i,o){var a,s;void 0===o&&(o="draggable");var u=null!==(s=null===(a=e.gestos[o])||void 0===a?void 0:a.move(r,t.inputEvent))&&void 0!==s?s:{},l=u.originalDatas||u.datas,c=l[o]||(l[o]={});return b(b({},i?en(e,u):u),{isPinch:!!n,parentEvent:!0,datas:c,originalDatas:t.originalDatas})}var Z=function(){function t(t){var e;void 0===t&&(t="draggable"),this.ableName=t,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=((e={})[t]={},e)}return t.prototype.dragStart=function(t,e){this.isDrag=!1,this.isFlag=!1;var r=e.originalDatas;return this.datas=r,r[this.ableName]||(r[this.ableName]={}),b(b({},this.move(t,e.inputEvent)),{type:"dragstart"})},t.prototype.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},t.prototype.move=function(t,e){var r,n,i=!1;if(this.isFlag){var o=this.isDrag;r=this.prevX+t[0],n=this.prevY+t[1],(t[0]||t[1])&&(this.isDrag=!0),!o&&this.isDrag&&(i=!0)}else this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],r=t[0],n=t[1],this.isFlag=!0;return this.prevX=r,this.prevY=n,{type:"drag",clientX:r,clientY:n,inputEvent:e,isFirstDrag:i,isDrag:this.isDrag,distX:r-this.startX,distY:n-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function $(t,e,r,n){var i=16===t.length?4:3,o=x(Dr(t,r,n,i),4),a=x(o[0],2),s=a[0],u=a[1],l=x(o[1],2),c=l[0],f=l[1],p=x(o[2],2),d=p[0],g=p[1],h=x(o[3],2),v=h[0],m=h[1],b=x(Er(t,e,i),2),S=b[0],y=b[1],E=Math.min(s,c,d,v),D=Math.min(u,f,g,m),C=Math.max(s,c,d,v);return s=s-E||0,{left:E,top:D,right:C,bottom:Math.max(u,f,g,m),origin:[S=S-E||0,y=y-D||0],pos1:[s,u=u-D||0],pos2:[c=c-E||0,f=f-D||0],pos3:[d=d-E||0,g=g-D||0],pos4:[v=v-E||0,m=m-D||0],direction:mn(t[0]*t[i+1])}}function Q(t,e){var r=e.clientX,n=e.clientY,i=e.datas,o=t.state,s=o.moveableClientRect,u=o.rootMatrix,l=o.is3d,c=o.pos1,f=s.left,p=s.top,d=l?4:3,g=x((0,a.h9)(tn(u,[r-f,n-p],d),c),2),h=x(ot({datas:i,distX:g[0],distY:g[1]}),2);return[h[0],h[1]]}function tt(t,e){var r=e.datas,n=t.state,i=n.allMatrix,o=n.beforeMatrix,s=n.is3d,u=n.left,l=n.top,c=n.origin,f=n.offsetMatrix,p=n.targetMatrix,d=n.transformOrigin,g=s?4:3;r.is3d=s,r.matrix=i,r.targetMatrix=p,r.beforeMatrix=o,r.offsetMatrix=f,r.transformOrigin=d,r.inverseMatrix=(0,a.U_)(i,g),r.inverseBeforeMatrix=(0,a.U_)(o,g),r.absoluteOrigin=(0,a.WK)((0,a.PD)([u,l],c),g),r.startDragBeforeDist=(0,a.Kf)(r.inverseBeforeMatrix,r.absoluteOrigin,g),r.startDragDist=(0,a.Kf)(r.inverseMatrix,r.absoluteOrigin,g)}function et(t,e,r){var n=e.datas,i=e.originalDatas.beforeRenderable,u=n.transformIndex,l=i.nextTransforms,c=l.length,f=i.nextTransformAppendedIndexes,p=-1;-1===u?("translate"===r?p=0:"rotate"===r&&(p=(0,o.cx)(l,(function(t){return t.match(/scale\(/g)}))),-1===p&&(p=l.length),n.transformIndex=p):p=(0,o.sE)(f,(function(t){return t.index===u&&t.functionName===r}))?u:u+f.filter((function(t){return t.index<u})).length;var d=function(t,e,r){var n,i=(0,s.Qc)(t,{"x%":function(t){return t/100*e.offsetWidth},"y%":function(t){return t/100*e.offsetHeight}}),o=t.slice(0,r<0?void 0:r),u=t.slice(0,r<0?void 0:r+1),l=t[r]||"",c=r<0?[]:t.slice(r),f=r<0?[]:t.slice(r+1),p=i.slice(0,r<0?void 0:r),d=i.slice(0,r<0?void 0:r+1),g=null!==(n=i[r])&&void 0!==n?n:(0,s.Qc)([""])[0],h=r<0?[]:i.slice(r),v=r<0?[]:i.slice(r+1),m=g?[g]:[],b=(0,s.rk)(p),x=(0,s.rk)(d),S=(0,s.rk)(h),y=(0,s.rk)(v),E=(0,a.ml)(b,S,4);return{transforms:t,beforeFunctionMatrix:b,beforeFunctionMatrix2:x,targetFunctionMatrix:(0,s.rk)(m),afterFunctionMatrix:S,afterFunctionMatrix2:y,allFunctionMatrix:E,beforeFunctions:p,beforeFunctions2:d,targetFunction:m[0],afterFunctions:h,afterFunctions2:v,beforeFunctionTexts:o,beforeFunctionTexts2:u,targetFunctionText:l,afterFunctionTexts:c,afterFunctionTexts2:f}}(l,t.state,p),g=d.targetFunction,h="rotate"===r?"rotateZ":r;n.beforeFunctionTexts=d.beforeFunctionTexts,n.afterFunctionTexts=d.afterFunctionTexts,n.beforeTransform=d.beforeFunctionMatrix,n.beforeTransform2=d.beforeFunctionMatrix2,n.targetTansform=d.targetFunctionMatrix,n.afterTransform=d.afterFunctionMatrix,n.afterTransform2=d.afterFunctionMatrix2,n.targetAllTransform=d.allFunctionMatrix,g.functionName===h?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):c>p&&(n.isAppendTransform=!0,i.nextTransformAppendedIndexes=S(S([],x(f),!1),[{functionName:r,index:p,isAppend:!0}],!1))}function rt(t,e,r){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?r:e," ").concat(t.afterFunctionTexts.join(" "))}function nt(t,e,r){var n=t.beforeTransform,i=t.afterTransform,o=t.beforeTransform2,s=t.afterTransform2,u=t.targetAllTransform,l=r?(0,a.ml)(u,e,4):(0,a.ml)(e,u,4),c=(0,a.ml)((0,a.U_)(r?o:n,4),l,4);return(0,a.ml)(c,(0,a.U_)(r?s:i,4),4)}function it(t){var e=t.datas,r=t.distX,n=t.distY,i=e.inverseBeforeMatrix,o=e.is3d,s=e.startDragBeforeDist,u=e.absoluteOrigin,l=o?4:3;return(0,a.h9)((0,a.Kf)(i,(0,a.PD)(u,[r,n]),l),s)}function ot(t,e){var r=t.datas,n=t.distX,i=t.distY,o=r.inverseBeforeMatrix,s=r.inverseMatrix,u=r.is3d,l=r.startDragBeforeDist,c=r.startDragDist,f=r.absoluteOrigin,p=u?4:3;return(0,a.h9)((0,a.Kf)(e?o:s,(0,a.PD)(f,[n,i]),p),e?l:c)}function at(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function st(t,e){var r=(e[0]+1)/2,n=(e[1]+1)/2,i=[(0,o.AK)(t[0][0],t[1][0],r,1-r),(0,o.AK)(t[0][1],t[1][1],r,1-r)],a=[(0,o.AK)(t[2][0],t[3][0],r,1-r),(0,o.AK)(t[2][1],t[3][1],r,1-r)];return[(0,o.AK)(i[0],a[0],n,1-n),(0,o.AK)(i[1],a[1],n,1-n)]}function ut(t,e,r,n){return(0,a.ml)(t,cr(e,n,r),n)}function lt(t,e){var r=dt(e);return{setTransform:function(n,i){void 0===i&&(i=-1),r.startTransforms=(0,o.kJ)(n)?n:(0,o.WE)(n),ft(t,e,i)},setTransformIndex:function(r){ft(t,e,r)}}}function ct(t,e,r){var n=dt(e).startTransforms;ft(t,e,(0,o.cx)(n,(function(t){return 0===t.indexOf("".concat(r,"("))})))}function ft(t,e,r){var n=dt(e),i=e.datas;if(i.transformIndex=r,-1!==r){var o=n.startTransforms[r];if(o){var a=t.state,u=(0,s.Qc)([o],{"x%":function(t){return t/100*a.offsetWidth},"y%":function(t){return t/100*a.offsetHeight}});i.startValue=u[0].functionValue}}}function pt(t,e){dt(t).nextTransforms=(0,o.WE)(e)}function dt(t){return t.originalDatas.beforeRenderable}function gt(t){return t.originalDatas.beforeRenderable.nextTransforms}function ht(t){return(gt(t)||[]).join(" ")}function vt(t){return dt(t).nextStyle}function mt(t,e,r,n,i){pt(i,e);var o=Re.drag(t,J(i,t.state,r,n,!1)),a=o?o.transform:e;return b(b({transform:e,drag:o},Hr({transform:a},i)),{afterTransform:a})}function bt(t,e,r,n,i,u){var l=function(t,e,r,n){var i,u=t.transformOrigin,l=t.offsetMatrix,c=t.is3d?4:3;if((0,o.HD)(r)){var f=e.beforeTransform,p=e.afterTransform;i=n?(0,a.mA)((0,s.Y6)(r),4,c):(0,a.mA)((0,a.ml)((0,a.ml)(f,(0,s.Y6)([r]),4),p,4),4,c)}else i=r;return ut(l,i,u,c)}(t.state,i,e,u),c=function(t,e,r,n){void 0===n&&(n=t.state.allMatrix);var i=t.state,o=i.width,a=i.height,s=i.is3d?4:3,u=[o/2*(1+e[0])+r[0],a/2*(1+e[1])+r[1]];return Er(n,u,s)}(t,r,n,l);return c}function xt(t,e,r,n,i,o,s){var u=bt(t,e,r,i,o,s),l=t.state,c=l.left,f=l.top,p=t.props.groupable,d=p?c:0,g=p?f:0,h=(0,a.h9)(n,u);return(0,a.h9)(h,[d,g])}function St(t,e,r,n,i,s){var u=t.props.groupable,l=t.state,c=l.transformOrigin,f=l.offsetMatrix,p=l.is3d,d=l.width,g=l.height,h=l.left,v=l.top,m=s.fixedDirection,b=s.nextTargetMatrix||l.targetMatrix,x=p?4:3,S=function(t,e,r,n,i,a){return void 0===n&&(n=e),void 0===i&&(i=r),void 0===a&&(a=[0,0]),t?t.map((function(t,s){var u=(0,o.jL)(t),l=u.value,c=u.unit,f=s?i:n,p=s?r:e;return"%"===t||isNaN(l)?p*(f?a[s]/f:0):"%"!==c?l:p*l/100})):a}(i,e,r,d,g,c),y=u?h:0,E=u?v:0,D=function(t,e,r,n,i,o){var a=st(Dr(e,r,n,i),o);return[t[0]-a[0],t[1]-a[1]]}(n,ut(f,b,S,x),e,r,x,m);return(0,a.h9)(D,[y,E])}function yt(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}function Et(t){var e=t("scale"),r=t("rotate"),n=t("translate"),i=[];return n&&"0px"!==n&&"none"!==n&&i.push("translate(".concat(n.split(/\s+/).join(","),")")),r&&"1"!==r&&"none"!==r&&i.push("rotate(".concat(r,")")),e&&"1"!==e&&"none"!==e&&i.push("scale(".concat(e.split(/\s+/).join(","),")")),i}function Dt(t,e,r){for(var n,i,u,l=t,c=[],f=(0,o.mB)(t)||(0,o.zi)(t),p=!r&&t===e||t===f,d=p,g=!1,h=3,v=!1,m=gr(e,e,!0).offsetParent,b=1;l&&!d;){d=p;var S=zt(l),y=S("position"),E=dr(l),D="fixed"===y,C=Et(S),R=(0,a.YX)(lr(E)),M=void 0,z=!1,T=!1,O=0,w=0,G=0,A=0,I={hasTransform:!1,fixedContainer:null};D&&(v=!0,m=(I=br(l)).fixedContainer);var F=R.length;g||16!==F&&!C.length||(g=!0,h=4,mr(c),u&&(u=(0,a.mA)(u,3,4))),g&&9===F&&(R=(0,a.mA)(R,3,4));var N=hr(l,t),W=N.tagName,q=N.hasOffset,H=N.isSVG,Y=N.origin,X=N.targetOrigin,j=x(N.offset,2),L=j[0],V=j[1];"svg"===W&&u&&(c.push({type:"target",target:l,matrix:yr(l,h)}),c.push({type:"offset",target:l,matrix:(0,a.Te)(h)}));var U=parseFloat(S("zoom"))||1;if(D)M=I.fixedContainer,z=!0;else{var K=gr(l,e,!1,!0,S),J=K.offsetZoom;if(M=K.offsetParent,z=K.isEnd,T=K.isStatic,b*=J,(K.isCustomElement||1!==J)&&T)L-=M.offsetLeft,V-=M.offsetTop;else if(_||B){if(K.parentSlotElement){for(var Z=M,$=0,Q=0;Z&&yt(Z);)$+=Z.offsetLeft,Q+=Z.offsetTop,Z=Z.offsetParent;L-=$,V-=Q}}}if(!P||k||!q||H||!T||"relative"!==y&&"static"!==y||(L-=M.offsetLeft,V-=M.offsetTop,p=p||z),D)q&&I.hasTransform&&(G=M.clientLeft,A=M.clientTop);else if(q&&m!==M&&(O=M.clientLeft,w=M.clientTop),q&&M===f){var tt=vr(l,!1);L+=tt[0],V+=tt[1]}if(c.push({type:"target",target:l,matrix:cr(R,h,Y)}),C.length&&(c.push({type:"offset",target:l,matrix:(0,a.Te)(h)}),c.push({type:"target",target:l,matrix:cr((0,s.Y6)(C),h,Y)})),q){var et=l===t,rt=et?0:l.scrollLeft,nt=et?0:l.scrollTop;c.push({type:"offset",target:l,matrix:(0,a.Jm)([L-rt+O-G,V-nt+w-A],h)})}else c.push({type:"offset",target:l,origin:Y});if(1!==U&&c.push({type:"zoom",target:l,matrix:cr((0,a.Wi)([U,U],h),h,[0,0])}),u||(u=R),n||(n=Y),i||(i=X),d||D)break;l=M,p=z,r&&l!==f||(d=p)}return u||(u=(0,a.Te)(h)),n||(n=[0,0]),i||(i=[0,0]),{zoom:b,offsetContainer:m,matrixes:c,targetMatrix:u,transformOrigin:n,targetOrigin:i,is3d:g,hasFixed:v}}var Ct=null,Rt=null,Mt=null;function Pt(t){t?(window.Map&&(Ct=new Map,Rt=new Map),Mt=[]):(Ct=null,Mt=null,Rt=null)}function zt(t){var e=null==Ct?void 0:Ct.get(t);if(!e){var r=(0,o.Jj)(t).getComputedStyle(t);if(!Ct)return function(t){return r[t]};e={style:r,cached:{}},Ct.set(t,e)}var n=e.cached,i=e.style;return function(t){return t in n||(n[t]=i[t]),n[t]}}function Tt(t,e,r){var n=r.originalDatas;n.groupable=n.groupable||{};var i=n.groupable;i.childDatas=i.childDatas||[];var o=i.childDatas;return t.moveables.map((function(t,n){return o[n]=o[n]||{},o[n][e]=o[n][e]||{},b(b({},r),{isRequestChild:!0,datas:o[n][e],originalDatas:o[n]})}))}function Ot(t,e,r,n,i,o,a){var s=!!r.match(/Start$/g),u=!!r.match(/End$/g),l=i.isPinch,c=i.datas,f=Tt(t,e.name,i),p=t.moveables,d=f.map((function(t,i){var f=p[i],d=f.state,g=d.gestos,h=t;if(s)h=new Z(a).dragStart(n,t);else{if(g[a]||(g[a]=c.childGestos[i]),!g[a])return;h=J(t,d,n,l,o,a)}var v=e[r](f,b(b({},h),{parentFlag:!0}));return u&&(g[a]=null),v}));return s&&(c.childGestos=p.map((function(t){return t.state.gestos[a]}))),d}function wt(t,e,r,n,i,o){void 0===i&&(i=function(t,e){return e});var a=!!r.match(/End$/g),s=Tt(t,e.name,n),u=t.moveables;return s.map((function(t,n){var s,l=u[n];s=i(l,t);var c=e[r](l,b(b({},s),{parentFlag:!0}));return c&&o&&o(l,t,c,n),a&&(l.state.gestos={}),c}))}function Gt(t,e,r,n){var i=r.fixedDirection,o=r.fixedPosition,s=st(n.datas.startPositions||Nr(e.state),i),u=x((0,a.Kf)((0,a.sQ)(-t.rotation/180*Math.PI,3),[s[0]-o[0],s[1]-o[1],1],3),2),l=u[0],c=u[1];return n.datas.originalX=l,n.datas.originalY=c,n}function At(t,e,r,n){var i=t.getState(),a=i.renderPoses,s=i.rotation,u=i.direction,l=Or(t.props,e).zoom,c=Ze(s/Math.PI*180),f={},p=t.renderState;p.renderDirectionMap||(p.renderDirectionMap={});var d=p.renderDirectionMap;r.forEach((function(t){var e=t.dir;f[e]=!0}));var g=mn(u);return r.map((function(t){var r=t.data,i=t.classNames,u=t.dir,p=V[u];if(!p||!f[u])return null;d[u]=!0;var h=((0,o.P2)(c,15)+g*U[u]+720)%180,v={};return(0,o.RR)(r).forEach((function(t){v["data-".concat(t)]=r[t]})),n.createElement("div",b({className:sr.apply(void 0,S(["control","direction",u,e],x(i),!1)),"data-rotation":h,"data-direction":u},v,{key:"direction-".concat(u),style:Tr.apply(void 0,S([s,l],x(p.map((function(t){return a[t]}))),!1))}))}))}function Bt(t,e,r,n){var i=Or(t.props,r),o=i.renderDirections,a=void 0===o?e:o,s=i.displayAroundControls;if(!a)return[];var u=!0===a?D:a;return S(S([],x(s?Nt(t,n,r,u):[]),!1),x(At(t,r,u.map((function(t){return{data:{},classNames:[],dir:t}})),n)),!1)}function _t(t,e,r,n,i,a){for(var s=[],u=6;u<arguments.length;u++)s[u-6]=arguments[u];var l=(0,o.jv)(r,n),c=e?(0,o.P2)(l/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(a),className:sr.apply(void 0,S(["line","direction",e?"edge":"",e],x(s),!1)),"data-rotation":c,"data-line-key":a,"data-direction":e,style:zr(r,n,i,l)})}function kt(t,e,r,n,i){return(!0===r?E:r).map((function(r,o){var a=x(V[r],2),s=a[0],u=a[1];if(null!=u)return _t(t,r,n[s],n[u],i,"".concat(e,"Edge").concat(o),e)})).filter(Boolean)}function It(t){return function(e,r){var n=Or(e.props,t).edge;return n&&(!0===n||n.length)?S(S([],x(kt(r,t,n,e.getState().renderPoses,e.props.zoom)),!1),x(function(t,e,r){return Bt(t,["nw","ne","sw","se"],e,r)}(e,t,r)),!1):Ft(e,t,r)}}function Ft(t,e,r){return Bt(t,D,e,r)}function Nt(t,e,r,n){var i=t.renderState;i.renderDirectionMap||(i.renderDirectionMap={});var a=t.getState(),s=a.renderPoses,u=a.rotation,l=a.direction,c=i.renderDirectionMap,f=t.props.zoom,p=mn(l),d=u/Math.PI*180;return(n||(0,o.RR)(c)).map((function(t){var n=V[t];if(!n)return null;var i=((0,o.P2)(d,15)+p*U[t]+720)%180,a=["around-control"];return r&&a.push("direction",r),e.createElement("div",{className:sr.apply(void 0,S([],x(a),!1)),"data-rotation":i,"data-direction":t,key:"direction-around-".concat(t),style:Tr.apply(void 0,S([u,f],x(n.map((function(t){return s[t]}))),!1))})}))}function Wt(t,e,r){var n=t||{},i=n.position,o=void 0===i?"client":i,a=n.left,s=void 0===a?-1/0:a,u=n.top,l=void 0===u?-1/0:u,c=n.right,f=void 0===c?1/0:c,p=n.bottom,d={position:o,left:s,top:l,right:f,bottom:void 0===p?1/0:p};return{vertical:Ht(d,e,!0),horizontal:Ht(d,r,!1)}}function qt(t,e){var r=t.state,n=r.containerClientRect,i=n.clientHeight,o=n.clientWidth,a=n.clientLeft,s=n.clientTop,u=r.snapOffset,l=u.left,c=u.top,f=u.right,p=u.bottom,d=e||t.props.bounds||{},g="css"===(d.position||"client"),h=d.left,v=void 0===h?-1/0:h,m=d.top,b=void 0===m?-1/0:m,x=d.right,S=void 0===x?g?-1/0:1/0:x,y=d.bottom,E=void 0===y?g?-1/0:1/0:y;return g&&(S=o+f-l-S,E=i+p-c-E),{left:v+l-a,right:S+l-a,top:b+c-s,bottom:E+c-s}}function Ht(t,e,r){var n=t[r?"left":"top"],i=t[r?"right":"bottom"],o=Math.min.apply(Math,S([],x(e),!1)),a=Math.max.apply(Math,S([],x(e),!1)),s=[];return n+1>o&&s.push({direction:"start",isBound:!0,offset:o-n,pos:n}),i-1<a&&s.push({direction:"end",isBound:!0,offset:a-i,pos:i}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort((function(t,e){return bn(e.offset)-bn(t.offset)}))}function Yt(t,e,r){return(r?t.map((function(t){return(0,a.U1)(t,r)})):t).some((function(t){return t[0]<e.left&&bn(t[0]-e.left)>.1||t[0]>e.right&&bn(t[0]-e.right)>.1||t[1]<e.top&&bn(t[1]-e.top)>.1||t[1]>e.bottom&&bn(t[1]-e.bottom)>.1}))}function Xt(t,e,r,n,i){if(!t.props.bounds)return[];var a=i*Math.PI/180,s=qt(t),u=s.left,l=s.top,c=s.right,f=s.bottom,p=u-n[0],d=c-n[0],g=l-n[1],h=f-n[1],v={left:p,top:g,right:d,bottom:h};if(!Yt(r,v,0))return[];var m=[];return[[p,0],[d,0],[g,1],[h,1]].forEach((function(t){var n=x(t,2),i=n[0],s=n[1];r.forEach((function(t){var r=(0,o.jv)([0,0],t);m.push.apply(m,S([],x(function(t,e,r){var n=Mr(t),i=Math.sqrt(n*n-e*e)||0;return[i,-i].sort((function(e,n){return bn(e-t[r?0:1])-bn(n-t[r?0:1])})).map((function(t){return(0,o.jv)([0,0],r?[t,e]:[e,t])}))}(t,i,s).map((function(t){return a+t-r})).filter((function(t){return!Yt(e,v,t)})).map((function(t){return(0,o.P2)(180*t/Math.PI,H)}))),!1))}))})),m}var jt=["left","right","center"],Lt=["top","bottom","middle"],Vt={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},Ut={start:"left",end:"right",center:"center"},Kt={start:"top",end:"bottom",center:"middle"};function Jt(t,e){var r=t.props,n=r.snappable,i=r.bounds,o=r.innerBounds,a=r.verticalGuidelines,s=r.horizontalGuidelines,u=r.snapGridWidth,l=r.snapGridHeight,c=t.state,f=c.guidelines,p=c.enableSnap;return!(!n||!p||e&&!0!==n&&n.indexOf(e)<0)&&!!(u||l||i||o||f&&f.length||a&&a.length||s&&s.length)}function Zt(t){return!1===t?{}:!0!==t&&t?t:{left:!0,right:!0,top:!0,bottom:!0}}function $t(t,e){var r=function(t,e){var r=Zt(t),n={};for(var i in r)i in e&&r[i]&&(n[i]=e[i]);return n}(t,e),n=Lt.filter((function(t){return t in r})),i=jt.filter((function(t){return t in r}));return{horizontalNames:n,verticalNames:i,horizontal:n.map((function(t){return r[t]})),vertical:i.map((function(t){return r[t]}))}}function Qt(t,e,r,n,i,a){void 0===n&&(n=[]),void 0===i&&(i=[]);var s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length-1,n=0;n<r;++n){var i=t[n];if(!(0,o.o8)(i))return i}return t[r]}(a,t.props.snapThreshold,5);return te(t.state.guidelines,e,r,n,i,s)}function te(t,e,r,n,i,o){return{vertical:ie(t,"vertical",e,o,n),horizontal:ie(t,"horizontal",r,o,i)}}function ee(t){var e="";return-1===t||"top"===t||"left"===t?e="start":0===t||"center"===t||"middle"===t?e="center":1!==t&&"right"!==t&&"bottom"!==t||(e="end"),e}function re(t,e,r){var n=$t(t.props.snapDirections,e),i=Qt(t,n.vertical,n.horizontal,n.verticalNames.map((function(t){return ee(t)})),n.horizontalNames.map((function(t){return ee(t)})),r),o=ee(n.horizontalNames[i.horizontal.index]),a=ee(n.verticalNames[i.vertical.index]);return{vertical:b(b({},i.vertical),{direction:a}),horizontal:b(b({},i.horizontal),{direction:o})}}function ne(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=t.posInfos[0],n=r.guidelineInfos[0],i=n.offset,o=n.dist,a=n.guideline;return{isSnap:e,offset:i,dist:o,pos:r.pos,guideline:a}}function ie(t,e,r,n,i){var o,a;if(void 0===i&&(i=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var s="vertical"===e?0:1,u=r.map((function(r,o){var a=i[o]||"",u=t.map((function(t){var e=t.pos,n=r-e[s];return{offset:n,dist:bn(n),guideline:t,direction:a}})).filter((function(t){var r=t.guideline,i=t.dist;return!(r.type!==e||i>n)})).sort((function(t,e){return t.dist-e.dist}));return{pos:r,index:o,guidelineInfos:u,direction:a}})).filter((function(t){return t.guidelineInfos.length>0})).sort((function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist})),l=u.length>0;return{isSnap:l,index:l?u[0].index:-1,direction:null!==(a=null===(o=u[0])||void 0===o?void 0:o.direction)&&void 0!==a?a:"",posInfos:u}}function oe(t,e,r,n){void 0===n&&(n=1);var i=[];r[0]&&r[1]?i=[r,[-r[0],r[1]],[r[0],-r[1]]]:r[0]||r[1]?t.props.keepRatio?i.push([-1,-1],[-1,1],[1,-1],[1,1],r):(i.push.apply(i,S([],x(function(t,e){return at(e).map((function(e){return t[e]}))}([[-1,-1],[1,-1],[-1,-1],[1,1]],r)),!1)),i.length>1&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2])):[[-1,-1],[1,-1],[1,1],[-1,1]].forEach((function(t,e,r){var n=r[e+1]||r[0];i.push(t),i.push([(t[0]+n[0])/2,(t[1]+n[1])/2])}));var o=i.map((function(t){return st(e,t)})),a=Qt(t,o.map((function(t){return t[0]})),o.map((function(t){return t[1]})),i.map((function(t){return ee(t[0])})),i.map((function(t){return ee(t[1])})),n),s=ee(i.map((function(t){return t[0]}))[a.vertical.index]),u=ee(i.map((function(t){return t[1]}))[a.horizontal.index]);return{vertical:b(b({},a.vertical),{direction:s}),horizontal:b(b({},a.horizontal),{direction:u})}}function ae(t,e){var r=bn(t.offset),n=bn(e.offset);return t.isBound&&e.isBound?n-r:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?n-r:t.isSnap?-1:e.isSnap||r<H?1:n<H?-1:r-n}function se(t,e){return t.slice().sort((function(t,r){var n=t.sign[e],i=r.sign[e],o=t.offset[e],a=r.offset[e];return n?i?ae({isBound:t.isBound,isSnap:t.isSnap,offset:o},{isBound:r.isBound,isSnap:r.isSnap,offset:a}):-1:1}))[0]}function ue(t,e){var r=(0,o.Y8)([e[0][0],e[1][0]]),n=(0,o.Y8)([e[0][1],e[1][1]]);return{vertical:r<=t[0],horizontal:n<=t[1]}}function le(t,e){var r,n,i=x(e,2),o=i[0],a=i[1],s=a[0]-o[0],u=a[1]-o[1];if(bn(s)<H&&(s=0),bn(u)<H&&(u=0),s)if(u){r=u/s*(t[0]-o[0])+o[1],n=t[1]}else r=o[1],n=t[1];else r=o[0],n=t[0];return r-n}function ce(t,e,r,n){return void 0===n&&(n=H),t.every((function(t){var i=le(t,e);return i<=0===r||bn(i)<=n}))}function fe(t,e,r,n,i){return void 0===i&&(i=0),n&&e-i<=t||!n&&t<=r+i?{isBound:!0,offset:n?e-t:r-t}:{isBound:!1,offset:0}}function pe(t,e,r,n,i,o){var a,s,u=x(e,2),l=u[0],c=u[1],f=t[0],p=r[0],d=r[1],g=on(d[1]-p[1]),h=c,v=l,m=-l/c;return on(d[0]-p[0])?g||o&&!h?{isBound:!1,offset:0}:v?fe((p[1]-f[1])/m+f[0],p[0],d[0],n,i):{isBound:s=bn(a=p[1]-f[1])<=(i||0),offset:s?a:0}:o&&!v?{isBound:!1,offset:0}:h?fe(m*(p[0]-f[0])+f[1],p[1],d[1],n,i):{isBound:s=bn(a=p[0]-f[0])<=(i||0),offset:s?a:0}}function de(t,e,r){return e.map((function(e){var n=function(t,e){var r=e.line,n=e.centerSign,i=e.verticalSign,o=e.horizontalSign,a=e.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var u=s.left,l=s.top,c=s.width,f=s.height,p=[[u,l],[u,l+f]],d=[[u,l],[u+c,l]],g=[[u+c,l],[u+c,l+f]],h=[[u,l+f],[u+c,l+f]];if(ce([[u,l],[u+c,l],[u,l+f],[u+c,l+f]],r,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var v=pe(r,a,d,i),m=pe(r,a,h,i),b=pe(r,a,p,o),x=pe(r,a,g,o),S=v.isBound&&m.isBound,y=v.isBound||m.isBound,E=b.isBound&&x.isBound,D=b.isBound||x.isBound,C=Qr(v.offset,m.offset),R=Qr(b.offset,x.offset),M=[0,0],P=!1,z=!1;return bn(R)<bn(C)?(M=[C,0],P=y,z=S):(M=[0,R],P=D,z=E),{isAllBound:z,isVerticalBound:y,isHorizontalBound:D,isBound:P,offset:M}}(t,e),i=n.isBound,o=n.offset,a=n.isVerticalBound,s=n.isHorizontalBound,u=e.multiple,l=ot({datas:r,distX:o[0],distY:o[1]}).map((function(t,e){return t*(u[e]?2/u[e]:0)}));return{sign:u,isBound:i,isVerticalBound:a,isHorizontalBound:s,isSnap:!1,offset:l}}))}function ge(t,e,r){var n,i=de(t,he(t,e,[0,0],!1).map((function(t){return b(b({},t),{multiple:t.multiple.map((function(t){return 2*bn(t)}))})})),r),o=se(i,0),s=se(i,1),u=0,l=0,c=o.isVerticalBound||s.isVerticalBound,f=o.isHorizontalBound||s.isHorizontalBound;return(c||f)&&(n=x(function(t,e){var r=t.datas,n=t.distX,i=t.distY,o=r.beforeMatrix,s=r.matrix,u=r.is3d,l=r.startDragBeforeDist,c=r.startDragDist,f=r.absoluteOrigin,p=u?4:3;return(0,a.h9)((0,a.Kf)(e?o:s,(0,a.PD)(e?l:c,[n,i]),p),f)}({datas:r,distX:-o.offset[0],distY:-s.offset[1]}),2),u=n[0],l=n[1]),{vertical:{isBound:c,offset:u},horizontal:{isBound:f,offset:l}}}function he(t,e,r,n){var i=t.state,a=Dr(i.allMatrix,100,100,i.is3d?4:3),s=st(a,[0,0]);return function(t,e){var r=[],n=t[0],i=t[1];return n&&i?r.push([[0,2*i],t,[-n,i]],[[2*n,0],t,[n,-i]]):n?(r.push([[2*n,0],[n,1],[n,-1]]),e&&r.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):i?(r.push([[0,2*i],[1,i],[-1,i]]),e&&r.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}(r,n).map((function(t){var r=x(t,3),n=r[0],i=r[1],u=r[2],l=[st(a,i),st(a,u)],c=function(t){var e=x(t,2),r=e[0],n=e[1],i=n[0]-r[0],a=n[1]-r[1];Math.abs(i)<o.Vp&&(i=0),Math.abs(a)<o.Vp&&(a=0);var s=0,u=0,l=0;return i?a?(u=1,l=(s=-a/i)*r[0]-r[1]):(u=1,l=-r[1]):(s=-1,l=r[0]),[s,u,l].map((function(t){return(0,o.P2)(t,o.Vp)}))}(l),f=ue(s,l),p=f.vertical,d=f.horizontal;return{multiple:n,centerSign:le(s,l)<=0,verticalSign:p,horizontalSign:d,lineConstants:c,line:[st(e,i),st(e,u)]}}))}function ve(t,e,r,n){var i=n?t.map((function(t){return(0,a.U1)(t,n)})):t;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some((function(t){var n=le(r,t)<=0;return!ce(e,t,n)}))}function me(t,e,r,n,i){var a=t.props.innerBounds,s=i*Math.PI/180;if(!a)return[];var u=a.left,l=a.top,c=a.width,f=a.height,p=u-n[0],d=u+c-n[0],g=l-n[1],h=l+f-n[1],v=[[p,g],[d,g],[p,h],[d,h]],m=st(r,[0,0]);if(!ve(r,v,m,0))return[];var b=[],y=v.map((function(t){return[Mr(t),(0,o.jv)([0,0],t)]}));return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].forEach((function(t){var r=(0,o.jv)([0,0],function(t){var e=x(t,2),r=e[0],n=e[1],i=n[0]-r[0],o=n[1]-r[1];if(!i)return[r[0],0];if(!o)return[0,r[1]];var a=o/i,s=-a*r[0]+r[1];return[-s/(a+1/a),s/(a*a+1)]}(t)),n=function(t){var e=x(t,2),r=e[0],n=e[1],i=n[0]-r[0],o=n[1]-r[1];if(!i)return bn(r[0]);if(!o)return bn(r[1]);var a=o/i;return bn((-a*r[0]+r[1])/Math.sqrt(Math.pow(a,2)+1))}(t);b.push.apply(b,S([],x(y.filter((function(t){var e=x(t,1)[0];return e&&n<=e})).map((function(t){var e=x(t,2),i=e[0],o=e[1],a=Math.acos(i?n/i:0);return[s+(o+a)-r,s+(o-a)-r]})).reduce((function(t,e){return t.push.apply(t,S([],x(e),!1)),t}),[]).filter((function(t){return!ve(e,v,m,t)})).map((function(t){return(0,o.P2)(180*t/Math.PI,H)}))),!1))})),b}function be(t,e,r,n,i){var a=function(t,e,r,n){var i=e[0]-t[0],a=e[1]-t[1];if(bn(i)<o.Vp&&(i=0),bn(a)<o.Vp&&(a=0),!i)return n?[0,0]:[0,r];if(!a)return n?[r,0]:[0,0];var s=a/i,u=t[1]-s*t[0];return n?[r,s*(e[0]+r)+u-e[1]]:[(e[1]+r-u)/s-e[0],r]}(t,e,r,n);if(!a)return{isOutside:!1,offset:[0,0]};var s=(0,o.zt)(t,e),u=(0,o.zt)(a,t),l=(0,o.zt)(a,e),c=u>s||l>s,f=x(ot({datas:i,distX:a[0],distY:a[1]}),2);return{offset:[f[0],f[1]],isOutside:c}}function xe(t,e){return t.isBound?t.offset:e.isSnap?ne(e).offset:0}function Se(t,e,r,n,i,s){if(!Jt(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var u=Fr(s.absolutePoses,[e,r]),l=Cr(u),c=l.left,f=l.right,p=l.top,d=l.bottom,g={horizontal:u.map((function(t){return t[1]})),vertical:u.map((function(t){return t[0]}))},h=ye(t,i,$t(Zt(t.props.snapDirections),{left:c,right:f,top:p,bottom:d,center:(c+f)/2,middle:(p+d)/2}),g),v=h.vertical,m=h.horizontal,b=ge(t,u,s),S=b.vertical,y=b.horizontal,E=v.isSnap,D=m.isSnap,C=v.isBound||S.isBound,R=m.isBound||y.isBound,M=x(function(t,e,r,n,i){var s=x(e,2),u=s[0],l=s[1],c=x(r,2),f=c[0],p=c[1],d=x(n,2),g=d[0],h=d[1],v=x(i,2),m=v[0],b=v[1],S=-m,y=-b;if(t&&u&&l){S=0,y=0;var E=[];if(f&&p?E.push([0,b],[m,0]):f?E.push([m,0]):p?E.push([0,b]):g&&h?E.push([0,b],[m,0]):g?E.push([m,0]):h&&E.push([0,b]),E.length){E.sort((function(t,e){return Mr((0,a.h9)([u,l],t))-Mr((0,a.h9)([u,l],e))}));var D=E[0];if(D[0]&&bn(u)>o.Vp)S=-D[0],y=l*bn(u+S)/bn(u)-l;else if(D[1]&&bn(l)>o.Vp){var C=l;y=-D[1],S=u*bn(l+y)/bn(C)-u}if(t&&p&&f)if(bn(S)>o.Vp&&bn(S)<bn(m))S*=R=bn(m)/bn(S),y*=R;else if(bn(y)>o.Vp&&bn(y)<bn(b)){var R;S*=R=bn(b)/bn(y),y*=R}else S=Qr(-m,S),y=Qr(-b,y)}}else S=u||f?-m:0,y=l||p?-b:0;return[S,y]}(n,[e,r],[C,R],[E,D],[Qr(v.offset,S.offset),Qr(m.offset,y.offset)]),2);return[{isBound:C,isSnap:E,offset:M[0]},{isBound:R,isSnap:D,offset:M[1]}]}function ye(t,e,r,n){void 0===n&&(n=r);var i=Wt(qt(t),n.vertical,n.horizontal),o=i.horizontal,a=i.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Qt(t,r.vertical,r.horizontal),u=s.horizontal,l=s.vertical,c=xe(o[0],u),f=xe(a[0],l),p=bn(c),d=bn(f);return{horizontal:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:c,dist:p,bounds:o,snap:u},vertical:{isBound:a[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:f,dist:d,bounds:a,snap:l}}}function Ee(t,e,r,n,i){var o=Wt(e,r,n),a=o.horizontal,s=o.vertical,u=te(t,r,n,[],[],i),l=u.horizontal,c=u.vertical,f=xe(a[0],l),p=xe(s[0],c),d=bn(f),g=bn(p);return{horizontal:{isBound:a[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:f,dist:d,bounds:a,snap:l},vertical:{isBound:s[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:p,dist:g,bounds:s,snap:c}}}function De(t,e,r,n,i,s){return r.map((function(r){var u=x(r,2),l=u[0],c=u[1],f=st(e,l),p=st(e,c),d=n?function(t,e,r,n){var i=function(t,e,r){var n=qt(t),i=n.left,o=n.top,s=n.right,u=n.bottom,l=x(r,2),c=l[0],f=l[1],p=x((0,a.h9)(r,e),2),d=p[0],g=p[1];bn(d)<H&&(d=0),bn(g)<H&&(g=0);var h=g>0,v=d>0,m={isBound:!1,offset:0,pos:0},b={isBound:!1,offset:0,pos:0};if(0===d&&0===g)return{vertical:m,horizontal:b};if(0===d)h?u<f&&(b.pos=u,b.offset=f-u):o>f&&(b.pos=o,b.offset=f-o);else if(0===g)v?s<c&&(m.pos=s,m.offset=c-s):i>c&&(m.pos=i,m.offset=c-i);else{var S=g/d,y=r[1]-S*c,E=0,D=0,C=!1;v&&s<=c?(E=S*s+y,D=s,C=!0):!v&&c<=i&&(E=S*i+y,D=i,C=!0),C&&(E<o||E>u)&&(C=!1),C||(h&&u<=f?(D=((E=u)-y)/S,C=!0):!h&&f<=o&&(D=((E=o)-y)/S,C=!0)),C&&(m.isBound=!0,m.pos=D,m.offset=c-D,b.isBound=!0,b.pos=E,b.offset=f-E)}return{vertical:m,horizontal:b}}(t,e,r),o=i.horizontal,s=i.vertical,u=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:function(t,e,r){var n=x(r,2),i=n[0],o=n[1],s=x(e,2),u=s[0],l=s[1],c=x((0,a.h9)(r,e),2),f=c[0],p=c[1],d=p>0,g=f>0;f=on(f),p=on(p);var h={isSnap:!1,offset:0,pos:0},v={isSnap:!1,offset:0,pos:0};if(0===f&&0===p)return{vertical:h,horizontal:v};var m=Qt(t,f?[i]:[],p?[o]:[]),b=m.vertical,S=m.horizontal;b.posInfos.filter((function(t){var e=t.pos;return g?e>=u:e<=u})),S.posInfos.filter((function(t){var e=t.pos;return d?e>=l:e<=l})),b.isSnap=b.posInfos.length>0,S.isSnap=S.posInfos.length>0;var y=ne(b),E=y.isSnap,D=y.guideline,C=ne(S),R=C.isSnap,M=C.guideline,P=R?M.pos[1]:0,z=E?D.pos[0]:0;if(0===f)R&&(v.isSnap=!0,v.pos=M.pos[1],v.offset=o-v.pos);else if(0===p)E&&(h.isSnap=!0,h.pos=z,h.offset=i-z);else{var T=p/f,O=r[1]-T*i,w=0,G=0,A=!1;E?(w=T*(G=z)+O,A=!0):R&&(G=((w=P)-O)/T,A=!0),A&&(h.isSnap=!0,h.pos=G,h.offset=i-G,v.isSnap=!0,v.pos=w,v.offset=o-w)}return{vertical:h,horizontal:v}}(t,e,r),l=u.horizontal,c=u.vertical,f=Ce(o,l),p=Ce(s,c),d=bn(f),g=bn(p);return{horizontal:{isBound:o.isBound,isSnap:l.isSnap,offset:f,dist:d},vertical:{isBound:s.isBound,isSnap:c.isSnap,offset:p,dist:g}}}(t,f,p,i):ye(t,i,{vertical:[p[0]],horizontal:[p[1]]}),g=d.horizontal,h=g.offset,v=g.isBound,m=g.isSnap,b=d.vertical,S=b.offset,y=b.isBound,E=b.isSnap,D=(0,a.h9)(c,l);if(!S&&!h)return{isBound:y||v,isSnap:E||m,sign:D,offset:[0,0]};var C=function(t,e,r,n){var i=(0,o.jv)(t,e)/Math.PI*180,a=r.vertical,s=a.isBound,u=a.isSnap,l=a.dist,c=r.horizontal,f=c.isBound,p=c.isSnap,d=i%180,g=d<3||d>177,h=d>87&&d<93;return c.dist<l&&(s||u&&!h&&(!n||!g))?"vertical":!f&&(!p||g||n&&h)?"":"horizontal"}(f,p,d,n);if(!C)return{sign:D,isBound:!1,isSnap:!1,offset:[0,0]};var R="vertical"===C,M=[0,0];return M=(M=n||1!==bn(c[0])||1!==bn(c[1])||l[0]===c[0]||l[1]===c[1]?be(f,p,-(R?S:h),R,s).offset:ot({datas:s,distX:-S,distY:-h})).map((function(t,e){return t*(D[e]?2/D[e]:0)})),{sign:D,isBound:R?y:v,isSnap:R?E:m,offset:M}}))}function Ce(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}var Re={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var r=t.props,n=r.hideThrottleDragRotateLine,i=r.throttleDragRotate,a=r.zoom,s=t.getState(),u=s.dragInfo,l=s.beforeOrigin;if(n||!i||!u)return[];var c=u.dist;if(!c[0]&&!c[1])return[];var f=Mr(c),p=(0,o.jv)(c,[0,0]);return[e.createElement("div",{className:sr("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(f,"px"),transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) rotate(").concat(p,"rad) scaleY(").concat(a,")")}})]},dragStart:function(t,e){var r=e.datas,n=e.parentEvent,i=e.parentGesto,o=t.state,a=o.gestos,s=o.style;if(a.draggable)return!1;a.draggable=i||t.targetGesto,r.datas={},r.left=parseFloat(s.left||"")||0,r.top=parseFloat(s.top||"")||0,r.bottom=parseFloat(s.bottom||"")||0,r.right=parseFloat(s.right||"")||0,r.startValue=[0,0],tt(t,e),ct(t,e,"translate"),function(t,e){e.absolutePoses=Nr(t.state)}(t,r),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,r.deltaOffset=[0,0];var u=Xr(t,e,b({set:function(t){r.startValue=t}},lt(t,e)));return!1!==(n||Vr(t,"onDragStart",u))?(r.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(a.draggable=null,r.isPinch=!1),!!r.isDrag&&u},drag:function(t,e){if(e){et(t,e,"translate");var r=e.datas,n=e.parentEvent,i=e.parentFlag,s=e.isPinch,u=e.deltaOffset,l=e.useSnap,c=e.isRequest,f=e.distX,p=e.distY,d=r.isDrag,g=r.prevDist,h=r.prevBeforeDist,v=r.startValue;if(d){u&&(f+=u[0],p+=u[1]);var m=t.props,S=m.parentMoveable,y=n?0:m.throttleDrag||0,E=n?0:m.throttleDragRotate||0,D=0,C=!1,R=!1,M=!1,P=!1;if(!n&&E>0&&(f||p)){var z=m.startDragRotate||0,T=(0,o.P2)(z+180*(0,o.jv)([0,0],[f,p])/Math.PI,E)-z,O=p*Math.abs(Math.cos((T-90)/180*Math.PI)),w=Mr([f*Math.abs(Math.cos(T/180*Math.PI)),O]);D=T*Math.PI/180,f=w*Math.cos(D),p=w*Math.sin(D)}if(!s&&!n&&!i){var G=x(Se(t,f,p,E,!l&&c||u,r),2),A=G[0],B=G[1];C=A.isSnap,R=A.isBound,M=B.isSnap,P=B.isBound,f+=A.offset,p+=B.offset}var _=(0,a.PD)(it({datas:r,distX:f,distY:p}),v),k=(0,a.PD)(function(t){var e=t.datas,r=x(it({datas:e,distX:t.distX,distY:t.distY}),2),n=r[0],i=r[1],o=nt(e,(0,a.vc)([n,i],4));return(0,a.Kf)(o,(0,a.WK)([0,0,0],4),4)}({datas:r,distX:f,distY:p}),v);(0,o.Xh)(k,H),(0,o.Xh)(_,H),E||(C||R||(k[0]=(0,o.P2)(k[0],y),_[0]=(0,o.P2)(_[0],y)),M||P||(k[1]=(0,o.P2)(k[1],y),_[1]=(0,o.P2)(_[1],y)));var I=(0,a.h9)(_,v),F=(0,a.h9)(k,v),N=(0,a.h9)(F,g),W=(0,a.h9)(I,h);r.prevDist=F,r.prevBeforeDist=I,r.passDelta=N,r.passDist=F;var q=r.left+I[0],Y=r.top+I[1],X=r.right-I[0],j=r.bottom-I[1],L=rt(r,"translate(".concat(k[0],"px, ").concat(k[1],"px)"),"translate(".concat(F[0],"px, ").concat(F[1],"px)"));if(pt(e,L),t.state.dragInfo.dist=n?[0,0]:F,n||S||!N.every((function(t){return!t}))||!W.some((function(t){return!t}))){var V=t.state,U=V.width,K=V.height,J=Xr(t,e,b({transform:L,dist:F,delta:N,translate:k,beforeDist:I,beforeDelta:W,beforeTranslate:_,left:q,top:Y,right:X,bottom:j,width:U,height:K,isPinch:s},Hr({transform:L},e)));return!n&&Vr(t,"onDrag",J),J}}}},dragAfter:function(t,e){var r=e.datas,n=r.deltaOffset;return!(!n[0]&&!n[1])&&(r.deltaOffset=[0,0],this.drag(t,b(b({},e),{deltaOffset:n})))},dragEnd:function(t,e){var r=e.parentEvent,n=e.datas;if(t.state.dragInfo=null,n.isDrag){n.isDrag=!1;var i=jr(t,e,{});return!r&&Vr(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var r=e.datas,n=e.clientX,i=e.clientY,o=this.dragStart(t,e);if(!o)return!1;var a=Ot(t,this,"dragStart",[n||0,i||0],e,!1,"draggable"),s=Vr(t,"onDragGroupStart",b(b({},o),{targets:t.props.targets,events:a}));return r.isDrag=!1!==s,!!r.isDrag&&o},dragGroup:function(t,e){if(e.datas.isDrag){var r=this.drag(t,e),n=Ot(t,this,"drag",e.datas.passDelta,e,!1,"draggable");if(r){var i=b({targets:t.props.targets,events:n},r);return Vr(t,"onDragGroup",i),i}}},dragGroupEnd:function(t,e){var r=e.isDrag;if(e.datas.isDrag){this.dragEnd(t,e);var n=Ot(t,this,"dragEnd",[0,0],e,!1,"draggable");return Vr(t,"onDragGroupEnd",jr(t,e,{targets:t.props.targets,events:n})),r}},request:function(t){var e={},r=t.getRect(),n=0,i=0,o=!1;return{isControl:!1,requestStart:function(t){return o=t.useSnap,{datas:e,useSnap:o}},request:function(t){return"x"in t?n=t.x-r.left:"deltaX"in t&&(n+=t.deltaX),"y"in t?i=t.y-r.top:"deltaY"in t&&(i+=t.deltaY),{datas:e,distX:n,distY:i,useSnap:o}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:o}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function Me(t,e){return{fixedPosition:st(t,e),fixedDirection:e,fixedOffset:[0,0]}}function Pe(t,e){var r=t.allMatrix,n=t.is3d,i=t.width,o=t.height,a=n?4:3,s=function(t,e,r){return[e?t[0]/(e/2)-1:0,r?t[1]/(r/2)-1:0]}(e,i,o);return{fixedPosition:Er(r,e,a),fixedDirection:s,fixedOffset:[i?0:e[0],o?0:e[1]]}}var ze=sn("resizable"),Te={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:It("resizable"),dragControlCondition:ze,viewClassName:an("resizable"),dragControlStart:function(t,e){var r,n=e.inputEvent,i=e.isPinch,a=e.isGroup,s=e.parentDirection,u=e.parentGesto,l=e.datas,c=e.parentFixedDirection,f=e.parentEvent,p=kr(s,i,n,l),d=t.state,g=d.target,h=d.width,v=d.height,m=d.gestos;if(!p||!g)return!1;if(m.resizable)return!1;m.resizable=u||t.controlGesto,!i&&tt(t,e),l.datas={},l.direction=p,l.startOffsetWidth=h,l.startOffsetHeight=v,l.prevWidth=0,l.prevHeight=0,l.minSize=[0,0],l.startWidth=d.inlineCSSWidth||d.cssWidth,l.startHeight=d.inlineCSSHeight||d.cssHeight,l.maxSize=[1/0,1/0],a||(l.minSize=[d.minOffsetWidth,d.minOffsetHeight],l.maxSize=[d.maxOffsetWidth,d.maxOffsetHeight]);var b=t.props.transformOrigin||"% %";function S(t){l.ratio=t&&isFinite(t)?t:0}function y(t){var e=Me(l.startPositions,t);l.fixedDirection=e.fixedDirection,l.fixedPosition=e.fixedPosition,l.fixedOffset=e.fixedOffset}function E(e){var r=Pe(t.state,e);l.fixedDirection=r.fixedDirection,l.fixedPosition=r.fixedPosition,l.fixedOffset=r.fixedOffset}function D(t){l.minSize=[(0,o.AA)("".concat(t[0]),0)||0,(0,o.AA)("".concat(t[1]),0)||0]}function C(t){var e=[t[0]||1/0,t[1]||1/0];(0,o.hj)(e[0])&&!isFinite(e[0])||(e[0]=(0,o.AA)("".concat(e[0]),0)||1/0),(0,o.hj)(e[1])&&!isFinite(e[1])||(e[1]=(0,o.AA)("".concat(e[1]),0)||1/0),l.maxSize=e}l.transformOrigin=b&&(0,o.HD)(b)?b.split(" "):b,l.startOffsetMatrix=d.offsetMatrix,l.startTransformOrigin=d.transformOrigin,l.isWidth=null!==(r=null==e?void 0:e.parentIsWidth)&&void 0!==r?r:!p[0]&&!p[1]||p[0]||!p[1],l.startPositions=Nr(t.state),S(h/v),y(c||[-p[0],-p[1]]),l.setFixedDirection=y,l.setFixedPosition=E,l.setMin=D,l.setMax=C;var R=Xr(t,e,{direction:p,startRatio:l.ratio,set:function(t){var e=x(t,2),r=e[0],n=e[1];l.startWidth=r,l.startHeight=n},setMin:D,setMax:C,setRatio:S,setFixedDirection:y,setFixedPosition:E,setOrigin:function(t){l.transformOrigin=t},dragStart:Re.dragStart(t,(new Z).dragStart([0,0],e))}),M=f||Vr(t,"onResizeStart",R);return l.startFixedDirection=l.fixedDirection,l.startFixedPosition=l.fixedPosition,!1!==M&&(l.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:p}),!!l.isResize&&R},dragControl:function(t,e){var r,n=e.datas,i=e.parentFlag,u=e.isPinch,l=e.parentKeepRatio,c=e.dragClient,f=e.parentDist,p=e.useSnap,d=e.isRequest,g=e.isGroup,h=e.parentEvent,v=e.resolveMatrix,m=n.isResize,S=n.transformOrigin,y=n.startWidth,E=n.startHeight,D=n.prevWidth,C=n.prevHeight,R=n.minSize,M=n.maxSize,P=n.ratio,z=n.startOffsetWidth,T=n.startOffsetHeight,O=n.isWidth;if(m){if(v){var w=t.state.is3d,G=n.startOffsetMatrix,A=n.startTransformOrigin,B=w?4:3,_=(0,s.Y6)(gt(e)),k=Math.sqrt(_.length);B!==k&&(_=(0,a.mA)(_,k,B));var I=ut(G,_,A,B),F=Dr(I,z,T,B);n.startPositions=F,n.nextTargetMatrix=_,n.nextAllMatrix=I}var N=Or(t.props,"resizable"),W=N.resizeFormat,q=N.throttleResize,Y=void 0===q?i?0:1:q,X=N.parentMoveable,j=N.keepRatioFinally,L=n.direction,V=L,U=0,K=0;L[0]||L[1]||(V=[1,1]);var Z=P&&(null!=l?l:N.keepRatio)||!1,$=x(dt(),2),Q=$[0],tt=$[1];h||(n.setFixedDirection(n.fixedDirection),Vr(t,"onBeforeResize",Xr(t,e,{startFixedDirection:n.startFixedDirection,startFixedPosition:n.startFixedPosition,setFixedDirection:function(t){var e;return n.setFixedDirection(t),e=x(dt(),2),Q=e[0],tt=e[1],[Q,tt]},setFixedPosition:function(t){var e;return n.setFixedPosition(t),e=x(dt(),2),Q=e[0],tt=e[1],[Q,tt]},boundingWidth:Q,boundingHeight:tt,setSize:function(t){var e;e=x(t,2),Q=e[0],tt=e[1]}},!0)));var et=c;c||(et=!i&&u?function(t,e){return st(Nr(t.state),e)}(t,[0,0]):n.fixedPosition);var rt=[0,0];if(u||(rt=function(t,e,r,n,i,o,a){if(!Jt(t,"resizable"))return[0,0];var s=a.fixedDirection,u=a.nextAllMatrix,l=t.state,c=l.allMatrix,f=l.is3d;return Je(t,(function(t,n){return Ve(u||c,e+t,r+n,s,i,f)}),e,r,n,i,o,a)}(t,Q,tt,L,et,!p&&d,n)),f&&(!f[0]&&(rt[0]=0),!f[1]&&(rt[1]=0)),Z){V[0]&&V[1]&&rt[0]&&rt[1]&&(bn(rt[0])>bn(rt[1])?rt[1]=0:rt[0]=0);var nt=!rt[0]&&!rt[1];nt&&ht(),V[0]&&!V[1]||rt[0]&&!rt[1]||nt&&O?(Q+=rt[0],tt=Q/P):(!V[0]&&V[1]||!rt[0]&&rt[1]||nt&&!O)&&(tt+=rt[1],Q=tt*P)}else Q+=rt[0],tt+=rt[1],Q=Math.max(0,Q),tt=Math.max(0,tt);r=x((0,o.F1)([Q,tt],R,M,!!Z&&P),2),Q=r[0],tt=r[1],ht(),Z&&(g||j)&&(O?tt=Q/P:Q=tt*P);var it=[(U=Q-z)-D,(K=tt-T)-C];n.prevWidth=U,n.prevHeight=K;var ot=St(t,Q,tt,et,S,n);if(X||!it.every((function(t){return!t}))||!ot.every((function(t){return!t}))){var at=Re.drag(t,J(e,t.state,ot,!!u,!1,"draggable")),lt=at.transform,ct=y+U,ft=E+K,pt=Xr(t,e,b({width:ct,height:ft,offsetWidth:Math.round(Q),offsetHeight:Math.round(tt),startRatio:P,boundingWidth:Q,boundingHeight:tt,direction:L,dist:[U,K],delta:it,isPinch:!!u,drag:at},Yr({style:{width:"".concat(ct,"px"),height:"".concat(ft,"px")},transform:lt},at,e)));return!h&&Vr(t,"onResize",pt),pt}}function dt(){var t=n.fixedDirection,r=pn(V,Z,n,e);U=r.distWidth,K=r.distHeight;var i=V[0]-t[0]||Z?Math.max(z+U,H):z,o=V[1]-t[1]||Z?Math.max(T+K,H):T;return Z&&z&&T&&(O?o=i/P:i=o*P),[i,o]}function ht(){var t;W&&(t=x(W([Q,tt]),2),Q=t[0],tt=t[1]),Q=(0,o.P2)(Q,Y),tt=(0,o.P2)(tt,Y)}},dragControlAfter:function(t,e){var r=e.datas,n=r.isResize,i=r.startOffsetWidth,o=r.startOffsetHeight,a=r.prevWidth,s=r.prevHeight;if(n&&!1!==t.props.checkResizableError){var u=t.state,l=u.width-(i+a),c=u.height-(o+s),f=bn(l)>3,p=bn(c)>3;return f&&(r.startWidth+=l,r.startOffsetWidth+=l,r.prevWidth+=l),p&&(r.startHeight+=c,r.startOffsetHeight+=c,r.prevHeight+=c),f||p?this.dragControl(t,e):void 0}},dragControlEnd:function(t,e){var r=e.datas,n=e.parentEvent;if(r.isResize){r.isResize=!1;var i=jr(t,e,{});return!n&&Vr(t,"onResizeEnd",i),i}},dragGroupControlCondition:ze,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,b(b({},e),{isGroup:!0}));if(!n)return!1;var i=Tt(t,"resizable",e),o=r.startOffsetWidth,a=r.startOffsetHeight;function s(){var t=r.minSize;i.forEach((function(e){var r=e.datas,n=r.minSize,i=r.startOffsetWidth,s=r.startOffsetHeight,u=o*(i?n[0]/i:0),l=a*(s?n[1]/s:0);t[0]=Math.max(t[0],u),t[1]=Math.max(t[1],l)}))}function u(){var t=r.maxSize;i.forEach((function(e){var r=e.datas,n=r.maxSize,i=r.startOffsetWidth,s=r.startOffsetHeight,u=o*(i?n[0]/i:0),l=a*(s?n[1]/s:0);t[0]=Math.min(t[0],u),t[1]=Math.min(t[1],l)}))}var l=wt(t,this,"dragControlStart",e,(function(e,n){return Gt(t,e,r,n)}));s(),u();var c=function(e){n.setFixedDirection(e),l.forEach((function(n,o){n.setFixedDirection(e),Gt(t,n.moveable,r,i[o])}))};r.setFixedDirection=c;var f=b(b({},n),{targets:t.props.targets,events:l.map((function(t){return b(b({},t),{setMin:function(e){t.setMin(e),s()},setMax:function(e){t.setMax(e),u()}})})),setFixedDirection:c,setMin:function(t){n.setMin(t),s()},setMax:function(t){n.setMax(t),u()}}),p=Vr(t,"onResizeGroupStart",f);return r.isResize=!1!==p,!!r.isResize&&n},dragGroupControl:function(t,e){var r=e.datas;if(r.isResize){var n=Or(t.props,"resizable");Lr(t,"onBeforeResize",(function(r){Vr(t,"onBeforeResizeGroup",Xr(t,e,b(b({},r),{targets:n.targets}),!0))}));var i=this.dragControl(t,b(b({},e),{isGroup:!0}));if(i){var o=i.boundingWidth,s=i.boundingHeight,u=i.dist,l=n.keepRatio,c=[o/(o-u[0]),s/(s-u[1])],f=r.fixedPosition,p=wt(t,this,"dragControl",e,(function(e,r){var n=x((0,a.Kf)((0,a.sQ)(t.rotation/180*Math.PI,3),[r.datas.originalX*c[0],r.datas.originalY*c[1],1],3),2),i=n[0],o=n[1];return b(b({},r),{parentDist:null,parentScale:c,dragClient:(0,a.PD)(f,[i,o]),parentKeepRatio:l})})),d=b({targets:n.targets,events:p},i);return Vr(t,"onResizeGroup",d),d}}},dragGroupControlEnd:function(t,e){var r=e.isDrag;if(e.datas.isResize){this.dragControlEnd(t,e);var n=wt(t,this,"dragControlEnd",e);return Vr(t,"onResizeGroupEnd",jr(t,e,{targets:t.props.targets,events:n})),r}},request:function(t){var e={},r=0,n=0,i=!1,o=t.getRect();return{isControl:!0,requestStart:function(t){var r;return i=t.useSnap,{datas:e,parentDirection:t.direction||[1,1],parentIsWidth:null===(r=null==t?void 0:t.horizontal)||void 0===r||r,useSnap:i}},request:function(t){return"offsetWidth"in t?r=t.offsetWidth-o.offsetWidth:"deltaWidth"in t&&(r+=t.deltaWidth),"offsetHeight"in t?n=t.offsetHeight-o.offsetHeight:"deltaHeight"in t&&(n+=t.deltaHeight),{datas:e,parentDist:[r,n],parentKeepRatio:t.keepRatio,useSnap:i}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:i}}}},unset:function(t){t.state.gestos.resizable=null}};function Oe(t,e,r,n,i){var s=t.props.groupable,u=t.state,l=u.is3d?4:3,c=e.origin,f=Er(t.state.rootMatrix,(0,a.h9)([c[0],c[1]],s?[0,0]:[u.left,u.top]),l),p=(0,a.PD)([i.left,i.top],f);e.startAbsoluteOrigin=p,e.prevDeg=(0,o.jv)(p,[r,n])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=(0,o.zt)(p,[r,n])}function we(t,e,r){var n=r.defaultDeg,i=r.prevDeg,o=i%360,a=Math.floor(i/360);o<0&&(o+=360),o>t&&o>270&&t<90?++a:o<t&&o<90&&t>270&&--a;var s=e*(360*a+t-n);return r.prevDeg=n+s,s}function Ge(t,e,r,n){return we((0,o.jv)(n.startAbsoluteOrigin,[t,e])/Math.PI*180,r,n)}function Ae(t,e,r,n,i,s){var u=t.props.throttleRotate,l=void 0===u?0:u,c=r.prevSnapDeg,f=0,p=!1;if(s){var d=function(t,e,r,n){var i,o=t.props,s=null!==(i=o[ir])&&void 0!==i?i:5,u=o[or];if(Jt(t,"rotatable")){var l=e.pos1,c=e.pos2,f=e.pos3,p=e.pos4,d=e.origin,g=r*Math.PI/180,h=[l,c,f,p].map((function(t){return(0,a.h9)(t,d)})),v=h.map((function(t){return(0,a.U1)(t,g)})),m=S(S([],x(Xt(t,h,v,d,r)),!1),x(me(t,h,v,d,r)),!1);m.sort((function(t,e){return bn(t-r)-bn(e-r)}));var b=m.length>0;if(b)return{isSnap:b,dist:b?m[0]:r}}if((null==u?void 0:u.length)&&s){var y=u.slice().sort((function(t,e){return Qe(t,n)-Qe(e,n)}))[0];if(Qe(y,n)<=s)return{isSnap:!0,dist:r+$e(n,y)-n}}return{isSnap:!1,dist:r}}(t,e,n,i+n);p=d.isSnap,f=i+d.dist}p||(f=(0,o.P2)(i+n,l));var g=f-i;return r.prevSnapDeg=g,[g-c,g,f]}function Be(t,e,r){var n=x(e,4),i=n[0],a=n[1],s=n[2],u=n[3];if("none"===t)return[];if((0,o.kJ)(t))return t.map((function(t){return Be(t,[i,a,s,u],r)[0]}));var l=x((t||"top").split("-"),2),c=l[0],f=l[1],p=[i,a];"left"===c?p=[s,i]:"right"===c?p=[a,u]:"bottom"===c&&(p=[u,s]);var d=[(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2],g=Gr(p,r);if(f){var h="top"===f||"left"===f,v="bottom"===c||"left"===c;d=p[h&&!v||!h&&v?0:1]}return[[d,g]]}function _e(t,e){if(e.isRequest)return"rotatable"===e.requestAble;var r=e.inputEvent.target;if((0,o.pv)(r,sr("rotation-control"))||t.props.rotateAroundControls&&(0,o.pv)(r,sr("around-control"))||(0,o.pv)(r,sr("control"))&&(0,o.pv)(r,sr("rotatable")))return!0;var n=t.props.rotationTarget;return!!n&&ln(n,!0).some((function(t){return!!t&&(r===t||r.contains(t))}))}var ke={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[".rotation {\nposition: absolute;\nheight: 40px;\nwidth: 1px;\ntransform-origin: 50% 100%;\nheight: calc(40px * var(--zoom));\ntop: auto;\nleft: 0;\nbottom: 100%;\nwill-change: transform;\n}\n.rotation .rotation-line {\ndisplay: block;\nwidth: 100%;\nheight: 100%;\ntransform-origin: 50% 50%;\n}\n.rotation .rotation-control {\nborder-color: #4af;\nborder-color: var(--moveable-color);\nbackground:#fff;\ncursor: alias;\n}\n:global .view-rotation-dragging, .rotatable.direction.control {\ncursor: alias;\n}\n.rotatable.direction.control.move {\ncursor: move;\n}\n"],viewClassName:function(t){return t.isDragging("rotatable")?sr("view-rotation-dragging"):""},render:function(t,e){var r=Or(t.props,"rotatable"),n=r.rotatable,i=r.rotationPosition,a=r.zoom,s=r.renderDirections,u=r.rotateAroundControls,l=r.resolveAblesWithRotatable,c=t.getState(),f=c.renderPoses,p=c.direction;if(!n)return null;var d=Be(i,f,p),g=[];if(d.forEach((function(t,r){var n=x(t,2),i=n[0],o=n[1];g.push(e.createElement("div",{key:"rotation".concat(r),className:sr("rotation"),style:{transform:"translate(-50%) translate(".concat(i[0],"px, ").concat(i[1],"px) rotate(").concat(o,"rad)")}},e.createElement("div",{className:sr("line rotation-line"),style:{transform:"scaleX(".concat(a,")")}}),e.createElement("div",{className:sr("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(a,")")}})))})),s){var h=(0,o.RR)(l||{}),v={};h.forEach((function(t){l[t].forEach((function(e){v[e]=t}))}));var m=[];(0,o.kJ)(s)&&(m=s.map((function(t){var e=v[t];return{data:e?{resolve:e}:{},classNames:e?["move"]:[],dir:t}}))),g.push.apply(g,S([],x(At(t,"rotatable",m,e)),!1))}return u&&g.push.apply(g,S([],x(Nt(t,e)),!1)),g},dragControlCondition:_e,dragControlStart:function(t,e){var r,n,i=e.datas,s=e.clientX,u=e.clientY,l=e.parentRotate,c=e.parentFlag,f=e.isPinch,p=e.isRequest,d=t.state,g=d.target,h=d.left,v=d.top,m=d.direction,S=d.beforeDirection,y=d.targetTransform,E=d.moveableClientRect,D=d.offsetMatrix,C=d.targetMatrix,R=d.allMatrix,M=d.width,P=d.height;if(!p&&!g)return!1;var z=t.getRect();i.rect=z,i.transform=y,i.left=h,i.top=v;var T=function(e){var r=Pe(t.state,e);i.fixedDirection=r.fixedDirection,i.fixedOffset=r.fixedOffset,i.fixedPosition=r.fixedPosition,q&&q.setFixedPosition(e)},O=function(e){var r=function(t,e){var r=t.allMatrix,n=t.is3d,i=t.width,o=t.height,a=n?4:3;return{fixedPosition:Er(r,[i/2*(1+e[0]),o/2*(1+e[1])],a),fixedDirection:e,fixedOffset:[0,0]}}(t.state,e);i.fixedDirection=r.fixedDirection,i.fixedOffset=r.fixedOffset,i.fixedPosition=r.fixedPosition,q&&q.setFixedDirection(e)},w=s,G=u;if(p||f||c){var A=l||0;i.beforeInfo={origin:z.beforeOrigin,prevDeg:A,defaultDeg:A,prevSnapDeg:0,startDist:0},i.afterInfo=b(b({},i.beforeInfo),{origin:z.origin}),i.absoluteInfo=b(b({},i.beforeInfo),{origin:z.origin,startValue:A})}else{var B=null===(n=e.inputEvent)||void 0===n?void 0:n.target;if(B){var _=B.getAttribute("data-direction")||"",k=L[_];if(k){i.isControl=!0,i.isAroundControl=(0,o.pv)(B,sr("around-control")),i.controlDirection=k;var I=B.getAttribute("data-resolve");I&&(i.resolveAble=I);var F=function(t,e,r){var n=16===t.length?4:3,i=e.map((function(e){return Er(t,e,n)})),o=r.left,a=r.top;return i.map((function(t){return[t[0]+o,t[1]+a]}))}(d.rootMatrix,d.renderPoses,E);r=x(st(F,k),2),w=r[0],G=r[1]}}i.beforeInfo={origin:z.beforeOrigin},i.afterInfo={origin:z.origin},i.absoluteInfo={origin:z.origin,startValue:z.rotation};var N=T;T=function(e){var r=d.is3d?4:3,n=x((0,a.PD)((0,a.P$)(C,r),e),2),o=n[0],s=n[1],u=(0,a.Kf)(D,(0,a.WK)([o,s],r)),l=(0,a.Kf)(R,(0,a.WK)([e[0],e[1]],r));N(e);var c=d.posDelta;i.beforeInfo.origin=(0,a.h9)(u,c),i.afterInfo.origin=(0,a.h9)(l,c),i.absoluteInfo.origin=(0,a.h9)(l,c),Oe(t,i.beforeInfo,w,G,E),Oe(t,i.afterInfo,w,G,E),Oe(t,i.absoluteInfo,w,G,E)},O=function(t){var e=st([[0,0],[M,0],[0,P],[M,P]],t);T(e)}}i.startClientX=w,i.startClientY=G,i.direction=m,i.beforeDirection=S,i.startValue=0,i.datas={},ct(t,e,"rotate");var W=!1,q=!1;i.isControl&&i.resolveAble&&("resizable"===i.resolveAble&&(q=Te.dragControlStart(t,b(b({},new Z("resizable").dragStart([0,0],e)),{parentPosition:i.controlPosition,parentFixedPosition:i.fixedPosition}))));q||(W=Re.dragStart(t,(new Z).dragStart([0,0],e))),T(function(t){var e=t.props,r=e.groupable,n=e.svgOrigin,i=t.getState(),o=i.offsetWidth,a=i.offsetHeight,s=i.svg,u=i.transformOrigin;if(!r&&s&&n)return gn(n,o,a);return u}(t));var H=Xr(t,e,b(b({set:function(t){i.startValue=t*Math.PI/180},setFixedDirection:O,setFixedPosition:T},lt(t,e)),{dragStart:W,resizeStart:q})),Y=Vr(t,"onRotateStart",H);return i.isRotate=!1!==Y,d.snapRenderInfo={request:e.isRequest},!!i.isRotate&&H},dragControl:function(t,e){var r,n,i,s=e.datas,u=e.clientDistX,l=e.clientDistY,c=e.parentRotate,f=e.parentFlag,p=e.isPinch,d=e.groupDelta,g=e.resolveMatrix,h=s.beforeDirection,v=s.beforeInfo,m=s.afterInfo,S=s.absoluteInfo,y=s.isRotate,E=s.startValue,D=s.rect,C=s.startClientX,R=s.startClientY;if(y){et(t,e,"rotate");var M,P,z,T,O,w,G,A,B,_=function(t){return $(t.datas.beforeTransform,[50,50],100,100).direction}(e),k=h*_,I=t.props.parentMoveable,F=180/Math.PI*E,N=S.startValue,W=!1,q=C+u,H=R+l;if(!f&&"parentDist"in e){var Y=e.parentDist;P=Y,O=Y,A=Y}else p||f?(P=we(c,h,v),O=we(c,k,m),A=we(c,k,S)):(P=Ge(q,H,h,v),O=Ge(q,H,k,m),A=Ge(q,H,k,S),W=!0);if(Vr(t,"onBeforeRotate",Xr(t,e,{beforeRotation:z=F+P,rotation:w=F+O,absoluteRotation:B=N+A,setRotation:function(t){P=O=t-F,A=O}},!0)),M=(r=x(Ae(t,D,v,P,F,W),3))[0],P=r[1],z=r[2],T=(n=x(Ae(t,D,m,O,F,W),3))[0],O=n[1],w=n[2],G=(i=x(Ae(t,D,S,A,N,W),3))[0],A=i[1],B=i[2],G||T||M||I||g){var X=rt(s,"rotate(".concat(w,"deg)"),"rotate(".concat(O,"deg)"));g&&(s.fixedPosition=bt(t,s.targetAllTransform,s.fixedDirection,s.fixedOffset,s));var j=function(t,e,r){var n=r.fixedDirection,i=r.fixedPosition,o=r.fixedOffset;return xt(t,"rotate(".concat(e,"deg)"),n,i,o,r)}(t,O,s),L=(0,a.h9)((0,a.PD)(d||[0,0],j),s.prevInverseDist||[0,0]);s.prevInverseDist=j,s.requestValue=null;var V=mt(t,X,L,p,e),U=V,K=(0,o.zt)([q,H],S.startAbsoluteOrigin)-S.startDist,Z=void 0;if("resizable"===s.resolveAble){var Q=Te.dragControl(t,b(b({},J(e,t.state,[e.deltaX,e.deltaY],!!p,!1,"resizable")),{resolveMatrix:!0,parentDistance:K}));Q&&(Z=Q,U=Yr(U,Q,e))}var tt=Xr(t,e,b(b({delta:T,dist:O,rotate:w,rotation:w,beforeDist:P,beforeDelta:M,beforeRotate:z,beforeRotation:z,absoluteDist:A,absoluteDelta:G,absoluteRotate:B,absoluteRotation:B,isPinch:!!p,resize:Z},V),U));return Vr(t,"onRotate",tt),tt}}},dragControlEnd:function(t,e){var r=e.datas;if(r.isRotate){r.isRotate=!1;var n=jr(t,e,{});return Vr(t,"onRotateEnd",n),n}},dragGroupControlCondition:_e,dragGroupControlStart:function(t,e){var r=e.datas,n=t.state,i=n.left,o=n.top,s=n.beforeOrigin,u=this.dragControlStart(t,e);if(!u)return!1;u.set(r.beforeDirection*t.rotation);var l=wt(t,this,"dragControlStart",e,(function(t,e){var r=t.state,n=r.left,u=r.top,l=r.beforeOrigin,c=(0,a.PD)((0,a.h9)([n,u],[i,o]),(0,a.h9)(l,s));return e.datas.startGroupClient=c,e.datas.groupClient=c,b(b({},e),{parentRotate:0})})),c=Vr(t,"onRotateGroupStart",b(b({},u),{targets:t.props.targets,events:l}));return r.isRotate=!1!==c,!!r.isRotate&&u},dragGroupControl:function(t,e){var r=e.datas;if(r.isRotate){Lr(t,"onBeforeRotate",(function(r){Vr(t,"onBeforeRotateGroup",Xr(t,e,b(b({},r),{targets:t.props.targets}),!0))}));var n=this.dragControl(t,e);if(n){var i=r.beforeDirection,o=n.beforeDist,s=o/180*Math.PI,u=wt(t,this,"dragControl",e,(function(t,e){var r=e.datas.startGroupClient,n=x(e.datas.groupClient,2),u=n[0],l=n[1],c=x((0,a.U1)(r,s*i),2),f=c[0],p=c[1],d=[f-u,p-l];return e.datas.groupClient=[f,p],b(b({},e),{parentRotate:o,groupDelta:d})}));t.rotation=i*n.beforeRotation;var l=b({targets:t.props.targets,events:u,set:function(e){t.rotation=e},setGroupRotation:function(e){t.rotation=e}},n);return Vr(t,"onRotateGroup",l),l}}},dragGroupControlEnd:function(t,e){var r=e.isDrag;if(e.datas.isRotate){this.dragControlEnd(t,e);var n=wt(t,this,"dragControlEnd",e);return Vr(t,"onRotateGroupEnd",jr(t,e,{targets:t.props.targets,events:n})),r}},request:function(t){var e={},r=0,n=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaRotate"in t?r+=t.deltaRotate:"rotate"in t&&(r=t.rotate-n),{datas:e,parentDist:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function Ie(t,e){return function(t,e){var r,n=t.direction,i=t.classNames,o=t.size,a=t.pos,s=t.zoom,u=t.key,l="horizontal"===n,c=l?"Y":"X";return e.createElement("div",{key:u,className:i.join(" "),style:(r={},r[l?"width":"height"]="".concat(o),r.transform="translate(".concat(a[0],", ").concat(a[1],") translate").concat(c,"(-50%) scale").concat(c,"(").concat(s,")"),r)})}(b(b({},t),{classNames:S([sr("line","guideline",t.direction)],x(t.classNames),!1).filter((function(t){return t})),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map((function(t){return"".concat((0,o.P2)(t,.1),"px")}))}),e)}function Fe(t,e,r,n,i,o,a,s){var u=t.props.zoom;return r.map((function(t,r){var l=t.type,c=t.pos,f=[0,0];return f[a]=n,f[a?0:1]=-i+c,Ie({key:"".concat(e,"TargetGuideline").concat(r),classNames:[sr("target","bold",l)],posValue:f,sizeValue:o,zoom:u,direction:e},s)}))}function Ne(t,e,r,n,i,o){var a=t.props,s=a.zoom,u=a.isDisplayInnerSnapDigit,l="horizontal"===e?Ut:Kt,c=i[l.start],f=i[l.end];return r.filter((function(t){var e=t.hide,r=t.elementRect;if(e)return!1;if(u&&r){var n=r.rect;if(n[l.start]<=c&&f<=n[l.end])return!1}return!0})).map((function(t,r){var i=t.pos,a=t.size,u=t.element,l=t.className,c=[-n[0]+i[0],-n[1]+i[1]];return Ie({key:"".concat(e,"-default-guideline-").concat(r),classNames:u?[sr("bold"),l]:[sr("normal"),l],direction:e,posValue:c,sizeValue:a,zoom:s},o)}))}function We(t,e,r,n,i,o,a,s){var u,l=t.props,c=l.snapDigit,f=void 0===c?0:c,p=l.isDisplaySnapDigit,d=void 0===p||p,g=l.snapDistFormat,h=void 0===g?function(t,e){return t}:g,v=l.zoom,m="horizontal"===e?"X":"Y",b="vertical"===e?"height":"width",x=Math.abs(i),S=d?parseFloat(x.toFixed(f)):0;return s.createElement("div",{key:"".concat(e,"-").concat(r,"-guideline-").concat(n),className:sr("guideline-group",e),style:(u={left:"".concat(o[0],"px"),top:"".concat(o[1],"px")},u[b]="".concat(x,"px"),u)},Ie({direction:e,classNames:[sr(r),a],size:"100%",posValue:[0,0],sizeValue:x,zoom:v},s),s.createElement("div",{className:sr("size-value","gap"),style:{transform:"translate".concat(m,"(-50%) scale(").concat(v,")")}},S>0?h(S,e):""))}function qe(t,e,r,n,i){var o=t.props.isDisplayInnerSnapDigit,a=[];return["vertical","horizontal"].forEach((function(s){var u=e.filter((function(t){return t.type===s})),l="vertical"===s?1:0,c=l?0:1,f=function(t,e,r,n){var i="vertical"===t?0:1,o="vertical"===t?1:0,a=i?Ut:Kt,s=r[a.start],u=r[a.end];return Zr(e,(function(t){return t.pos[i]})).map((function(e){var r=[],l=[];return e.forEach((function(e){var c,f,p=e.element,d=e.elementRect.rect;if(d[a.end]<s)r.push(e);else if(u<d[a.start])l.push(e);else if(d[a.start]<=s&&u<=d[a.end]&&n){var g=e.pos,h={element:p,rect:b(b({},d),(c={},c[a.end]=d[a.start],c))},v={element:p,rect:b(b({},d),(f={},f[a.start]=d[a.end],f))},m=[0,0],x=[0,0];m[i]=g[i],m[o]=g[o],x[i]=g[i],x[o]=g[o]+e.size,r.push({type:t,pos:m,size:0,elementRect:h,direction:"",elementDirection:"end"}),l.push({type:t,pos:x,size:0,elementRect:v,direction:"",elementDirection:"start"})}})),r.sort((function(t,e){return e.pos[o]-t.pos[o]})),l.sort((function(t,e){return t.pos[o]-e.pos[o]})),{total:e,start:r,end:l,inner:[]}}))}(s,u,n,o),p=l?Kt:Ut,d=l?Ut:Kt,g=n[p.start],h=n[p.end];f.forEach((function(e){var o=e.total,u=e.start,f=e.end,v=e.inner,m=r[c]+o[0].pos[c]-n[d.start],b=n;u.forEach((function(e){var n=e.elementRect.rect,o=b[p.start]-n[p.end];if(o>0){var u=[0,0];u[l]=r[l]+b[p.start]-g-o,u[c]=m,a.push(We(t,s,"dashed",a.length,o,u,e.className,i))}b=n})),b=n,f.forEach((function(e){var n=e.elementRect.rect,o=n[p.start]-b[p.end];if(o>0){var u=[0,0];u[l]=r[l]+b[p.end]-g,u[c]=m,a.push(We(t,s,"dashed",a.length,o,u,e.className,i))}b=n})),v.forEach((function(e){var n=e.elementRect.rect,o=g-n[p.start],u=n[p.end]-h,f=[0,0],d=[0,0];f[l]=r[l]-o,f[c]=m,d[l]=r[l]+h-g,d[c]=m,a.push(We(t,s,"dashed",a.length,o,f,e.className,i)),a.push(We(t,s,"dashed",a.length,u,d,e.className,i))}))}))})),a}function He(t){var e=t.state,r=e.containerClientRect,n=e.hasFixed,i=r.overflow,a=r.scrollHeight,s=r.scrollWidth,l=r.clientHeight,c=r.clientWidth,f=r.clientLeft,p=r.clientTop,d=t.props,g=d.snapGap,h=void 0===g||g,v=d.verticalGuidelines,m=d.horizontalGuidelines,y=d.snapThreshold,E=void 0===y?5:y,D=d.snapGridWidth,C=void 0===D?0:D,R=d.snapGridHeight,M=void 0===R?0:R,P=d.maxSnapElementGuidelineDistance,z=void 0===P?1/0:P,T=d.isDisplayGridGuidelines,O=Cr(Nr(t.state)),w=O.top,G=O.left,A=O.bottom,B=O.right,_={top:w,left:G,bottom:A,right:B,center:(G+B)/2,middle:(w+A)/2},k=function(t){var e=t.state,r=t.props.elementGuidelines,n=void 0===r?[]:r;if(!n.length)return e.elementRects=[],[];var i=(e.elementRects||[]).filter((function(t){return!t.refresh})),a=n.map((function(t){return(0,o.Kn)(t)&&"element"in t?b(b({},t),{element:un(t.element,!0)}):{element:un(t,!0)}})).filter((function(t){return t.element})),s=(0,u.H)(i.map((function(t){return t.element})),a.map((function(t){return t.element}))),l=s.maintained,c=s.added,f=[];l.forEach((function(t){var e=x(t,2),r=e[0],n=e[1];f[n]=i[r]})),function(t,e){if(!e.length)return[];var r=t.props.groupable,n=t.state,i=n.containerClientRect,o=n.rootMatrix,a=n.is3d,s=n.offsetDelta,u=a?4:3,l=x(function(t,e,r){var n=Er(t,[e.clientLeft,e.clientTop],r);return[e.left+n[0],e.top+n[1]]}(o,i,u),2),c=l[0],f=l[1],p=r?0:s[0],d=r?0:s[1];return e.map((function(t){var e=t.element.getBoundingClientRect(),r=e.left-c-p,n=e.top-f-d,i=n+e.height,a=r+e.width,s=x(tn(o,[r,n],u),2),l=s[0],g=s[1],h=x(tn(o,[a,i],u),2),v=h[0],m=h[1];return b(b({},t),{rect:{left:l,right:v,top:g,bottom:m,center:(l+v)/2,middle:(g+m)/2}})}))}(t,c.map((function(t){return a[t]}))).map((function(t,e){f[c[e]]=t})),e.elementRects=f;var p=Zt(t.props.elementSnapDirections),d=[];return f.forEach((function(t){var e=t.element,r=t.top,n=void 0===r?p.top:r,i=t.left,a=void 0===i?p.left:i,s=t.right,u=void 0===s?p.right:s,l=t.bottom,c=void 0===l?p.bottom:l,f=t.center,g=void 0===f?p.center:f,h=t.middle,v=void 0===h?p.middle:h,m=t.className,b=t.rect,x=$t({top:n,right:u,left:a,bottom:c,center:g,middle:v},b),S=x.horizontal,y=x.vertical,E=x.horizontalNames,D=x.verticalNames,C=b.top,R=b.left,M=b.right-R,P=b.bottom-C,z=[M,P];y.forEach((function(r,n){d.push({type:"vertical",element:e,pos:[(0,o.P2)(r,.1),C],size:P,sizes:z,className:m,elementRect:t,elementDirection:Vt[D[n]]||D[n],direction:""})})),S.forEach((function(r,n){d.push({type:"horizontal",element:e,pos:[R,(0,o.P2)(r,.1)],size:M,sizes:z,className:m,elementRect:t,elementDirection:Vt[E[n]]||E[n],direction:""})}))})),d}(t),I=S([],x(k),!1);h&&I.push.apply(I,S([],x(function(t,e,r){var n=t.props,i=n.maxSnapElementGuidelineDistance,o=void 0===i?1/0:i,a=n.maxSnapElementGapDistance,s=void 0===a?1/0:a,u=t.state.elementRects,l=[];return[["vertical",Ut,Kt],["horizontal",Kt,Ut]].forEach((function(t){var n=x(t,3),i=n[0],a=n[1],c=n[2],f=e[a.start],p=e[a.end],d=e[a.center],g=e[c.start],h=e[c.end];function v(t){var e=t.rect;return e[a.end]<f+r?f-e[a.end]:p-r<e[a.start]?e[a.start]-p:-1}var m=u.filter((function(t){var e=t.rect;return!(e[c.start]>h||e[c.end]<g)&&v(t)>0})).sort((function(t,e){return v(t)-v(e)})),b=[];m.forEach((function(t){m.forEach((function(e){if(t!==e){var r=t.rect,n=e.rect,i=r[c.start],o=r[c.end],a=n[c.start];i>n[c.end]||a>o||b.push([t,e])}}))})),b.forEach((function(t){var n=x(t,2),u=n[0],c=n[1],g=u.rect,h=c.rect,v=g[a.start],m=g[a.end],b=h[a.start],S=h[a.end],y=0,E=0,D=!1,C=!1,R=!1;if(m<=f&&p<=b){if(C=!0,bn((E=m+(y=(b-m-(p-f))/2)+(p-f)/2)-d)>r)return}else if(m<b&&S<f+r){if(D=!0,bn((E=S+(y=b-m))-f)>r)return}else{if(!(m<b&&p-r<v))return;if(R=!0,bn((E=v-(y=b-m))-p)>r)return}y&&Ye(e,h,i,o)&&(y>s||l.push({type:i,pos:"vertical"===i?[E,0]:[0,E],element:c.element,size:0,className:c.className,isStart:D,isCenter:C,isEnd:R,gap:y,hide:!0,gapRects:[u,c],direction:"",elementDirection:""}))}))})),l}(t,_,E)),!1));var F=b({},e.snapOffset||{left:0,top:0,bottom:0,right:0});if(I.push.apply(I,S([],x(function(t,e,r,n,i,a,s,u){void 0===i&&(i=0);void 0===a&&(a=0);var l=[],c=s.left,f=s.top;if(e)for(var p=0;p<=n;p+=e)l.push({type:"horizontal",pos:[c,(0,o.P2)(p-a+f,.1)],className:sr("grid-guideline"),size:r,hide:!u,direction:""});if(t)for(p=0;p<=r;p+=t)l.push({type:"vertical",pos:[(0,o.P2)(p-i+c,.1),f],className:sr("grid-guideline"),size:n,hide:!u,direction:""});return l}(C,M,i?s:c,i?a:l,f,p,F,T)),!1)),n){var N=r.left,W=r.top;F.left+=N,F.top+=W,F.right+=N,F.bottom+=W}return I.push.apply(I,S([],x(je(m||!1,v||!1,i?s:c,i?a:l,f,p,F)),!1)),I=I.filter((function(t){var e=t.element,r=t.elementRect,n=t.type;if(!e||!r)return!0;var i=r.rect;return Ye(_,i,n,z)})),I}function Ye(t,e,r,n){return"horizontal"===r?bn(t.right-e.left)<=n||bn(t.left-e.right)<=n||t.left<=e.right&&e.left<=t.right:"vertical"!==r||(bn(t.bottom-e.top)<=n||bn(t.top-e.bottom)<=n||t.top<=e.bottom&&e.top<=t.bottom)}function Xe(t,e){return t?t.map((function(t){var r=(0,o.Kn)(t)?t:{pos:t},n=r.pos;return(0,o.hj)(n)?r:b(b({},r),{pos:(0,o.AA)(n,e)})})):[]}function je(t,e,r,n,i,a,s){void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s={left:0,top:0,right:0,bottom:0});var u=[],l=s.left,c=s.top,f=s.bottom,p=r+s.right-l,d=n+f-c;return Xe(t,d).forEach((function(t){u.push({type:"horizontal",pos:[l,(0,o.P2)(t.pos-a+c,.1)],size:p,className:t.className,direction:""})})),Xe(e,p).forEach((function(t){u.push({type:"vertical",pos:[(0,o.P2)(t.pos-i+l,.1),c],size:d,className:t.className,direction:""})})),u}function Le(t){var e=t.state,r=e.container,n=t.props.snapContainer||r;if(e.snapContainer===n&&e.guidelines&&e.guidelines.length)return!1;var i=e.containerClientRect,a={left:0,top:0,bottom:0,right:0};if(r!==n){var s=un(n,!0);if(s){var u=_r(s),l=cn(e,[u.left-i.left,u.top-i.top]),c=cn(e,[u.right-i.right,u.bottom-i.bottom]);a.left=(0,o.P2)(l[0],1e-5),a.top=(0,o.P2)(l[1],1e-5),a.right=(0,o.P2)(c[0],1e-5),a.bottom=(0,o.P2)(c[1],1e-5)}}return e.snapContainer=n,e.snapOffset=a,e.guidelines=He(t),e.enableSnap=!0,!0}function Ve(t,e,r,n,i,o){var s=Dr(t,e,r,o?4:3),u=st(s,n);return Fr(s,(0,a.h9)(i,u))}function Ue(t){return t?t/bn(t):0}function Ke(t,e,r,n,i,o){var a=function(t,e,r){var n=[];if(r)1!==bn(e[0])||1!==bn(e[1])?n.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):n.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),n.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var i=t[0]?t:[1,1];[1,-1].forEach((function(t){[1,-1].forEach((function(r){var o=[t*i[0],r*i[1]];e[0]===o[0]&&e[1]===o[1]||n.push([e,o])}))}))}else t[0]?(1===bn(e[0])?[1]:[1,-1]).forEach((function(r){n.push([[e[0],-1],[r*t[0],-1]],[[e[0],0],[r*t[0],0]],[[e[0],1],[r*t[0],1]])})):t[1]&&(1===bn(e[1])?[1]:[1,-1]).forEach((function(r){n.push([[-1,e[1]],[-1,r*t[1]]],[[0,e[1]],[0,r*t[1]]],[[1,e[1]],[1,r*t[1]]])}));return n}(r,o.fixedDirection,n),s=he(t,e,r,n),u=S(S([],x(De(t,e,a,n,i,o)),!1),x(de(t,s,o)),!1),l=se(u,0),c=se(u,1);return{width:{isBound:l.isBound,offset:l.offset[0]},height:{isBound:c.isBound,offset:c.offset[1]}}}function Je(t,e,r,n,i,a,s,u){for(var l=Nr(t.state),c=t.props.keepRatio,f=0,p=0,d=0;d<2;++d){var g=Ke(t,e(f,p),i,c,s,u),h=g.width,v=g.height,m=h.isBound,b=v.isBound,S=h.offset,y=v.offset;if(1===d&&(m||(S=0),b||(y=0)),0===d&&s&&!m&&!b)return[0,0];if(c){var E=bn(S)*(r?1/r:1),D=bn(y)*(n?1/n:1);(m&&b?E<D:b||!m&&E<D)?S=r*y/n:y=n*S/r}f+=S,p+=y}if(!c&&i[0]&&i[1]){var C=function(t,e,r,n,i){var a=[-r[0],-r[1]],s=t.state,u=s.width,l=s.height,c=t.props.bounds,f=1/0,p=1/0;if(c){var d=[[r[0],-r[1]],[-r[0],r[1]]],g=c.left,h=void 0===g?-1/0:g,v=c.top,m=void 0===v?-1/0:v,b=c.right,S=void 0===b?1/0:b,y=c.bottom,E=void 0===y?1/0:y;d.forEach((function(t){var r=t[0]!==a[0],s=t[1]!==a[1],c=st(e,t),d=360*(0,o.jv)(n,c)/Math.PI;if(s){var g=c.slice();(bn(d-360)<2||bn(d-180)<2)&&(g[1]=n[1]);var v=be(n,g,(n[1]<c[1]?E:m)-c[1],!1,i),b=x(v.offset,2)[1],y=v.isOutside;isNaN(b)||(p=l+(y?1:-1)*bn(b))}if(r){g=c.slice(),(bn(d-90)<2||bn(d-270)<2)&&(g[0]=n[0]);var D=be(n,g,(n[0]<c[0]?S:h)-c[0],!0,i),C=x(D.offset,1)[0],R=D.isOutside;isNaN(C)||(f=u+(R?1:-1)*bn(C))}}))}return{maxWidth:f,maxHeight:p}}(t,l,i,a,u),R=C.maxWidth,M=C.maxHeight,P=x(function(t,e,r,n,i,a,s,u,l){var c=st(e,s),f=ye(t,u,{vertical:[c[0]],horizontal:[c[1]]}),p=f.horizontal.offset,d=f.vertical.offset;if((0,o.P2)(d,q)||(0,o.P2)(p,q)){var g=x(ot({datas:l,distX:-d,distY:-p}),2),h=g[0],v=g[1];return[Math.min(i||1/0,r+s[0]*h)-r,Math.min(a||1/0,n+s[1]*v)-n]}return[0,0]}(t,e(f,p).map((function(t){return t.map((function(t){return(0,o.P2)(t,q)}))})),r+f,n+p,R,M,i,s,u),2);f+=S=P[0],p+=y=P[1]}return[f,p]}function Ze(t){return t<0&&(t=t%360+360),t%=360}function $e(t,e){e=Ze(e);var r=Math.floor(t/360),n=360*r+360-e,i=360*r+e;return bn(t-n)<bn(t-i)?n:i}function Qe(t,e){t=Ze(t),e=Ze(e);var r=Ze(t-e);return Math.min(r,360-r)}function tr(t,e,r,n,i){if(!Jt(t,"scalable"))return[0,0];var o=i.startOffsetWidth,s=i.startOffsetHeight,u=i.fixedPosition,l=i.fixedDirection,c=i.is3d,f=Je(t,(function(t,r){return Ve(function(t,e){var r=t.transformOrigin,n=t.offsetMatrix,i=t.is3d,o=t.targetMatrix,s=t.targetAllTransform,u=i?4:3;return ut(n,(0,a.ml)(s||o,(0,a.Wi)(e,u),u),r,u)}(i,(0,a.PD)(e,[t/o,r/s])),o,s,l,u,c)}),o,s,r,u,n,i);return[f[0]/o,f[1]/s]}function er(t){var e=[];return t.forEach((function(t){t.guidelineInfos.forEach((function(r){var n=r.guideline;(0,o.sE)(e,(function(t){return t.guideline===n}))||(n.direction="",e.push({guideline:n,posInfo:t}))}))})),e.map((function(t){var e=t.guideline,r=t.posInfo;return b(b({},e),{direction:r.direction})}))}function rr(t,e,r,n,i,a){var s=Wt(qt(t,a),e,r),u=s.vertical,l=s.horizontal,c={left:!1,top:!1,right:!1,bottom:!1};u.forEach((function(t){t.isBound&&("start"===t.direction&&(c.left=!0),"end"===t.direction&&(c.right=!0),n.push({type:"bounds",pos:t.pos}))})),l.forEach((function(t){t.isBound&&("start"===t.direction&&(c.top=!0),"end"===t.direction&&(c.bottom=!0),i.push({type:"bounds",pos:t.pos}))}));var f=function(t){var e=t.props.innerBounds,r={left:!1,top:!1,right:!1,bottom:!1};if(!e)return{boundMap:r,vertical:[],horizontal:[]};var n=t.getRect(),i=[n.pos1,n.pos2,n.pos3,n.pos4],o=st(i,[0,0]),a=e.left,s=e.top,u=e.width,l=e.height,c=[[a,s],[a,s+l]],f=[[a,s],[a+u,s]],p=[[a+u,s],[a+u,s+l]],d=[[a,s+l],[a+u,s+l]],g=he(t,i,[0,0],!1),h=[],v=[];return g.forEach((function(t){var e=t.line,n=t.lineConstants,i=ue(o,e),g=i.horizontal,m=i.vertical,b=pe(e,n,f,m,1,!0),x=pe(e,n,d,m,1,!0),S=pe(e,n,c,g,1,!0),y=pe(e,n,p,g,1,!0);b.isBound&&!r.top&&(h.push(s),r.top=!0),x.isBound&&!r.bottom&&(h.push(s+l),r.bottom=!0),S.isBound&&!r.left&&(v.push(a),r.left=!0),y.isBound&&!r.right&&(v.push(a+u),r.right=!0)})),{boundMap:r,horizontal:h,vertical:v}}(t),p=f.boundMap,d=f.vertical,g=f.horizontal;return d.forEach((function(t){(0,o.cx)(n,(function(e){var r=e.type,n=e.pos;return"bounds"===r&&n===t}))>=0||n.push({type:"bounds",pos:t})})),g.forEach((function(t){(0,o.cx)(i,(function(e){var r=e.type,n=e.pos;return"bounds"===r&&n===t}))>=0||i.push({type:"bounds",pos:t})})),{boundMap:c,innerBoundMap:p}}var nr=sn("",["resizable","scalable"]),ir="snapRotationThreshold",or="snapRotationDegrees",ar={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold",ir,or,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[":host {\n--bounds-color: #d66;\n}\n.guideline {\npointer-events: none;\nz-index: 2;\n}\n.guideline.bounds {\nbackground: #d66;\nbackground: var(--bounds-color);\n}\n.guideline-group {\nposition: absolute;\ntop: 0;\nleft: 0;\n}\n.guideline-group .size-value {\nposition: absolute;\ncolor: #f55;\nfont-size: 12px;\nfont-size: calc(12px * var(--zoom));\nfont-weight: bold;\n}\n.guideline-group.horizontal .size-value {\ntransform-origin: 50% 100%;\ntransform: translateX(-50%);\nleft: 50%;\nbottom: 5px;\nbottom: calc(2px + 3px * var(--zoom));\n}\n.guideline-group.vertical .size-value {\ntransform-origin: 0% 50%;\ntop: 50%;\ntransform: translateY(-50%);\nleft: 5px;\nleft: calc(2px + 3px * var(--zoom));\n}\n.guideline.gap {\nbackground: #f55;\n}\n.size-value.gap {\ncolor: #f55;\n}\n"],render:function(t,e){var r=t.state,n=r.top,i=r.left,o=r.pos1,a=r.pos2,s=r.pos3,u=r.pos4,l=r.snapRenderInfo,c=t.props.snapRenderThreshold,f=void 0===c?1:c;if(!l||!l.render||!Jt(t,""))return vn(t,"boundMap",{left:!1,top:!1,right:!1,bottom:!1},(function(t){return JSON.stringify(t)})),vn(t,"innerBoundMap",{left:!1,top:!1,right:!1,bottom:!1},(function(t){return JSON.stringify(t)})),[];r.guidelines=He(t);var p=Math.min(o[0],a[0],s[0],u[0]),d=Math.min(o[1],a[1],s[1],u[1]),g=l.externalPoses||[],h=Nr(t.state),v=[],m=[],b=[],y=[],E=[],D=Cr(h),C=D.width,R=D.height,M=D.top,P=D.left,z=D.bottom,T=D.right,O={left:P,right:T,top:M,bottom:z,center:(P+T)/2,middle:(M+z)/2},w=g.length>0,G=w?Cr(g):{};if(!l.request){if(l.direction&&E.push(oe(t,h,l.direction,f)),l.snap){var A=Cr(h);l.center&&(A.middle=(A.top+A.bottom)/2,A.center=(A.left+A.right)/2),E.push(re(t,A,f))}w&&(l.center&&(G.middle=(G.top+G.bottom)/2,G.center=(G.left+G.right)/2),E.push(re(t,G,f))),E.forEach((function(t){var e=t.vertical.posInfos,r=t.horizontal.posInfos;v.push.apply(v,S([],x(e.filter((function(t){return t.guidelineInfos.some((function(t){return!t.guideline.hide}))})).map((function(t){return{type:"snap",pos:t.pos}}))),!1)),m.push.apply(m,S([],x(r.filter((function(t){return t.guidelineInfos.some((function(t){return!t.guideline.hide}))})).map((function(t){return{type:"snap",pos:t.pos}}))),!1)),b.push.apply(b,S([],x(er(e)),!1)),y.push.apply(y,S([],x(er(r)),!1))}))}var B=rr(t,[P,T],[M,z],v,m),_=B.boundMap,k=B.innerBoundMap;w&&rr(t,[G.left,G.right],[G.top,G.bottom],v,m,l.externalBounds);var I=S(S([],x(b),!1),x(y),!1),F=I.filter((function(t){return t.element&&!t.gapRects})),N=I.filter((function(t){return t.gapRects})).sort((function(t,e){return t.gap-e.gap}));Vr(t,"onSnap",{guidelines:I.filter((function(t){return!t.element})),elements:F,gaps:N},!0);var W=vn(t,"boundMap",_,(function(t){return JSON.stringify(t)}),{left:!1,top:!1,right:!1,bottom:!1}),q=vn(t,"innerBoundMap",k,(function(t){return JSON.stringify(t)}),{left:!1,top:!1,right:!1,bottom:!1});return _!==W&&k!==q||Vr(t,"onBound",{bounds:_,innerBounds:k},!0),S(S(S(S(S(S([],x(qe(t,F,[p,d],O,e)),!1),x(function(t,e,r,n,i){var o=[];return["horizontal","vertical"].forEach((function(a){var s=e.filter((function(t){return t.type===a})).slice(0,1),u="vertical"===a?0:1,l=u?0:1,c=u?Kt:Ut,f=u?Ut:Kt,p=n[c.start],d=n[c.end],g=n[f.start],h=n[f.end];s.forEach((function(e){var n=e.gap,a=e.gapRects,s=Math.max.apply(Math,S([g],x(a.map((function(t){return t.rect[f.start]}))),!1)),v=Math.min.apply(Math,S([h],x(a.map((function(t){return t.rect[f.end]}))),!1)),m=(s+v)/2;s!==v&&m!==(g+h)/2&&a.forEach((function(e){var a=e.rect,s=e.className,f=[r[0],r[1]];if(a[c.end]<p)f[u]+=a[c.end]-p;else{if(!(d<a[c.start]))return;f[u]+=a[c.start]-p-n}f[l]+=m-g,o.push(We(t,u?"vertical":"horizontal","gap",o.length,n,f,s,i))}))}))})),o}(t,N,[p,d],O,e)),!1),x(Ne(t,"horizontal",y,[i,n],O,e)),!1),x(Ne(t,"vertical",b,[i,n],O,e)),!1),x(Fe(t,"horizontal",m,p,n,C,0,e)),!1),x(Fe(t,"vertical",v,d,i,R,1,e)),!1)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},Le(t)},drag:function(t){var e=t.state;Le(t)||(e.guidelines=He(t)),e.snapRenderInfo&&(e.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){return!(!nr(t,e)&&!_e(t,e))||(!e.isRequest&&e.inputEvent?(0,o.pv)(e.inputEvent.target,sr("snap-control")):void 0)},dragControlStart:function(t){t.state.snapRenderInfo=null,Le(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,Le(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function sr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.tI.apply(void 0,S([I],x(t),!1))}function ur(t){t()}function lr(t){return t&&"none"!==t?(0,o.Kn)(t)?t:(0,s.Y6)(t):[1,0,0,1,0,0]}function cr(t,e,r){return(0,a.KF)(e,(0,a.Jm)(r,e),t,(0,a.Jm)(r.map((function(t){return-t})),e))}function fr(t){return pr(Ur(t,":before").transformOrigin).map((function(e,r){var n=(0,o.jL)(e),i=n.value,a=n.unit;return i*function(t,e,r){return"%"===e?Sr(t.ownerSVGElement)[r?"width":"height"]/100:1}(t,a,0===r)}))}function pr(t){return t?t.split(" "):["0","0"]}function dr(t){var e=zt(t)("transform");if(e&&"none"!==e)return e;if("transform"in t){var r=t.transform.baseVal;if(!r)return"";var n=r.length;if(!n)return"";for(var i=[],o=function(t){var e=r[t].matrix;i.push("matrix(".concat(["a","b","c","d","e","f"].map((function(t){return e[t]})).join(", "),")"))},a=0;a<n;++a)o(a);return i.join(" ")}return""}function gr(t,e,r,n,i){var a,s,u,l,c=(0,o.mB)(t)||(0,o.zi)(t),f=!1;if(!t||r)u=t;else{var p=null===(a=null==t?void 0:t.assignedSlot)||void 0===a?void 0:a.parentElement,d=t.parentElement;p?(f=!0,l=d,u=p):u=d}for(var g=!1,h=t===e||u===e,v="relative",m=1,b=parseFloat(null==i?void 0:i("zoom"))||1,x=null==i?void 0:i("position");u&&u!==c;){e===u&&(h=!0);var S=zt(u),y=u.tagName.toLowerCase(),E=dr(u),D=S("willChange"),C=parseFloat(S("zoom"))||1;if(v=S("position"),n&&1!==C){m=C;break}if(!r&&n&&1!==b&&x&&"absolute"!==x||"svg"===y||"static"!==v||E&&"none"!==E||"transform"===D)break;var R=null===(s=null==t?void 0:t.assignedSlot)||void 0===s?void 0:s.parentNode,M=u.parentNode;R&&(f=!0,l=M);var P=M;if(P&&11===P.nodeType){g=!0,v=zt(u=P.host)("position");break}u=P,v="relative"}return{offsetZoom:m,hasSlot:f,parentSlotElement:l,isCustomElement:g,isStatic:"static"===v,isEnd:h||!u||u===c,offsetParent:u||c}}function hr(t,e){var r,n,i,a=t.tagName.toLowerCase(),s=t.offsetLeft,u=t.offsetTop,l=zt(t),c=(0,o.o8)(s),f=!c;return f||"svg"===a?i=(n=pr(l("transformOrigin")).map((function(t){return parseFloat(t)}))).slice():(i=(n=z?fr(t):pr(l("transformOrigin")).map((function(t){return parseFloat(t)}))).slice(),f=!0,r=x(function(t,e,r){if(!t.getBBox||!r&&"g"===t.tagName.toLowerCase())return[0,0,0,0];var n=t.getBBox(),i=Sr(t.ownerSVGElement),o=n.x-i.x,a=n.y-i.y;return[o,a,e[0]-o,e[1]-a]}(t,n,t===e&&"g"===e.tagName.toLowerCase()),4),s=r[0],u=r[1],n[0]=r[2],n[1]=r[3]),{tagName:a,isSVG:c,hasOffset:f,offset:[s||0,u||0],origin:n,targetOrigin:i}}function vr(t,e){var r=zt(t),n=zt((0,o.zi)(t)),i=n("position");if(!(e||i&&"static"!==i))return[0,0];var a=parseInt(n("marginLeft"),10),s=parseInt(n("marginTop"),10);return"absolute"===r("position")&&("auto"===r("top")&&"auto"===r("bottom")||(s=0),"auto"===r("left")&&"auto"===r("right")||(a=0)),[a,s]}function mr(t){t.forEach((function(t){var e=t.matrix;e&&(t.matrix=(0,a.mA)(e,3,4))}))}function br(t){for(var e=t.parentElement,r=!1,n=(0,o.zi)(t);e;){var i=Ur(e).transform;if(i&&"none"!==i){r=!0;break}if(e===n)break;e=e.parentElement}return{fixedContainer:e||n,hasTransform:r}}function xr(t,e){return void 0===e&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat((0,a.pQ)(t,!e).join(","),")")}function Sr(t){var e=t.clientWidth,r=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:r};var n=t.viewBox,i=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||r,clientWidth:e,clientHeight:r}}function yr(t,e){var r,n=Sr(t),i=n.width,o=n.height,s=n.clientWidth,u=n.clientHeight,l=s/i,c=u/o,f=t.preserveAspectRatio.baseVal,p=f.align,d=f.meetOrSlice,g=[0,0],h=[l,c],v=[0,0];if(1!==p){var m=(p-2)%3,b=Math.floor((p-2)/3);g[0]=i*m/2,g[1]=o*b/2;var S=2===d?Math.max(c,l):Math.min(l,c);h[0]=S,h[1]=S,v[0]=(s-i)/2*m,v[1]=(u-o)/2*b}var y=(0,a.Wi)(h,e);return r=x(v,2),y[e*(e-1)]=r[0],y[e*(e-1)+1]=r[1],cr(y,e,g)}function Er(t,e,r){return(0,a.Kf)(t,(0,a.WK)(e,r),r)}function Dr(t,e,r,n){return[[0,0],[e,0],[0,r],[e,r]].map((function(e){return Er(t,e,n)}))}function Cr(t){var e=t.map((function(t){return t[0]})),r=t.map((function(t){return t[1]})),n=Math.min.apply(Math,S([],x(e),!1)),i=Math.min.apply(Math,S([],x(r),!1)),o=Math.max.apply(Math,S([],x(e),!1)),a=Math.max.apply(Math,S([],x(r),!1));return{left:n,top:i,right:o,bottom:a,width:o-n,height:a-i}}function Rr(t,e,r,n){return Cr(Dr(t,e,r,n))}function Mr(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Pr(t,e){return Mr([e[0]-t[0],e[1]-t[1]])}function zr(t,e,r,n){void 0===r&&(r=1),void 0===n&&(n=(0,o.jv)(t,e));var i=Pr(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(n,"rad) scaleY(").concat(r,")"),width:"".concat(i,"px")}}function Tr(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r.length,o=r.reduce((function(t,e){return t+e[0]}),0)/i,a=r.reduce((function(t,e){return t+e[1]}),0)/i;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(a,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function Or(t,e){var r=t[e];return(0,o.Kn)(r)?b(b({},t),r):t}function wr(t){var e=t&&!(0,o.o8)(t.offsetWidth),r=0,n=0,i=0,a=0,s=0,u=0,l=0,c=0,f=0,p=0,d=0,g=0,h=1/0,v=1/0,m=1/0,b=1/0,x=0,S=0,y=!1;if(t)if(e||"svg"===t.tagName.toLowerCase()){var E=zt(t),D=t.style,C="border-box"===E("boxSizing"),R=parseFloat(E("borderLeftWidth"))||0,M=parseFloat(E("borderRightWidth"))||0,P=parseFloat(E("borderTopWidth"))||0,z=parseFloat(E("borderBottomWidth"))||0,T=(parseFloat(E("paddingLeft"))||0)+(parseFloat(E("paddingRight"))||0),O=(parseFloat(E("paddingTop"))||0)+(parseFloat(E("paddingBottom"))||0),w=T+(R+M),G=O+(P+z),A=E("position"),B=0,_=0;if("clientLeft"in t){var k=null;if("absolute"===A)k=gr(t,(0,o.zi)(t)).offsetParent;else k=t.parentElement;if(k){var I=zt(k);B=parseFloat(I("width")),_=parseFloat(I("height"))}}f=Math.max(T,(0,o.AA)(E("minWidth"),B)||0),p=Math.max(O,(0,o.AA)(E("minHeight"),_)||0),h=(0,o.AA)(E("maxWidth"),B),v=(0,o.AA)(E("maxHeight"),_),isNaN(h)&&(h=1/0),isNaN(v)&&(v=1/0),x=(0,o.AA)(D.width,0)||0,S=(0,o.AA)(D.height,0)||0,s=parseFloat(E("width"))||0,u=parseFloat(E("height"))||0,r=l=bn(s-x)<1?(0,o.vX)(f,x||s,h):s,n=c=bn(u-S)<1?(0,o.vX)(p,S||u,v):u,i=l,a=c,C?(m=h,b=v,d=f,g=p,l=r-w,c=n-G):(m=h+w,b=v+G,d=f+w,g=p+G,r=l+w,n=c+G),i=l+T,a=c+O}else{var F=t.getBBox();y=!0,s=r=F.width,u=n=F.height,l=r,c=n,i=r,a=n}return{svg:y,offsetWidth:r,offsetHeight:n,clientWidth:i,clientHeight:a,contentWidth:l,contentHeight:c,inlineCSSWidth:x,inlineCSSHeight:S,cssWidth:s,cssHeight:u,minWidth:f,minHeight:p,maxWidth:h,maxHeight:v,minOffsetWidth:d,minOffsetHeight:g,maxOffsetWidth:m,maxOffsetHeight:b}}function Gr(t,e){return(0,o.jv)(e>0?t[0]:t[1],e>0?t[1]:t[0])}function Ar(t,e){var r=t===(0,o.zi)(t)||t===(0,o.mB)(t),n={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return r&&(n.clientHeight=Math.max(e.height,n.clientHeight),n.scrollHeight=Math.max(e.height,n.scrollHeight)),n.overflow="visible"!==zt(t)("overflow"),b(b({},e),n)}function Br(t,e,r,n){var i=t.left,o=t.right,a=t.top,s=t.bottom,u=e.top,l=e.left,c={left:l+i,top:u+a,right:l+o,bottom:u+s,width:o-i,height:s-a};return r&&n?Ar(r,c):c}function _r(t,e){var r=0,n=0,i=0,o=0;if(t){var a=t.getBoundingClientRect();r=a.left,n=a.top,i=a.width,o=a.height}var s={left:r,top:n,width:i,height:o,right:r+i,bottom:n+o};return t&&e?Ar(t,s):s}function kr(t,e,r,n){var i;if(t)i=t;else if(e)i=[0,0];else{i=Ir(r.target,n)}return i}function Ir(t,e){if(t){var r=t.getAttribute("data-rotation")||"",n=t.getAttribute("data-direction");if(e.deg=r,n){var i=[0,0];return n.indexOf("w")>-1&&(i[0]=-1),n.indexOf("e")>-1&&(i[0]=1),n.indexOf("n")>-1&&(i[1]=-1),n.indexOf("s")>-1&&(i[1]=1),i}}}function Fr(t,e){return[(0,a.PD)(e,t[0]),(0,a.PD)(e,t[1]),(0,a.PD)(e,t[2]),(0,a.PD)(e,t[3])]}function Nr(t){var e=t.left,r=t.top;return Fr([t.pos1,t.pos2,t.pos3,t.pos4],[e,r])}function Wr(t,e){t[e?"controlAbles":"targetAbles"].forEach((function(e){e.unset&&e.unset(t)}))}function qr(t,e){var r=e?"controlGesto":"targetGesto",n=t[r];!1===(null==n?void 0:n.isIdle())&&Wr(t,e),null==n||n.unset(),t[r]=null}function Hr(t,e){if(e){var r=dt(e);r.nextStyle=b(b({},r.nextStyle),t)}return{style:t,cssText:(0,o.RR)(t).map((function(e){return"".concat((0,o.wV)(e,"-"),": ").concat(t[e],";")})).join("")}}function Yr(t,e,r){var n=e.afterTransform||e.transform;return b(b({},Hr(b(b(b({},t.style),e.style),{transform:n}),r)),{afterTransform:n,transform:t.transform})}function Xr(t,e,r,n){var i=e.datas;i.datas||(i.datas={});var o=b(b({},r),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isRequest:e.isRequest,isRequestChild:e.isRequestChild,isFirstDrag:!!e.isFirstDrag,isTrusted:!1!==e.isTrusted,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var t;null===(t=e.stop)||void 0===t||t.call(e)}});return i.isStartEvent?n||(i.lastEvent=o):i.isStartEvent=!0,o}function jr(t,e,r){var n=e.datas,i="isDrag"in r?r.isDrag:e.isDrag;return n.datas||(n.datas={}),b(b({isDrag:i},r),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:e.isDouble,datas:n.datas,isFirstDrag:!!e.isFirstDrag})}function Lr(t,e,r){t._emitter.on(e,r)}function Vr(t,e,r,n,i){return t.triggerEvent(e,r,n,i)}function Ur(t,e){return(0,o.Jj)(t).getComputedStyle(t,e)}function Kr(t,e,r){var n={},i={};return t.filter((function(t){var o=t.name;if(n[o]||!e.some((function(e){return t[e]})))return!1;if(!r&&t.ableGroup){if(i[t.ableGroup])return!1;i[t.ableGroup]=!0}return n[o]=!0,!0}))}function Jr(t,e){return t===e||null==t&&null==e}function Zr(t,e){var r=[],n=[];return t.forEach((function(i,o){var a=e(i,o,t),s=n.indexOf(a),u=r[s]||[];-1===s&&(n.push(a),r.push(u)),u.push(i)})),r}function $r(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function Qr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return bn(e)-bn(t)})),t[0]}function tn(t,e,r){return(0,a.Kf)((0,a.U_)(t,r),(0,a.WK)(e,r),r)}function en(t,e){var r,n=t.is3d?4:3;return r=x(tn(t.rootMatrix,[e.distX,e.distY],n),2),e.distX=r[0],e.distY=r[1],e}function rn(t,e,r,n){if(!r[0]&&!r[1])return e;var i=Er(t,[Ue(r[0]),0],n),o=Er(t,[0,Ue(r[1])],n),s=Er(t,[r[0]/Mr(i),r[1]/Mr(o)],n);return(0,a.PD)(e,s)}function nn(t,e,r){return r?"".concat(t/e*100,"%"):"".concat(t,"px")}function on(t){return bn(t)<=H?0:t}function an(t){return function(e){if(!e.isDragging(t))return"";var r=function(t,e){var r,n=t.targetGesto,i=t.controlGesto;return(null==n?void 0:n.isFlag())&&(r=n.getEventData()[e]),!r&&(null==i?void 0:i.isFlag())&&(r=i.getEventData()[e]),r||{}}(e,t),n=r.deg;return n?sr("view-control-rotation".concat(n)):""}}function sn(t,e){return void 0===e&&(e=[t]),function(r,n){if(n.isRequest)return!!e.some((function(t){return n.requestAble===t}))&&n.parentDirection;var i=n.inputEvent.target;return(0,o.pv)(i,sr("direction"))&&(!t||(0,o.pv)(i,sr(t)))}}function un(t,e){return t?(0,o.UG)(t)?t:(0,o.HD)(t)?e?document.querySelector(t):t:(0,o.mf)(t)?t():(0,o.FJ)(t)?t:"current"in t?t.current:t:null}function ln(t,e){return t?((r=t)&&(0,o.Kn)(r)&&!(0,o.UG)(r)&&((0,o.kJ)(r)||"length"in r)?[].slice.call(t):[t]).reduce((function(t,r){return(0,o.HD)(r)&&e?S(S([],x(t),!1),x([].slice.call(document.querySelectorAll(r))),!1):((0,o.kJ)(r)?t.push(ln(r,e)):t.push(un(r,e)),t)}),[]):[];var r}function cn(t,e){var r=t.rootMatrix,n=t.is3d,i=n?4:3,o=(0,a.U_)(r,i);return n||(o=(0,a.mA)(o,3,4)),o[12]=0,o[13]=0,o[14]=0,(0,s.A8)(o,e)}function fn(t,e,r,n,i){var a=x(t,2),s=a[0],u=a[1],l=0,c=0;if(i&&s&&u){var f=(0,o.jv)([0,0],e),p=(0,o.jv)([0,0],n),d=Mr(e),g=Math.cos(f-p)*d;if(n[0])if(n[1]){var h=n[0]*s,v=n[1]*u,m=Math.atan2(h+e[0],v+e[1]),b=Math.atan2(h,v);m<0&&(m+=2*Math.PI),b<0&&(b+=2*Math.PI);var S=0;(S=bn(m-b)<Math.PI/2||bn(m-b)>Math.PI/2*3?m-b:m-(b+=Math.PI))>2*Math.PI?S-=2*Math.PI:S>Math.PI?S=2*Math.PI-S:S<-Math.PI&&(S=-2*Math.PI-S);var y=Mr([h+e[0],v+e[1]])*Math.cos(S);l=y*Math.sin(b)-h,c=y*Math.cos(b)-v,n[0]<0&&(l*=-1),n[1]<0&&(c*=-1)}else c=(l=g)/r;else l=(c=g)*r}else l=n[0]*e[0],c=n[1]*e[1];return[l,c]}function pn(t,e,r,n){var i,a=r.ratio,s=r.startOffsetWidth,u=r.startOffsetHeight,l=0,c=0,f=n.distX,p=n.distY,d=n.pinchScale,g=n.parentDistance,h=n.parentDist,v=n.parentScale,m=r.fixedDirection,b=[0,1].map((function(e){return bn(t[e]-m[e])})),S=[0,1].map((function(t){var e=b[t];return 0!==e&&(e=2/e),e}));if(h)l=h[0],c=h[1],e&&(l?c||(c=l/a):l=c*a);else if((0,o.hj)(d))l=(d-1)*s,c=(d-1)*u;else if(v)l=(v[0]-1)*s,c=(v[1]-1)*u;else if(g){var y=s*b[0],E=u*b[1],D=Mr([y,E]);l=g/D*y*S[0],c=g/D*E*S[1]}else{var C=ot({datas:r,distX:f,distY:p});C=S.map((function(t,e){return C[e]*t})),l=(i=x(fn([s,u],C,a,t,e),2))[0],c=i[1]}return{distWidth:l,distHeight:c}}function dn(t,e){if(e){if("left"===t)return{x:"0%",y:"50%"};if("top"===t)return{x:"50%",y:"50%"};if("center"===t)return{x:"50%",y:"50%"};if("right"===t)return{x:"100%",y:"50%"};if("bottom"===t)return{x:"50%",y:"100%"};var r=x(t.split(" "),2),n=r[0],i=r[1],o=dn(n||""),a=dn(i||""),s=b(b({},o),a),u={x:"50%",y:"50%"};return s.x&&(u.x=s.x),s.y&&(u.y=s.y),s.value&&(s.x&&!s.y&&(u.y=s.value),!s.x&&s.y&&(u.x=s.value)),u}return"left"===t?{x:"0%"}:"right"===t?{x:"100%"}:"top"===t?{y:"0%"}:"bottom"===t?{y:"100%"}:t?"center"===t?{value:"50%"}:{value:t}:{}}function gn(t,e,r){var n=dn(t,!0),i=n.x,a=n.y;return[(0,o.AA)(i,e)||0,(0,o.AA)(a,r)||0]}function hn(t,e){return t.length===e.length&&t.every((function(t,r){var n=e[r],i=(0,o.kJ)(t),a=(0,o.kJ)(n);return i&&a?hn(t,n):!i&&!a&&t===n}))}function vn(t,e,r,n,i){var o=t._store,a=o[e];if(!(e in o)){if(null==i)return o[e]=r,r;o[e]=i,a=i}return a===r||n(a)===n(r)?a:(o[e]=r,r)}function mn(t){return t>=0?1:-1}function bn(t){return Math.abs(t)}function xn(t,e){return(0,o.cL)(t).map((function(t){return e(t)}))}function Sn(t){return(0,o.hj)(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}var yn=y("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,e){var r=e.datas,n=e.targets,i=e.angle,o=e.originalDatas,a=t.props,s=a.pinchable,u=a.ables;if(!s)return!1;var l="onPinch".concat(n?"Group":"","Start"),c="drag".concat(n?"Group":"","ControlStart"),f=(!0===s?t.controlAbles:u.filter((function(t){return s.indexOf(t.name)>-1}))).filter((function(t){return t.canPinch&&t[c]})),p=Xr(t,e,{});n&&(p.targets=n);var d=Vr(t,l,p);r.isPinch=!1!==d,r.ables=f;var g=r.isPinch;return!!g&&(f.forEach((function(r){if(o[r.name]=o[r.name]||{},r[c]){var n=b(b({},e),{datas:o[r.name],parentRotate:i,isPinch:!0});r[c](t,n)}})),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},g)},pinch:function(t,e){var r=e.datas,n=e.scale,i=e.distance,o=e.originalDatas,a=e.inputEvent,s=e.targets,u=e.angle;if(r.isPinch){var l=i*(1-1/n),c=Xr(t,e,{});s&&(c.targets=s);var f="onPinch".concat(s?"Group":"");Vr(t,f,c);var p=r.ables,d="drag".concat(s?"Group":"","Control");return p.forEach((function(r){r[d]&&r[d](t,b(b({},e),{datas:o[r.name],inputEvent:a,resolveMatrix:!0,pinchScale:n,parentDistance:l,parentRotate:u,isPinch:!0}))})),c}},pinchEnd:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,o=e.targets,a=e.originalDatas;if(r.isPinch){var s="onPinch".concat(o?"Group":"","End"),u=jr(t,e,{isDrag:n});o&&(u.targets=o),Vr(t,s,u);var l=r.ables,c="drag".concat(o?"Group":"","ControlEnd");return l.forEach((function(r){r[c]&&r[c](t,b(b({},e),{isDrag:n,datas:a[r.name],inputEvent:i,isPinch:!0}))})),n}},pinchGroupStart:function(t,e){return this.pinchStart(t,b(b({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,b(b({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,b(b({},e),{targets:t.props.targets}))}}),En=sn("scalable"),Dn={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:It("scalable"),dragControlCondition:En,viewClassName:an("scalable"),dragControlStart:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,a=kr(e.parentDirection,n,i,r),s=t.state,u=s.width,l=s.height,c=s.targetTransform,f=s.target,p=s.pos1,d=s.pos2,g=s.pos4;if(!a||!f)return!1;n||tt(t,e),r.datas={},r.transform=c,r.prevDist=[1,1],r.direction=a,r.startOffsetWidth=u,r.startOffsetHeight=l,r.startValue=[1,1];var h=!a[0]&&!a[1]||a[0]||!a[1];function v(t){r.ratio=t&&isFinite(t)?t:0}function m(t){var e=Me(r.startPositions,t);r.fixedDirection=e.fixedDirection,r.fixedPosition=e.fixedPosition,r.fixedOffset=e.fixedOffset}ct(t,e,"scale"),r.isWidth=h,r.startPositions=Nr(t.state),r.setFixedDirection=m,v((0,o.zt)(p,d)/(0,o.zt)(d,g)),m([-a[0],-a[1]]);var x=function(t){r.minScaleSize=t},S=function(t){r.maxScaleSize=t};x([-1/0,-1/0]),S([1/0,1/0]);var y=Xr(t,e,b(b({direction:a,set:function(t){r.startValue=t},setRatio:v,setFixedDirection:m,setMinScaleSize:x,setMaxScaleSize:S},lt(t,e)),{dragStart:Re.dragStart(t,(new Z).dragStart([0,0],e))})),E=Vr(t,"onScaleStart",y);return r.startFixedDirection=r.fixedDirection,!1!==E&&(r.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:a}),!!r.isScale&&y},dragControl:function(t,e){et(t,e,"scale");var r=e.datas,n=e.parentKeepRatio,i=e.parentFlag,s=e.isPinch,u=e.dragClient,l=e.isRequest,c=e.useSnap,f=e.resolveMatrix,p=r.prevDist,d=r.direction,g=r.startOffsetWidth,h=r.startOffsetHeight,v=r.isScale,m=r.startValue,x=r.isWidth,S=r.ratio;if(!v)return!1;var y=t.props,E=y.throttleScale,D=y.parentMoveable,C=d;d[0]||d[1]||(C=[1,1]);var R=S&&(null!=n?n:y.keepRatio)||!1,M=t.state,P=[m[0],m[1]];function z(){var t=pn(C,R,r,e),n=t.distWidth,i=t.distHeight,o=g?(g+n)/g:1,a=h?(h+i)/h:1;m[0]||(P[0]=n/g),m[1]||(P[1]=i/h);var s=(C[0]||R?o:1)*P[0],u=(C[1]||R?a:1)*P[1];return 0===s&&(s=mn(p[0])*Y),0===u&&(u=mn(p[1])*Y),[s,u]}var T=z();if(!s&&t.props.groupable){var O=(M.snapRenderInfo||{}).direction;(0,o.kJ)(O)&&(O[0]||O[1])&&(M.snapRenderInfo={direction:d,request:e.isRequest})}Vr(t,"onBeforeScale",Xr(t,e,{scale:T,setFixedDirection:function(t){return r.setFixedDirection(t),T=z()},startFixedDirection:r.startFixedDirection,setScale:function(t){T=t}},!0));var w,G,A=[T[0]/P[0],T[1]/P[1]],B=u,_=[0,0],k=!u&&!i&&s;if(k||f?B=bt(t,r.targetAllTransform,[0,0],[0,0],r):u||(B=r.fixedPosition),s||(_=tr(t,A,d,!c&&l,r)),R){C[0]&&C[1]&&_[0]&&_[1]&&(Math.abs(_[0]*g)>Math.abs(_[1]*h)?_[1]=0:_[0]=0);var I=!_[0]&&!_[1];if(I&&(x?A[0]=(0,o.P2)(A[0]*P[0],E)/P[0]:A[1]=(0,o.P2)(A[1]*P[1],E)/P[1]),C[0]&&!C[1]||_[0]&&!_[1]||I&&x){A[0]+=_[0];var F=g*A[0]*P[0]/S;A[1]=F/h/P[1]}else if(!C[0]&&C[1]||!_[0]&&_[1]||I&&!x){A[1]+=_[1];var N=h*A[1]*P[1]*S;A[0]=N/g/P[0]}}else A[0]+=_[0],A[1]+=_[1],_[0]||(A[0]=(0,o.P2)(A[0]*P[0],E)/P[0]),_[1]||(A[1]=(0,o.P2)(A[1]*P[1],E)/P[1]);0===A[0]&&(A[0]=mn(p[0])*Y),0===A[1]&&(A[1]=mn(p[1])*Y),w=A,G=[P[0],P[1]],T=[w[0]*G[0],w[1]*G[1]];var W=[g,h],q=[g*T[0],h*T[1]];q=(0,o.F1)(q,r.minScaleSize,r.maxScaleSize,!!R&&S),T=xn(2,(function(t){return W[t]?q[t]/W[t]:q[t]})),A=xn(2,(function(t){return T[t]/P[t]}));var H=xn(2,(function(t){return p[t]?A[t]/p[t]:A[t]})),X="scale(".concat(A.join(", "),")"),j="scale(".concat(T.join(", "),")"),L=rt(r,j,X),V=!m[0]||!m[1],U=function(t,e,r,n,i,o,a){return xt(t,e,r,n,i,o,a)}(t,V?j:X,r.fixedDirection,B,r.fixedOffset,r,V),K=k?U:(0,a.h9)(U,r.prevInverseDist||[0,0]);if(r.prevDist=A,r.prevInverseDist=U,T[0]===p[0]&&T[1]===p[1]&&K.every((function(t){return!t}))&&!D&&!k)return!1;var J=Xr(t,e,b({offsetWidth:g,offsetHeight:h,direction:d,scale:T,dist:A,delta:H,isPinch:!!s},mt(t,L,K,s,e)));return Vr(t,"onScale",J),J},dragControlEnd:function(t,e){var r=e.datas;if(!r.isScale)return!1;r.isScale=!1;var n=jr(t,e,{});return Vr(t,"onScaleEnd",n),n},dragGroupControlCondition:En,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,e);if(!n)return!1;var i=Tt(t,"resizable",e);r.moveableScale=t.scale;var o=wt(t,this,"dragControlStart",e,(function(e,n){return Gt(t,e,r,n)})),a=function(e){n.setFixedDirection(e),o.forEach((function(n,o){n.setFixedDirection(e),Gt(t,n.moveable,r,i[o])}))};r.setFixedDirection=a;var s=b(b({},n),{targets:t.props.targets,events:o,setFixedDirection:a}),u=Vr(t,"onScaleGroupStart",s);return r.isScale=!1!==u,!!r.isScale&&s},dragGroupControl:function(t,e){var r=e.datas;if(r.isScale){Lr(t,"onBeforeScale",(function(r){Vr(t,"onBeforeScaleGroup",Xr(t,e,b(b({},r),{targets:t.props.targets}),!0))}));var n=this.dragControl(t,e);if(n){var i=n.dist,o=r.moveableScale;t.scale=[i[0]*o[0],i[1]*o[1]];var s=t.props.keepRatio,u=r.fixedPosition,l=wt(t,this,"dragControl",e,(function(e,r){var n=x((0,a.Kf)((0,a.sQ)(t.rotation/180*Math.PI,3),[r.datas.originalX*i[0],r.datas.originalY*i[1],1],3),2),o=n[0],l=n[1];return b(b({},r),{parentDist:null,parentScale:i,parentKeepRatio:s,dragClient:(0,a.PD)(u,[o,l])})})),c=b({targets:t.props.targets,events:l},n);return Vr(t,"onScaleGroup",c),c}}},dragGroupControlEnd:function(t,e){var r=e.isDrag;if(e.datas.isScale){this.dragControlEnd(t,e);var n=wt(t,this,"dragControlEnd",e);return Vr(t,"onScaleGroupEnd",jr(t,e,{targets:t.props.targets,events:n})),r}},request:function(){var t={},e=0,r=0,n=!1;return{isControl:!0,requestStart:function(e){return n=e.useSnap,{datas:t,parentDirection:e.direction||[1,1],useSnap:n}},request:function(i){return e+=i.deltaWidth,r+=i.deltaHeight,{datas:t,parentDist:[e,r],parentKeepRatio:i.keepRatio,useSnap:n}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:n}}}}};function Cn(t,e){return t.map((function(t,r){return(0,o.AK)(t,e[r],1,2)}))}function Rn(t,e,r){var n=(0,o.jv)(t,e),i=(0,o.jv)(t,r)-n;return i>=0?i:i+2*Math.PI}var Mn={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:an("warpable"),render:function(t,e){var r=t.props,n=r.resizable,i=r.scalable,o=r.warpable,a=r.zoom;if(n||i||!o)return[];var s=t.state,u=s.pos1,l=s.pos2,c=s.pos3,f=s.pos4,p=Cn(u,l),d=Cn(l,u),g=Cn(u,c),h=Cn(c,u),v=Cn(c,f),m=Cn(f,c),b=Cn(l,f),y=Cn(f,l);return S([e.createElement("div",{className:sr("line"),key:"middeLine1",style:zr(p,v,a)}),e.createElement("div",{className:sr("line"),key:"middeLine2",style:zr(d,m,a)}),e.createElement("div",{className:sr("line"),key:"middeLine3",style:zr(g,b,a)}),e.createElement("div",{className:sr("line"),key:"middeLine4",style:zr(h,y,a)})],x(Ft(t,"warpable",e)),!1)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var r=e.inputEvent.target;return(0,o.pv)(r,sr("direction"))&&(0,o.pv)(r,sr("warpable"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,i=t.props.target,o=Ir(n.target,r);if(!o||!i)return!1;var s=t.state,u=s.transformOrigin,l=s.is3d,c=s.targetTransform,f=s.targetMatrix,p=s.width,d=s.height,g=s.left,h=s.top;return r.datas={},r.targetTransform=c,r.warpTargetMatrix=l?f:(0,a.mA)(f,3,4),r.targetInverseMatrix=(0,a.Xj)((0,a.U_)(r.warpTargetMatrix,4),3,4),r.direction=o,r.left=g,r.top=h,r.poses=[[0,0],[p,0],[0,d],[p,d]].map((function(t){return(0,a.h9)(t,u)})),r.nextPoses=r.poses.map((function(t){var e=x(t,2),n=e[0],i=e[1];return(0,a.Kf)(r.warpTargetMatrix,[n,i,0,1],4)})),r.startValue=(0,a.Te)(4),r.prevMatrix=(0,a.Te)(4),r.absolutePoses=Nr(s),r.posIndexes=at(o),tt(t,e),ct(t,e,"matrix3d"),s.snapRenderInfo={request:e.isRequest,direction:o},!1!==Vr(t,"onWarpStart",Xr(t,e,b({set:function(t){r.startValue=t}},lt(t,e))))&&(r.isWarp=!0),r.isWarp},dragControl:function(t,e){var r=e.datas,n=e.isRequest,i=e.distX,o=e.distY,s=r.targetInverseMatrix,u=r.prevMatrix,l=r.isWarp,c=r.startValue,f=r.poses,p=r.posIndexes,d=r.absolutePoses;if(!l)return!1;if(et(t,e,"matrix3d"),Jt(t,"warpable")){var g=p.map((function(t){return d[t]}));g.length>1&&g.push([(g[0][0]+g[1][0])/2,(g[0][1]+g[1][1])/2]);var h=ye(t,n,{horizontal:g.map((function(t){return t[1]+o})),vertical:g.map((function(t){return t[0]+i}))}),v=h.horizontal,m=h.vertical;o-=v.offset,i-=m.offset}var x=ot({datas:r,distX:i,distY:o},!0),S=r.nextPoses.slice();if(p.forEach((function(t){S[t]=(0,a.PD)(S[t],x)})),!W.every((function(t){return e=t.map((function(t){return f[t]})),r=t.map((function(t){return S[t]})),n=Rn(e[0],e[1],e[2]),i=Rn(r[0],r[1],r[2]),o=Math.PI,!(n>=o&&i<=o||n<=o&&i>=o);var e,r,n,i,o})))return!1;var y=(0,a.mX)(f[0],f[2],f[1],f[3],S[0],S[2],S[1],S[3]);if(!y.length)return!1;var E=nt(r,(0,a.ml)(s,y,4),!0),D=(0,a.ml)((0,a.U_)(u,4),E,4);r.prevMatrix=E;var C=(0,a.ml)(c,E,4),R=rt(r,"matrix3d(".concat(C.join(", "),")"),"matrix3d(".concat(E.join(", "),")"));return pt(e,R),Vr(t,"onWarp",Xr(t,e,b({delta:D,matrix:C,dist:E,multiply:a.ml,transform:R},Hr({transform:R},e)))),!0},dragControlEnd:function(t,e){var r=e.datas,n=e.isDrag;return!!r.isWarp&&(r.isWarp=!1,Vr(t,"onWarpEnd",jr(t,e,{})),n)}},Pn=sr("area-pieces"),zn=sr("area-piece"),Tn=sr("avoid"),On=sr("view-dragging");function wn(t){var e=t.areaElement;if(e){var r=t.state,n=r.width,i=r.height;(0,o.IV)(e,Tn),e.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(i,"px")}}function Gn(t){return t.createElement("div",{key:"area_pieces",className:Pn},t.createElement("div",{className:zn}),t.createElement("div",{className:zn}),t.createElement("div",{className:zn}),t.createElement("div",{className:zn}))}var An={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(t,e){var r=t.props,n=r.target,o=r.dragArea,s=r.groupable,u=r.passDragArea,l=t.getState(),c=l.width,f=l.height,p=l.renderPoses,d=u?sr("area","pass"):sr("area");if(s)return[e.createElement("div",{key:"area",ref:(0,i.iH)(t,"areaElement"),className:d}),Gn(e)];if(!n||!o)return[];var g=(0,a.mX)([0,0],[c,0],[0,f],[c,f],p[0],p[1],p[2],p[3]),h=g.length?xr(g,!0):"none";return[e.createElement("div",{key:"area",ref:(0,i.iH)(t,"areaElement"),className:d,style:{top:"0px",left:"0px",width:"".concat(c,"px"),height:"".concat(f,"px"),transformOrigin:"0 0",transform:h}}),Gn(e)]},dragStart:function(t,e){var r=e.datas,n=e.clientX,i=e.clientY;if(!e.inputEvent)return!1;r.isDragArea=!1;var a=t.areaElement,s=t.state,u=s.moveableClientRect,l=s.renderPoses,c=s.rootMatrix,f=s.is3d,p=u.left,d=u.top,g=Cr(l),h=g.left,v=g.top,m=g.width,b=g.height,S=x(tn(c,[n-p,i-d],f?4:3),2),y=S[0],E=S[1],D=[{left:h,top:v,width:m,height:(E-=v)-10},{left:h,top:v,width:(y-=h)-10,height:b},{left:h,top:v+E+10,width:m,height:b-E-10},{left:h+y+10,top:v,width:m-y-10,height:b}],C=[].slice.call(a.nextElementSibling.children);D.forEach((function(t,e){C[e].style.cssText="left: ".concat(t.left,"px;top: ").concat(t.top,"px; width: ").concat(t.width,"px; height: ").concat(t.height,"px;")})),(0,o.cn)(a,Tn),s.disableNativeEvent=!0},drag:function(t,e){var r=e.datas,n=e.inputEvent;if(this.enableNativeEvent(t),!n)return!1;r.isDragArea||(r.isDragArea=!0,wn(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var r=e.inputEvent,n=e.datas;if(!r)return!1;n.isDragArea||wn(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){wn(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&(0,o.U7)((function(){e.disableNativeEvent=!1}))}},Bn=y("origin",{props:["origin","svgOrigin"],render:function(t,e){var r,n=t.props,i=n.zoom,o=n.svgOrigin,s=n.groupable,u=t.getState(),l=u.beforeOrigin,c=u.rotation,f=u.svg,p=u.allMatrix,d=u.is3d,g=u.left,h=u.top,v=u.offsetWidth,m=u.offsetHeight;if(!s&&f&&o){var b=x(gn(o,v,m),2),S=Er(p,[b[0],b[1]],d?4:3);r=Tr(c,i,(0,a.h9)(S,[g,h]))}else r=Tr(c,i,l);return[e.createElement("div",{className:sr("control","origin"),style:r,key:"beforeOrigin"})]}});function _n(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var kn={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(t,e){var r=t.props,n=r.scrollContainer,i=void 0===n?t.getContainer():n,o=r.scrollOptions,a=new l.Z,s=un(i,!0);e.datas.dragScroll=a,t.state.dragScroll=a;var u=e.isControl?"controlGesto":"targetGesto",c=e.targets;a.on("scroll",(function(r){var n=r.container,i=r.direction,o=Xr(t,e,{scrollContainer:n,direction:i}),a=c?"onScrollGroup":"onScroll";c&&(o.targets=c),Vr(t,a,o)})).on("move",(function(e){var r=e.offsetX,n=e.offsetY,i=e.inputEvent;t[u].scrollBy(r,n,i.inputEvent,!0)})).on("scrollDrag",(function(e){(0,e.next)(t[u].getCurrentEvent())})),a.dragStart(e,b({container:s},o))},checkScroll:function(t,e){var r=e.datas.dragScroll;if(r){var n=t.props,i=n.scrollContainer,o=void 0===i?t.getContainer():i,a=n.scrollThreshold,s=void 0===a?0:a,u=n.scrollThrottleTime,l=void 0===u?0:u,c=n.getScrollPosition,f=void 0===c?_n:c,p=n.scrollOptions;return r.drag(e,b({container:o,threshold:s,throttleTime:l,getScrollPosition:function(t){return f({scrollContainer:t.container,direction:t.direction})}},p)),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,b(b({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,b(b({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,b(b({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,b(b({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,b(b({},e),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,e){return this.drag(t,b(b({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,b(b({},e),{targets:t.props.targets}))},unset:function(t){var e,r=t.state;null===(e=r.dragScroll)||void 0===e||e.dragEnd(),r.dragScroll=null}},In={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","requestStyles"],events:["changeTargets"]},Fn=y("padding",{props:["padding"],render:function(t,e){var r=t.props;if(r.dragArea)return[];var n=Sn(r.padding||{}),i=n.left,o=n.top,s=n.right,u=n.bottom,l=t.getState(),c=l.renderPoses,f=[l.pos1,l.pos2,l.pos3,l.pos4],p=[];return i>0&&p.push([0,2]),o>0&&p.push([0,1]),s>0&&p.push([1,3]),u>0&&p.push([2,3]),p.map((function(t,r){var n=x(t,2),i=n[0],o=n[1],s=f[i],u=f[o],l=c[i],p=c[o],d=(0,a.mX)([0,0],[100,0],[0,100],[100,100],s,u,l,p);if(d.length)return e.createElement("div",{key:"padding".concat(r),className:sr("padding"),style:{transform:xr(d,!0)}})}))}}),Nn=["nw","ne","se","sw"];function Wn(t,e){var r=t[0]+t[1],n=r>e?e/r:1;return t[0]*=n,t[1]=e-t[1]*n,t}var qn=[1,2,5,6],Hn=[0,3,4,7],Yn=[1,-1,-1,1],Xn=[1,1,-1,-1];function jn(t,e,r,n,i,o,a,s){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=r),void 0===s&&(s=n);var u=[],l=!1,c=t.filter((function(t){return!t.virtual})),f=c.map((function(t){var c=t.horizontal,f=t.vertical,p=t.pos;if(f&&!l&&(l=!0,u.push("/")),l){var d=Math.max(0,1===f?p[1]-o:s-p[1]);return u.push(nn(d,n,e)),d}d=Math.max(0,1===c?p[0]-i:a-p[0]);return u.push(nn(d,r,e)),d}));return{radiusPoses:c,styles:u,raws:f}}function Ln(t){for(var e=[0,0],r=[0,0],n=t.length,i=0;i<n;++i){var o=t[i];o.sub&&(o.horizontal&&(0===e[1]&&(e[0]=i),e[1]=i-e[0]+1,r[0]=i+1),o.vertical&&(0===r[1]&&(r[0]=i),r[1]=i-r[0]+1))}return{horizontalRange:e,verticalRange:r}}function Vn(t,e,r,n,i,a,s){var u,l,c,f;void 0===a&&(a=[0,0]),void 0===s&&(s=!1);var p=t.indexOf("/"),d=(p>-1?t.slice(0,p):t).length,g=t.slice(0,d),h=t.slice(d+1),v=g.length,m=h.length,b=m>0,y=x(g,4),E=y[0],D=void 0===E?"0px":E,C=y[1],R=void 0===C?D:C,M=y[2],P=void 0===M?D:M,z=y[3],T=void 0===z?R:z,O=x(h,4),w=O[0],G=void 0===w?D:w,A=O[1],B=void 0===A?b?G:R:A,_=O[2],k=void 0===_?b?G:P:_,I=O[3],F=void 0===I?b?B:T:I,N=[D,R,P,T].map((function(t){return(0,o.AA)(t,e)})),W=[G,B,k,F].map((function(t){return(0,o.AA)(t,r)})),q=N.slice(),H=W.slice();u=x(Wn([q[0],q[1]],e),2),q[0]=u[0],q[1]=u[1],l=x(Wn([q[3],q[2]],e),2),q[3]=l[0],q[2]=l[1],c=x(Wn([H[0],H[3]],r),2),H[0]=c[0],H[3]=c[1],f=x(Wn([H[1],H[2]],r),2),H[1]=f[0],H[2]=f[1];var Y=s?q:q.slice(0,Math.max(a[0],v)),X=s?H:H.slice(0,Math.max(a[1],m));return S(S([],x(Y.map((function(t,e){var o=Nn[e];return{virtual:e>=v,horizontal:Yn[e],vertical:0,pos:[n+t,i+(-1===Xn[e]?r:0)],sub:!0,raw:N[e],direction:o}}))),!1),x(X.map((function(t,r){var o=Nn[r];return{virtual:r>=m,horizontal:0,vertical:Xn[r],pos:[n+(-1===Yn[r]?e:0),i+t],sub:!0,raw:W[r],direction:o}}))),!1)}var Un=[[0,-1,"n"],[1,0,"e"]],Kn=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Jn(t,e,r){var n=t.props.clipRelative,i=t.state,o=i.width,s=i.height,u=e,l=u.type,c=u.poses,f="rect"===l,p="circle"===l;if("polygon"===l)return r.map((function(t){return"".concat(nn(t[0],o,n)," ").concat(nn(t[1],s,n))}));if(f||"inset"===l){var d=r[1][1],g=r[3][0],h=r[7][0],v=r[5][1];if(f)return[d,g,v,h].map((function(t){return"".concat(t,"px")}));var m=[d,o-g,s-v,h].map((function(t,e){return nn(t,e%2?o:s,n)}));if(r.length>8){var y=x((0,a.h9)(r[4],r[0]),2),E=y[0],D=y[1];m.push.apply(m,S(["round"],x(jn(c.slice(8).map((function(t,e){return b(b({},t),{pos:r[e]})})),n,E,D,h,d,g,v).styles),!1))}return m}if(p||"ellipse"===l){var C=r[0],R=nn(bn(r[1][1]-C[1]),p?Math.sqrt((o*o+s*s)/2):s,n);return(m=p?[R]:[nn(bn(r[2][0]-C[0]),o,n),R]).push("at",nn(C[0],o,n),nn(C[1],s,n)),m}}function Zn(t,e,r,n){var i=[n,(n+e)/2,e],o=[t,(t+r)/2,r];return Kn.map((function(t){var e=x(t,3),r=e[0],n=e[1],a=e[2],s=i[r+1],u=o[n+1];return{vertical:bn(n),horizontal:bn(r),direction:a,pos:[s,u]}}))}function $n(t){var e=[1/0,-1/0],r=[1/0,-1/0];return t.forEach((function(t){var n=t.pos;e[0]=Math.min(e[0],n[0]),e[1]=Math.max(e[1],n[0]),r[0]=Math.min(r[0],n[1]),r[1]=Math.max(r[1],n[1])})),[bn(e[1]-e[0]),bn(r[1]-r[0])]}function Qn(t,e,r,n,i){var a,s,u,l,f,p,d,g,h;if(t){var v=i;if(!v){var m=zt(t),b=m("clipPath");v="none"!==b?b:m("clip")}if(v&&"none"!==v&&"auto"!==v||(v=n)){var y=(0,o.Le)(v),E=y.prefix,D=void 0===E?v:E,C=y.value,R=void 0===C?"":C,M="circle"===D,P=" ";if("polygon"===D){P=",";var z=(B=(0,o.W6)(R||"0% 0%, 100% 0%, 100% 100%, 0% 100%")).map((function(t){var n=x(t.split(" "),2),i=n[0],a=n[1];return{vertical:1,horizontal:1,pos:[(0,o.AA)(i,e),(0,o.AA)(a,r)]}})),T=(0,c.i$)(z.map((function(t){return t.pos})));return{type:D,clipText:v,poses:z,splitter:P,left:T.minX,right:T.maxX,top:T.minY,bottom:T.maxY}}if(M||"ellipse"===D){var O="",w="",G=0,A=0,B=(0,o.WE)(R);if(M){var _;_=void 0===(s=(a=x(B,4))[0])?"50%":s,O=void 0===(u=a[2])?"50%":u,w=void 0===(l=a[3])?"50%":l,G=(0,o.AA)(_,Math.sqrt((e*e+r*r)/2)),A=G}else{var k,I;k=void 0===(p=(f=x(B,5))[0])?"50%":p,I=void 0===(d=f[1])?"50%":d,O=void 0===(g=f[3])?"50%":g,w=void 0===(h=f[4])?"50%":h,G=(0,o.AA)(k,e),A=(0,o.AA)(I,r)}var F=[(0,o.AA)(O,e),(0,o.AA)(w,r)];z=S([{vertical:1,horizontal:1,pos:F,direction:"nesw"}],x(Un.slice(0,M?1:2).map((function(t){return{vertical:bn(t[1]),horizontal:t[0],direction:t[2],sub:!0,pos:[F[0]+t[0]*G,F[1]+t[1]*A]}}))),!1);return{type:D,clipText:v,radiusX:G,radiusY:A,left:F[0]-G,top:F[1]-A,right:F[0]+G,bottom:F[1]+A,poses:z,splitter:P}}if("inset"===D){var N=(B=(0,o.WE)(R||"0 0 0 0")).indexOf("round"),W=(N>-1?B.slice(0,N):B).length,q=B.slice(W+1),H=x(B.slice(0,W),4),Y=H[0],X=H[1],j=void 0===X?Y:X,L=H[2],V=void 0===L?Y:L,U=H[3],K=void 0===U?j:U,J=x([Y,V].map((function(t){return(0,o.AA)(t,r)})),2),Z=J[0],$=J[1],Q=x([K,j].map((function(t){return(0,o.AA)(t,e)})),2),tt=Q[0],et=Q[1],rt=e-et,nt=r-$,it=Vn(q,rt-tt,nt-Z,tt,Z);return{type:"inset",clipText:v,poses:z=S(S([],x(Zn(Z,rt,nt,tt)),!1),x(it),!1),top:Z,left:tt,right:rt,bottom:nt,radius:q,splitter:P}}if("rect"===D){P=",";var ot=x((B=(0,o.W6)(R||"0px, ".concat(e,"px, ").concat(r,"px, 0px"))).map((function(t){return(0,o.jL)(t).value})),4),at=ot[0];return{type:"rect",clipText:v,poses:z=Zn(at,et=ot[1],$=ot[2],tt=ot[3]),top:at,right:et,bottom:$,left:tt,values:B,splitter:P}}}}}function ti(t,e){var r=x(Q(t,e),2),n=r[0],i=r[1],o=e.datas,a=o.clipPath,s=o.clipIndex,u=a,l=u.type,c=u.poses,f=u.splitter,p=c.map((function(t){return t.pos}));if("polygon"===l)p.splice(s,0,[n,i]);else{if("inset"!==l)return;var d=qn.indexOf(s),g=Hn.indexOf(s),h=c.length;if(function(t,e,r,n,i,o,a,s,u,l,c){void 0===l&&(l=0),void 0===c&&(c=0);var f=Ln(t.slice(r)),p=f.horizontalRange,d=f.verticalRange;if(n>-1)for(var g=1===Yn[n]?o-l:s-o,h=p[1];h<=n;++h){var v=1===Xn[h]?c:u,m=0;if(n===h?m=o:0===h?m=l+g:-1===Yn[h]&&(m=s-(e[r][0]-l)),t.splice(r+h,0,{horizontal:Yn[h],vertical:0,pos:[m,v]}),e.splice(r+h,0,[m,v]),0===h)break}else if(i>-1){var b=1===Xn[i]?a-c:u-a;if(0===p[1]&&0===d[1]){var x=[l+b,c];t.push({horizontal:Yn[0],vertical:0,pos:x}),e.push(x)}var S=d[0];for(h=d[1];h<=i&&(m=1===Yn[h]?l:s,v=0,i===h?v=a:0===h?v=c+b:1===Xn[h]?v=e[r+S][1]:-1===Xn[h]&&(v=u-(e[r+S][1]-c)),t.push({horizontal:0,vertical:Xn[h],pos:[m,v]}),e.push([m,v]),0!==h);++h);}}(c,p,8,d,g,n,i,p[4][0],p[4][1],p[0][0],p[0][1]),h===c.length)return}var v=Jn(t,a,p),m="".concat(l,"(").concat(v.join(f),")");Vr(t,"onClip",Xr(t,e,b({clipEventType:"added",clipType:l,poses:p,clipStyles:v,clipStyle:m,distX:0,distY:0},Hr({clipPath:m},e))))}function ei(t,e){var r=e.datas,n=r.clipPath,i=r.clipIndex,o=n,a=o.type,s=o.poses,u=o.splitter,l=s.map((function(t){return t.pos})),c=l.length;if("polygon"===a)s.splice(i,1),l.splice(i,1);else{if("inset"!==a)return;if(i<8)return;if(function(t,e,r,n,i){void 0===i&&(i=e.length);var o=Ln(t.slice(n)),a=o.horizontalRange,s=o.verticalRange,u=r-n,l=0;if(0===u)l=i;else if(u>0&&u<a[1])l=a[1]-u;else{if(!(u>=s[0]))return;l=s[0]+s[1]-u}t.splice(r,l),e.splice(r,l)}(s,l,i,8,c),c===s.length)return}var f=Jn(t,n,l),p="".concat(a,"(").concat(f.join(u),")");Vr(t,"onClip",Xr(t,e,b({clipEventType:"removed",clipType:a,poses:l,clipStyles:f,clipStyle:p,distX:0,distY:0},Hr({clipPath:p},e))))}var ri={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[".control.clip-control {\nbackground: #6d6;\ncursor: pointer;\n}\n.control.clip-control.clip-radius {\nbackground: #d66;\n}\n.line.clip-line {\nbackground: #6e6;\ncursor: move;\nz-index: 1;\n}\n.clip-area {\nposition: absolute;\ntop: 0;\nleft: 0;\n}\n.clip-ellipse {\nposition: absolute;\ncursor: move;\nborder: 1px solid #6d6;\nborder: var(--zoompx) solid #6d6;\nborder-radius: 50%;\ntransform-origin: 0px 0px;\n}",":host {\n--bounds-color: #d66;\n}",".guideline {\npointer-events: none;\nz-index: 2;\n}",".line.guideline.bounds {\nbackground: #d66;\nbackground: var(--bounds-color);\n}"],render:function(t,e){var r=t.props,n=r.customClipPath,i=r.defaultClipPath,s=r.clipArea,u=r.zoom,l=r.groupable,c=t.getState(),f=c.target,p=c.width,d=c.height,g=c.allMatrix,h=c.is3d,v=c.left,m=c.top,b=c.pos1,y=c.pos2,E=c.pos3,D=c.pos4,C=c.clipPathState,R=c.snapBoundInfos,M=c.rotation;if(!f||l)return[];var P=Qn(f,p,d,i||"inset",C||n);if(!P)return[];var z=h?4:3,T=P.type,O=P.poses.map((function(t){var e=Er(g,t.pos,z);return[e[0]-v,e[1]-m]})),w=[],G=[],A="rect"===T,B="inset"===T,_="polygon"===T;if(A||B||_){var k=B?O.slice(0,8):O;G=k.map((function(t,r){var n=0===r?k[k.length-1]:k[r-1],i=(0,o.jv)(n,t),a=Pr(n,t);return e.createElement("div",{key:"clipLine".concat(r),className:sr("line","clip-line","snap-control"),"data-clip-index":r,style:{width:"".concat(a,"px"),transform:"translate(".concat(n[0],"px, ").concat(n[1],"px) rotate(").concat(i,"rad) scaleY(").concat(u,")")}})}))}if(w=O.map((function(t,r){return e.createElement("div",{key:"clipControl".concat(r),className:sr("control","clip-control","snap-control"),"data-clip-index":r,style:{transform:"translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(M,"rad) scale(").concat(u,")")}})})),B&&w.push.apply(w,S([],x(O.slice(8).map((function(t,r){return e.createElement("div",{key:"clipRadiusControl".concat(r),className:sr("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+r,style:{transform:"translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(M,"rad) scale(").concat(u,")")}})}))),!1)),"circle"===T||"ellipse"===T){var I=P.left,F=P.top,N=P.radiusX,W=P.radiusY,q=x((0,a.h9)(Er(g,[I,F],z),Er(g,[0,0],z)),2),H=q[0],Y=q[1],X="none";if(!s){for(var j=Math.max(10,N/5,W/5),L=[],V=0;V<=j;++V){var U=2*Math.PI/j*V;L.push([N+(N-u)*Math.cos(U),W+(W-u)*Math.sin(U)])}L.push([N,-2]),L.push([-2,-2]),L.push([-2,2*W+2]),L.push([2*N+2,2*W+2]),L.push([2*N+2,-2]),L.push([N,-2]),X="polygon(".concat(L.map((function(t){return"".concat(t[0],"px ").concat(t[1],"px")})).join(", "),")")}w.push(e.createElement("div",{key:"clipEllipse",className:sr("clip-ellipse","snap-control"),style:{width:"".concat(2*N,"px"),height:"".concat(2*W,"px"),clipPath:X,transform:"translate(".concat(-v+H,"px, ").concat(-m+Y,"px) ").concat(xr(g))}}))}if(s){var K=Cr(S([b,y,E,D],x(O),!1)),J=K.width,Z=K.height,$=K.left,Q=K.top;if(_||A||B){L=B?O.slice(0,8):O;w.push(e.createElement("div",{key:"clipArea",className:sr("clip-area","snap-control"),style:{width:"".concat(J,"px"),height:"".concat(Z,"px"),transform:"translate(".concat($,"px, ").concat(Q,"px)"),clipPath:"polygon(".concat(L.map((function(t){return"".concat(t[0]-$,"px ").concat(t[1]-Q,"px")})).join(", "),")")}}))}}return R&&["vertical","horizontal"].forEach((function(t){var r=R[t],n="horizontal"===t;r.isSnap&&G.push.apply(G,S([],x(r.snap.posInfos.map((function(r,i){var o=r.pos,s=(0,a.h9)(Er(g,n?[0,o]:[o,0],z),[v,m]),l=(0,a.h9)(Er(g,n?[p,o]:[o,d],z),[v,m]);return _t(e,"",s,l,u,"clip".concat(t,"snap").concat(i),"guideline")}))),!1)),r.isBound&&G.push.apply(G,S([],x(r.bounds.map((function(r,i){var o=r.pos,s=(0,a.h9)(Er(g,n?[0,o]:[o,0],z),[v,m]),l=(0,a.h9)(Er(g,n?[p,o]:[o,d],z),[v,m]);return _t(e,"",s,l,u,"clip".concat(t,"bounds").concat(i),"guideline","bounds","bold")}))),!1))})),S(S([],x(w),!1),x(G),!1)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var r=t.props.dragWithClip;return!(void 0===r||r)&&this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,b(b({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var r=t.state,n=t.props,i=n.defaultClipPath,o=n.customClipPath,a=r.target,s=r.width,u=r.height,l=e.inputEvent?e.inputEvent.target:null,c=l&&l.getAttribute("class")||"",f=e.datas,p=Qn(a,s,u,i||"inset",o);if(!p)return!1;var d=p.clipText;return!1===Vr(t,"onClipStart",Xr(t,e,{clipType:p.type,clipStyle:d,poses:p.poses.map((function(t){return t.pos}))}))?(f.isClipStart=!1,!1):(f.isControl=c&&c.indexOf("clip-control")>-1,f.isLine=c.indexOf("clip-line")>-1,f.isArea=c.indexOf("clip-area")>-1||c.indexOf("clip-ellipse")>-1,f.clipIndex=l?parseInt(l.getAttribute("data-clip-index"),10):-1,f.clipPath=p,f.isClipStart=!0,r.clipPathState=d,tt(t,e),!0)},dragControl:function(t,e){var r,n,i,s=e.datas,u=e.originalDatas,l=e.isDragTarget;if(!s.isClipStart)return!1;var c=s,f=c.isControl,p=c.isLine,d=c.isArea,g=c.clipIndex,h=c.clipPath;if(!h)return!1;var v=Or(t.props,"clippable"),m=v.keepRatio,y=0,E=0,D=u.draggable,C=ot(e);l&&D?(r=x(D.prevBeforeDist,2),y=r[0],E=r[1]):(n=x(C,2),y=n[0],E=n[1]);var R=[y,E],M=t.state,P=M.width,z=M.height,T=!d&&!f&&!p,O=h.type,w=h.poses,G=h.splitter,A=w.map((function(t){return t.pos}));T&&(y=-y,E=-E);var B=!f||"nesw"===w[g].direction,_="inset"===O||"rect"===O,k=w.map((function(){return[0,0]}));if(f&&!B){var I=w[g],F=I.horizontal,N=I.vertical,W=[y*bn(F),E*bn(N)];k=function(t,e,r,n,i){var o=t[e],a=o.direction,s=o.sub,u=t.map((function(){return[0,0]})),l=a?a.split(""):[];if(n&&e<8){var c=l.filter((function(t){return"w"===t||"e"===t})),f=l.filter((function(t){return"n"===t||"s"===t})),p=c[0],d=f[0];u[e]=r;var g=x($n(t),2),h=g[0],v=g[1],m=h&&v?h/v:0;if(m&&i){var b=t[(e+4)%8].pos,S=[0,0];a.indexOf("w")>-1?S[0]=-1:a.indexOf("e")>-1&&(S[0]=1),a.indexOf("n")>-1?S[1]=-1:a.indexOf("s")>-1&&(S[1]=1);var y=fn([h,v],r,m,S,!0),E=h+y[0],D=v+y[1],C=b[1],R=b[1],M=b[0],P=b[0];-1===S[0]?M=P-E:1===S[0]?P=M+E:(M-=E/2,P+=E/2),-1===S[1]?C=R-D:R=1===S[1]?C+D:(C=R-D/2)+D;var z=Zn(C,P,R,M);t.forEach((function(t,e){u[e][0]=z[e].pos[0]-t.pos[0],u[e][1]=z[e].pos[1]-t.pos[1]}))}else t.forEach((function(t,e){var n=t.direction;n&&(n.indexOf(p)>-1&&(u[e][0]=r[0]),n.indexOf(d)>-1&&(u[e][1]=r[1]))})),p&&(u[1][0]=r[0]/2,u[5][0]=r[0]/2),d&&(u[3][1]=r[1]/2,u[7][1]=r[1]/2)}else a&&!s?l.forEach((function(e){var n="n"===e||"s"===e;t.forEach((function(t,i){var o=t.direction,a=t.horizontal,s=t.vertical;o&&-1!==o.indexOf(e)&&(u[i]=[n||!a?0:r[0],n&&s?r[1]:0])}))})):u[e]=r;return u}(w,g,W,_,m)}else B&&(k=A.map((function(){return[y,E]})));var q=A.map((function(t,e){return(0,a.PD)(t,k[e])})),H=S([],x(q),!1);M.snapBoundInfos=null;var Y="circle"===h.type,X="ellipse"===h.type;if(Y||X){var j=bn((ut=Cr(q)).bottom-ut.top),L=bn(X?ut.right-ut.left:j),V=q[0][1]+j,U=q[0][0]-L,K=q[0][0]+L;Y&&(H.push([K,ut.bottom]),k.push([1,0])),H.push([ut.left,V]),k.push([0,1]),H.push([U,ut.bottom]),k.push([1,0])}var J=je((v.clipHorizontalGuidelines||[]).map((function(t){return(0,o.AA)("".concat(t),z)})),(v.clipVerticalGuidelines||[]).map((function(t){return(0,o.AA)("".concat(t),P)})),P,z),Z=[],$=[];if(Y||X)Z=[H[4][0],H[2][0]],$=[H[1][1],H[3][1]];else if(_){var Q=[H[0],H[2],H[4],H[6]],tt=[k[0],k[2],k[4],k[6]];Z=Q.filter((function(t,e){return tt[e][0]})).map((function(t){return t[0]})),$=Q.filter((function(t,e){return tt[e][1]})).map((function(t){return t[1]}))}else Z=H.filter((function(t,e){return k[e][0]})).map((function(t){return t[0]})),$=H.filter((function(t,e){return k[e][1]})).map((function(t){return t[1]}));var et=[0,0],rt=Ee(J,v.clipTargetBounds&&{left:0,top:0,right:P,bottom:z},Z,$,5),nt=rt.horizontal,it=rt.vertical,at=nt.offset,st=it.offset;if(nt.isBound&&(et[1]+=at),it.isBound&&(et[0]+=st),(X||Y)&&0===k[0][0]&&0===k[0][1]){var ut,lt=(ut=Cr(q)).bottom-ut.top,ct=X?ut.right-ut.left:lt;ct-=it.isBound?bn(st):0===it.snapIndex?-st:st,lt-=nt.isBound?bn(at):0===nt.snapIndex?-at:at,Y&&(ct=lt=ae(it,nt)>0?lt:ct);var ft=H[0];H[1][1]=ft[1]-lt,H[2][0]=ft[0]+ct,H[3][1]=ft[1]+lt,H[4][0]=ft[0]-ct}else if(_&&m&&f){var pt=x($n(w),2),dt=pt[0],gt=pt[1],ht=dt&&gt?dt/gt:0,vt=w[g].direction||"",mt=H[1][1];V=H[5][1],U=H[7][0],K=H[3][0];bn(at)<=bn(st)?at=mn(at)*bn(st)/ht:st=mn(st)*bn(at)*ht,vt.indexOf("w")>-1?U-=st:vt.indexOf("e")>-1?K-=st:(U+=st/2,K-=st/2),vt.indexOf("n")>-1?mt-=at:vt.indexOf("s")>-1?V-=at:(mt+=at/2,V-=at/2);var bt=Zn(mt,K,V,U);H.forEach((function(t,e){var r;r=x(bt[e].pos,2),t[0]=r[0],t[1]=r[1]}))}else H.forEach((function(t,e){var r=k[e];r[0]&&(t[0]-=st),r[1]&&(t[1]-=at)}));var xt=Jn(t,h,q),St="".concat(O,"(").concat(xt.join(G),")");if(M.clipPathState=St,Y||X)Z=[H[4][0],H[2][0]],$=[H[1][1],H[3][1]];else if(_){Z=(Q=[H[0],H[2],H[4],H[6]]).map((function(t){return t[0]})),$=Q.map((function(t){return t[1]}))}else Z=H.map((function(t){return t[0]})),$=H.map((function(t){return t[1]}));if(M.snapBoundInfos=Ee(J,v.clipTargetBounds&&{left:0,top:0,right:P,bottom:z},Z,$,1),D){var yt=M.is3d,Et=M.allMatrix,Dt=yt?4:3,Ct=et;l&&(Ct=[R[0]+et[0]-C[0],R[1]+et[1]-C[1]]),D.deltaOffset=(0,a.ml)(Et,[Ct[0],Ct[1],0,0],Dt)}return Vr(t,"onClip",Xr(t,e,b({clipEventType:"changed",clipType:O,poses:q,clipStyle:St,clipStyles:xt,distX:y,distY:E},Hr(((i={})["rect"===O?"clip":"clipPath"]=St,i),e)))),!0},dragControlEnd:function(t,e){this.unset(t);var r=e.isDrag,n=e.datas,i=e.isDouble,o=n.isLine,a=n.isClipStart,s=n.isControl;return!!a&&(Vr(t,"onClipEnd",jr(t,e,{})),i&&(s?ei(t,e):o&&ti(t,e)),i||r)},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},ni={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[":host[data-able-origindraggable] .control.origin {\npointer-events: auto;\n}"],dragControlCondition:function(t,e){return e.isRequest?"originDraggable"===e.requestAble:(0,o.pv)(e.inputEvent.target,sr("origin"))},dragControlStart:function(t,e){var r=e.datas;tt(t,e);var n=Xr(t,e,{dragStart:Re.dragStart(t,(new Z).dragStart([0,0],e))}),i=Vr(t,"onDragOriginStart",n);return r.startOrigin=t.state.transformOrigin,r.startTargetOrigin=t.state.targetOrigin,r.prevOrigin=[0,0],r.isDragOrigin=!0,!1===i?(r.isDragOrigin=!1,!1):n},dragControl:function(t,e){var r=e.datas,n=e.isPinch,i=e.isRequest;if(!r.isDragOrigin)return!1;var o=x(ot(e),2),s=o[0],u=o[1],l=t.state,c=l.width,f=l.height,p=l.offsetMatrix,d=l.targetMatrix,g=l.is3d,h=t.props.originRelative,v=void 0===h||h,m=g?4:3,S=[s,u];if(i){var y=e.distOrigin;(y[0]||y[1])&&(S=y)}var E=(0,a.PD)(r.startOrigin,S),D=(0,a.PD)(r.startTargetOrigin,S),C=(0,a.h9)(S,r.prevOrigin),R=ut(p,d,E,m),M=t.getRect(),P=Cr(Dr(R,c,f,m)),z=[M.left-P.left,M.top-P.top];r.prevOrigin=S;var T=[nn(D[0],c,v),nn(D[1],f,v)].join(" "),O=Re.drag(t,J(e,t.state,z,!!n,!1)),w=Xr(t,e,b(b({width:c,height:f,origin:E,dist:S,delta:C,transformOrigin:T,drag:O},Hr({transformOrigin:T,transform:O.transform},e)),{afterTransform:O.transform}));return Vr(t,"onDragOrigin",w),w},dragControlEnd:function(t,e){return!!e.datas.isDragOrigin&&(Vr(t,"onDragOriginEnd",jr(t,e,{})),!0)},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){return!!this.dragControlStart(t,e)},dragGroupControl:function(t,e){var r=this.dragControl(t,e);return!!r&&(t.transformOrigin=r.transformOrigin,!0)},request:function(t){var e={},r=t.getRect(),n=0,i=0,o=r.transformOrigin,a=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaOrigin"in t?(a[0]+=t.deltaOrigin[0],a[1]+=t.deltaOrigin[1]):"origin"in t?(a[0]=t.origin[0]-o[0],a[1]=t.origin[1]-o[1]):("x"in t?n=t.x-r.left:"deltaX"in t&&(n+=t.deltaX),"y"in t?i=t.y-r.top:"deltaY"in t&&(i+=t.deltaY)),{datas:e,distX:n,distY:i,distOrigin:a}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function ii(t,e,r,n,i){void 0===n&&(n=[0,0]);return Vn(t&&"0px"!==t?(0,o.WE)(t):[],e,r,0,0,n,i)}function oi(t,e,r,n,i){var o=t.state,a=o.width,s=o.height,u=jn(i,t.props.roundRelative,a,s),l=u.raws,c=u.styles,f=function(t,e){return void 0===e&&(e=t.map((function(t){return t.raw}))),{horizontals:t.map((function(t,r){return t.horizontal?e[r]:null})).filter((function(t){return null!=t})),verticals:t.map((function(t,r){return t.vertical?e[r]:null})).filter((function(t){return null!=t}))}}(u.radiusPoses,l),p=f.horizontals,d=f.verticals,g=c.join(" ");o.borderRadiusState=g;var h=Xr(t,e,b({horizontals:p,verticals:d,borderRadius:g,width:a,height:s,delta:n,dist:r},Hr({borderRadius:g},e)));return Vr(t,"onRound",h),h}function ai(t){var e,r,n=t.getState().style,i=n.borderRadius||"";if(!i&&t.props.groupable){var o=t.moveables[0],a=t.getTargets()[0];a&&((null==o?void 0:o.props.target)===a?(i=null!==(r=null===(e=t.moveables[0])||void 0===e?void 0:e.state.style.borderRadius)&&void 0!==r?r:"",n.borderRadius=i):(i=Ur(a).borderRadius,n.borderRadius=i))}return i}var si={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[".control.border-radius {\nbackground: #d66;\ncursor: pointer;\nz-index: 3;\n}",".control.border-radius.vertical {\nbackground: #d6d;\nz-index: 2;\n}",".control.border-radius.virtual {\nopacity: 0.5;\nz-index: 1;\n}",":host.round-line-clickable .line.direction {\ncursor: pointer;\n}"],className:function(t){var e=t.props.roundClickable;return!0===e||"line"===e?sr("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(t,e){var r=t.getState(),n=r.target,i=r.width,o=r.height,s=r.allMatrix,u=r.is3d,l=r.left,c=r.top,f=r.borderRadiusState,p=t.props,d=p.minRoundControls,g=void 0===d?[0,0]:d,h=p.maxRoundControls,v=void 0===h?[4,4]:h,m=p.zoom,b=p.roundPadding,y=void 0===b?0:b,E=p.isDisplayShadowRoundControls,D=p.groupable;if(!n)return null;var C=f||ai(t),R=u?4:3,M=ii(C,i,o,g,!0);if(!M)return null;var P=0,z=0,T=D?[0,0]:[l,c];return M.map((function(t,r){var n=t.horizontal,i=t.vertical,o=t.direction||"",u=S([],x(t.pos),!1);z+=Math.abs(n),P+=Math.abs(i),n&&o.indexOf("n")>-1&&(u[1]-=y),i&&o.indexOf("w")>-1&&(u[0]-=y),n&&o.indexOf("s")>-1&&(u[1]+=y),i&&o.indexOf("e")>-1&&(u[0]+=y);var l=(0,a.h9)(Er(s,u,R),T),c=t.vertical?P<=v[1]&&(E||!t.virtual):z<=v[0]&&(E||!t.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(r),className:sr("control","border-radius",t.vertical?"vertical":"",t.virtual?"virtual":""),"data-radius-index":r,style:{display:c?"block":"none",transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) scale(").concat(m,")")}})}))},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var r=e.inputEvent.target.getAttribute("class")||"";return r.indexOf("border-radius")>-1||r.indexOf("moveable-line")>-1&&r.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragControlStart:function(t,e){var r=e.inputEvent,n=e.datas,i=r.target,o=i.getAttribute("class")||"",a=o.indexOf("border-radius")>-1,s=o.indexOf("moveable-line")>-1&&o.indexOf("moveable-direction")>-1,u=a?parseInt(i.getAttribute("data-radius-index"),10):-1,l=-1;if(s){var c=i.getAttribute("data-line-key")||"";c&&(l=parseInt(c.replace(/render-line-/g,""),10),isNaN(l)&&(l=-1))}if(!a&&!s)return!1;var f=Xr(t,e,{});if(!1===Vr(t,"onRoundStart",f))return!1;n.lineIndex=l,n.controlIndex=u,n.isControl=a,n.isLine=s,tt(t,e);var p=t.props,d=p.roundRelative,g=p.minRoundControls,h=void 0===g?[0,0]:g,v=t.state,m=v.width,b=v.height;n.isRound=!0,n.prevDist=[0,0];var x=ii(ai(t)||"",m,b,h,!0)||[];return n.controlPoses=x,v.borderRadiusState=jn(x,d,m,b).styles.join(" "),f},dragControl:function(t,e){var r=e.datas,n=r.controlPoses;if(!r.isRound||!r.isControl||!n.length)return!1;var i=r.controlIndex,o=x(ot(e),2),s=o[0],u=o[1],l=[s,u],c=(0,a.h9)(l,r.prevDist),f=t.props.maxRoundControls,p=void 0===f?[4,4]:f,d=t.state,g=d.width,h=d.height,v=n[i],m=v.vertical,S=v.horizontal,y=n.map((function(t){var e=t.horizontal,r=t.vertical,n=[e*S*l[0],r*m*l[1]];if(e){if(1===p[0])return n;if(p[0]<4&&e!==S)return n}else{if(0===p[1])return n[1]=r*S*l[0]/g*h,n;if(m){if(1===p[1])return n;if(p[1]<4&&r!==m)return n}}return[0,0]}));y[i]=l;var E=n.map((function(t,e){return b(b({},t),{pos:(0,a.PD)(t.pos,y[e])})}));return i<4?E.slice(0,i+1).forEach((function(t){t.virtual=!1})):E.slice(4,i+1).forEach((function(t){t.virtual=!1})),r.prevDist=[s,u],oi(t,e,l,c,E)},dragControlEnd:function(t,e){var r=t.state;r.borderRadiusState="";var n=e.datas,i=e.isDouble;if(!n.isRound)return!1;var o=n.isControl,a=n.controlIndex,s=n.isLine,u=n.lineIndex,l=n.controlPoses,c=l.filter((function(t){return t.virtual})).length,f=t.props.roundClickable,p=void 0===f||f;if(i&&p){if(!o||!0!==p&&"control"!==p){if(s&&(!0===p||"line"===p)){var d=x(Q(t,e),2);!function(t,e,r,n){var i=t.filter((function(t){var e=t.virtual;return t.horizontal&&!e})).length,o=t.filter((function(t){var e=t.virtual;return t.vertical&&!e})).length,a=-1;if(0===e&&(0===i?a=0:1===i&&(a=1)),2===e&&(i<=2?a=2:i<=3&&(a=3)),3===e&&(0===o?a=4:o<4&&(a=7)),1===e&&(o<=1?a=5:o<=2&&(a=6)),-1!==a&&t[a].virtual){var s=t[a];!function(t,e){e<4?t.slice(0,e+1).forEach((function(t){t.virtual=!1})):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach((function(t){t.virtual=!1})))}(t,a),a<4?s.pos[0]=r:s.pos[1]=n}}(l,u,d[0],d[1])}}else!function(t,e){e<4?t.slice(e,4).forEach((function(t){t.virtual=!0})):t.slice(e).forEach((function(t){t.virtual=!0}))}(l,a);c!==l.filter((function(t){return t.virtual})).length&&oi(t,e,[0,0],[0,0],l)}var g=jr(t,e,{});return Vr(t,"onRoundEnd",g),r.borderRadiusState="",g},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);if(!r)return!1;var n=t.moveables,i=t.props.targets,o=Tt(t,"roundable",e);return Vr(t,"onRoundGroupStart",b({targets:t.props.targets,events:o.map((function(t,e){return b(b({},t),{target:i[e],moveable:n[e],currentTarget:n[e]})}))},r)),r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);if(!r)return!1;var n=t.moveables,i=t.props.targets,o=Tt(t,"roundable",e),a=b({targets:t.props.targets,events:o.map((function(t,e){return b(b(b({},t),{target:i[e],moveable:n[e],currentTarget:n[e]}),Hr({borderRadius:r.borderRadius},t))}))},r);return Vr(t,"onRoundGroup",a),a},dragGroupControlEnd:function(t,e){var r=t.moveables,n=t.props.targets,i=Tt(t,"roundable",e);Lr(t,"onRound",(function(e){var o=b({targets:t.props.targets,events:i.map((function(t,i){return b(b(b({},t),{target:n[i],moveable:r[i],currentTarget:r[i]}),Hr({borderRadius:e.borderRadius},t))}))},e);Vr(t,"onRoundGroup",o)}));var o=this.dragControlEnd(t,e);if(!o)return!1;var a=b({targets:t.props.targets,events:i.map((function(t,e){var i;return b(b({},t),{target:n[e],moveable:r[e],currentTarget:r[e],lastEvent:null===(i=t.datas)||void 0===i?void 0:i.lastEvent})}))},o);return Vr(t,"onRoundGroupEnd",a),a},unset:function(t){t.state.borderRadiusState=""}};var ui={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(t,e){var r=t.state,n=r.is3d,i=r.targetMatrix,s=r.inlineTransform,u=n?"matrix3d(".concat(i.join(","),")"):"matrix(".concat((0,a.pQ)(i,!0),")"),l=s&&"none"!==s?s:u;e.datas.startTransforms=function(t,e){var r=e?4:3,n=(0,a.Te)(r);return t==="matrix".concat(e?"3d":"","(").concat(n.join(","),")")||"matrix(1,0,0,1,0,0)"===t}(l,n)?[]:(0,o.WE)(l)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return Xr(t,e,{setTransform:function(t){e.datas.startTransforms=(0,o.kJ)(t)?t:(0,o.WE)(t)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return Xr(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),Vr(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){e.datas.startTransforms||this.setTransform(t,e),this.resetStyle(e),Vr(t,"onBeforeRender",Xr(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){e.datas.startTransforms||(this.setTransform(t,e),this.resetStyle(e)),Vr(t,"onBeforeRenderEnd",Xr(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var r=this;this.dragStart(t,e);var n=Tt(t,"beforeRenderable",e),i=t.moveables,o=n.map((function(t,e){var n=i[e];return r.setTransform(n,t),r.resetStyle(t),r.fillDragStartParams(n,t)}));Vr(t,"onBeforeRenderGroupStart",Xr(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:o}))},dragGroup:function(t,e){var r=this;this.drag(t,e);var n=Tt(t,"beforeRenderable",e),i=t.moveables,o=n.map((function(t,e){var n=i[e];return r.resetStyle(t),r.fillDragParams(n,t)}));Vr(t,"onBeforeRenderGroup",Xr(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:o}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),Vr(t,"onBeforeRenderGroupEnd",Xr(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},li={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(t,e){Vr(t,"onRenderStart",Xr(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){Vr(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){return this.drag(t,e)},dragEnd:function(t,e){Vr(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){Vr(t,"onRenderGroupStart",Xr(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var r=this,n=Tt(t,"beforeRenderable",e),i=t.moveables,o=n.map((function(t,e){var n=i[e];return r.fillDragParams(n,t)}));Vr(t,"onRenderGroup",Xr(t,e,b(b({isPinch:!!e.isPinch,targets:t.props.targets,transform:ht(e),transformObject:{}},Hr(vt(e))),{events:o})))},dragGroupEnd:function(t,e){var r=this,n=Tt(t,"beforeRenderable",e),i=t.moveables,o=n.map((function(t,e){var n=i[e];return r.fillDragEndParams(n,t)}));Vr(t,"onRenderGroupEnd",Xr(t,e,b({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:o,transformObject:{},transform:ht(e)},Hr(vt(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){var r={};return(0,s.Qc)(gt(e)||[]).forEach((function(t){r[t.name]=t.functionValue})),Xr(t,e,b({isPinch:!!e.isPinch,transformObject:r,transform:ht(e)},Hr(vt(e))))},fillDragEndParams:function(t,e){var r={};return(0,s.Qc)(gt(e)||[]).forEach((function(t){r[t.name]=t.functionValue})),Xr(t,e,b({isPinch:!!e.isPinch,isDrag:e.isDrag,transformObject:r,transform:ht(e)},Hr(vt(e))))}};function ci(t,e,r,n,i,o,a){o.clientDistX=o.distX,o.clientDistY=o.distY;var s="Start"===i,u="End"===i,l="After"===i,c=t.state.target,f=o.isRequest,p=n.indexOf("Control")>-1;if(!c||s&&p&&!f&&t.areaElement===o.inputEvent.target)return!1;var d=S([],x(e),!1);if(f){var g=o.requestAble;d.some((function(t){return t.name===g}))||d.push.apply(d,S([],x(t.props.ables.filter((function(t){return t.name===g}))),!1))}if(!d.length||d.every((function(t){return t.dragRelation})))return!1;var h,v=o.inputEvent;u&&v&&(h=document.elementFromPoint(o.clientX,o.clientY)||v.target);var m=!1,y=function(){var t;m=!0,null===(t=o.stop)||void 0===t||t.call(o)},E=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());E&&t.updateRect(i,!0,!1);var D=o.datas,C=p?"controlGesto":"targetGesto",R=t[C],M=function(e,r,n){if(!(r in e)||R!==t[C])return!1;var i=e.name,a=D[i]||(D[i]={});if(s&&(a.isEventStart=!n||!e[n]||e[n](t,o)),!a.isEventStart)return!1;var u=e[r](t,b(b({},o),{stop:y,datas:a,originalDatas:D,inputTarget:h}));return t._emitter.off(),s&&!1===u&&(a.isEventStart=!1),u};E&&d.forEach((function(e){e.unset&&e.unset(t)})),M(ui,"drag".concat(n).concat(i));var P=0,z=0;r.forEach((function(e){if(m)return!1;var r="".concat(e).concat(n).concat(i),a="".concat(e).concat(n,"Condition");""!==i||f||en(t.state,o);var u=d.filter((function(t){return t[r]})),l=(u=u.filter((function(t,e){return t.name&&u.indexOf(t)===e}))).filter((function(t){return M(t,r,a)})).length;m&&++P,l&&++z,!m&&s&&u.length&&!l&&(P+=u.filter((function(t){var e=t.name;return!!D[e].isEventStart&&"strong"!==t.dragRelation})).length?1:0)})),l&&!z||M(li,"drag".concat(n).concat(i));var T=R!==t[C]||P===r.length;if((u||m||T)&&(t.state.gestos={},t.moveables&&t.moveables.forEach((function(t){t.state.gestos={}})),d.forEach((function(e){e.unset&&e.unset(t)}))),s&&!T&&!f&&z&&t.props.preventDefault&&(null==o||o.preventDefault()),t.isUnmounted||T)return!1;(!s&&z&&!a||u)&&(t.props.flushSync||ur)((function(){t.updateRect(u?i:"",!0,!1),t.forceUpdate()}));return s||u||l||!z||a||ci(t,e,r,n,i+"After",o),!0}function fi(t){return function(e){var r,n=e.inputEvent.target,i=t.areaElement,a=t._dragTarget;return!(!a||(null===(r=t.controlGesto)||void 0===r?void 0:r.isFlag()))&&(n===a||a.contains(n)||n===i||!t.isMoveableElement(n)&&!t.controlBox.contains(n)||(0,o.pv)(n,"moveable-area")||(0,o.pv)(n,"moveable-padding")||(0,o.pv)(n,"moveable-edgeDraggable"))}}function pi(t,e,r){var n=t.controlBox,i=[],o=t.props,a=o.dragArea,s=t.state.target,u=o.dragTarget;return i.push(n),a&&!u||i.push(e),!a&&u&&s&&e!==s&&o.dragTargetSelf&&i.push(s),di(t,i,"targetAbles",r,{dragStart:fi(t),pinchStart:fi(t)})}function di(t,e,r,n,i){void 0===i&&(i={});var a="targetAbles"===r,s=t.props,u=s.pinchOutside,l=s.pinchThreshold,c=s.preventClickEventOnDrag,f=s.preventClickDefault,d=s.checkInput,g=s.dragFocusedInput,h=s.preventDefault,v={preventDefault:void 0===h||h,preventRightClick:!0,preventWheelClick:!0,container:un(s.dragContainer,!0)||(0,o.Jj)(t.getControlBoxElement()),pinchThreshold:l,pinchOutside:u,preventClickEventOnDrag:!!a&&c,preventClickEventOnDragStart:!!a&&f,preventClickEventByCondition:a?null:function(e){return t.controlBox.contains(e.target)},checkInput:!!a&&d,dragFocusedInput:g},m=new p.Z(e,v),b="Control"===n;return["drag","pinch"].forEach((function(e){["Start","","End"].forEach((function(o){m.on("".concat(e).concat(o),(function(a){var s,u=a.eventType,l="drag"===e&&a.isPinch;if(!i[u]||i[u](a)){if(!l){var c="drag"===e?[e]:["drag",e],f=S([],x(t[r]),!1);ci(t,f,c,n,o,a)?(t.props.stopPropagation||"Start"===o&&b)&&(null===(s=null==a?void 0:a.inputEvent)||void 0===s||s.stopPropagation()):a.stop()}}else a.stop()}))}))})),m}var gi=function(){function t(t,e,r){var n=this;this.target=t,this.moveable=e,this.eventName=r,this.ables=[],this._onEvent=function(t){var e=n.eventName,r=n.moveable;r.state.disableNativeEvent||n.ables.forEach((function(n){n[e](r,{inputEvent:t})}))},t.addEventListener(r.toLowerCase(),this._onEvent)}return t.prototype.setAbles=function(t){this.ables=t},t.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function hi(t,e,r,n){var i;void 0===r&&(r=e);var s=Dt(t,e),u=s.matrixes,l=s.is3d,c=s.targetMatrix,f=s.transformOrigin,p=s.targetOrigin,d=s.offsetContainer,g=s.hasFixed,h=s.zoom,v=function(t,e){if(Mt){var r=(0,o.sE)(Mt,(function(r){return r[0][0]==t&&r[0][1]==e}));if(r)return r[1]}var n=Dt(t,e,!0);return Mt&&Mt.push([[t,e],n]),n}(d,r),m=v.matrixes,y=v.is3d,E=v.offsetContainer,D=v.zoom,C=n||y||l,R=C?4:3,M="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,P=c,z=(0,a.Te)(R),T=(0,a.Te)(R),O=(0,a.Te)(R),w=(0,a.Te)(R),G=u.length,A=m.map((function(t){return b(b({},t),{matrix:t.matrix?S([],x(t.matrix),!1):void 0})})).reverse();u.reverse(),!l&&C&&(P=(0,a.mA)(P,3,4),mr(u)),!y&&C&&mr(A),A.forEach((function(t){T=(0,a.ml)(T,t.matrix,R)}));var B=r||(0,o.zi)(t),_=(null===(i=A[0])||void 0===i?void 0:i.target)||gr(B,B,!0).offsetParent,k=A.slice(1).reduce((function(t,e){return(0,a.ml)(t,e.matrix,R)}),(0,a.Te)(R));u.forEach((function(t,e){if(G-2===e&&(O=z.slice()),G-1===e&&(w=z.slice()),!t.matrix){var r=function(t,e,r,n,i){var s,u=t.target,l=t.origin,c=e.matrix,f=wr(u),p=f.offsetWidth,d=f.offsetHeight,g=r.getBoundingClientRect(),h=[0,0];r===(0,o.zi)(r)&&(h=vr(u,!0));for(var v=u.getBoundingClientRect(),m=v.left-g.left+r.scrollLeft-(r.clientLeft||0)+h[0],b=v.top-g.top+r.scrollTop-(r.clientTop||0)+h[1],S=v.width,y=v.height,E=(0,a.KF)(n,i,c),D=Rr(E,p,d,n),C=D.left,R=D.top,M=D.width,P=D.height,z=Er(E,l,n),T=(0,a.h9)(z,[C,R]),O=[m+T[0]*S/M,b+T[1]*y/P],w=[0,0],G=0;++G<10;){var A=(0,a.U_)(i,n);s=x((0,a.h9)(Er(A,O,n),Er(A,z,n)),2),w[0]=s[0],w[1]=s[1];var B=Rr((0,a.KF)(n,i,(0,a.Jm)(w,n),c),p,d,n),_=B.left-m,k=B.top-b;if(bn(_)<2&&bn(k)<2)break;O[0]-=_,O[1]-=k}return w.map((function(t){return Math.round(t)}))}(t,u[e+1],_,R,(0,a.ml)(k,z,R));t.matrix=(0,a.Jm)(r,R)}z=(0,a.ml)(z,t.matrix,R)}));var I=!M&&l;P||(P=(0,a.Te)(I?4:3));var F=xr(M&&16===P.length?(0,a.mA)(P,4,3):P,I),N=T;return T=(0,a.Xj)(T,R,R),{hasZoom:1!==h||1!==D,hasFixed:g,matrixes:u,rootMatrix:T,originalRootMatrix:N,beforeMatrix:O,offsetMatrix:w,allMatrix:z,targetMatrix:P,targetTransform:F,inlineTransform:t.style.transform,transformOrigin:f,targetOrigin:p,is3d:C,offsetContainer:d,offsetRootContainer:E}}function vi(t,e,r,n){void 0===r&&(r=e);var i=0,o=0,s=0,u={},l=wr(t);if(t&&(i=l.offsetWidth,o=l.offsetHeight),t){var c=hi(t,e,r,n),f=$(c.allMatrix,c.transformOrigin,i,o);u=b(b({},c),f);var p=$(c.allMatrix,[50,50],100,100);s=Gr([p.pos1,p.pos2],p.direction)}var d=n?4:3;return b(b(b({hasZoom:!1,width:i,height:o,rotation:s},l),{originalRootMatrix:(0,a.Te)(d),rootMatrix:(0,a.Te)(d),beforeMatrix:(0,a.Te)(d),offsetMatrix:(0,a.Te)(d),allMatrix:(0,a.Te)(d),targetMatrix:(0,a.Te)(d),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),u)}function mi(t,e,r,n,i,o){void 0===o&&(o=[]);var s=1,u=[0,0],l={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},c={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},f={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},p={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},d=[0,0],g={},h=vi(e,r,i,!0);if(e){var v=zt(e);o.forEach((function(t){g[t]=v(t)}));var m=h.is3d?4:3,x=$(h.offsetMatrix,(0,a.PD)(h.transformOrigin,(0,a.P$)(h.targetMatrix,m)),h.width,h.height);s=x.direction,u=(0,a.PD)(x.origin,[x.left-h.left,x.top-h.top]),p=_r(h.offsetRootContainer);var S=gr(n,n,!0).offsetParent||h.offsetRootContainer;if(h.hasZoom){var y=$((0,a.ml)(h.originalRootMatrix,h.allMatrix),h.transformOrigin,h.width,h.height),E=$(h.originalRootMatrix,pr(zt(S)("transformOrigin")).map((function(t){return parseFloat(t)})),S.offsetWidth,S.offsetHeight);if(l=Br(y,p),f=Br(E,p,S,!0),t){var D=y.left,C=y.top;c=Br({left:D,top:C,bottom:C,right:C},p)}}else{l=_r(e),f=function(t){var e=null==Rt?void 0:Rt.get(t);if(e)return e;var r=_r(t,!0);return Rt&&Rt.set(t,r),r}(S),t&&(c=_r(t));var R=f.left,M=f.top,P=f.clientLeft,z=f.clientTop,T=[l.left-R,l.top-M];d=(0,a.h9)(tn(h.rootMatrix,T,4),[P+h.left,z+h.top])}}return b({targetClientRect:l,containerClientRect:f,moveableClientRect:c,rootContainerClientRect:p,beforeDirection:s,beforeOrigin:u,originalBeforeOrigin:u,target:e,style:g,offsetDelta:d},h)}function bi(t){var e=t.pos1,r=t.pos2,n=t.pos3,i=t.pos4;if(!(e&&r&&n&&i))return null;var o=(0,c.i$)([e,r,n,i]),s=[o.minX,o.minY],u=(0,a.h9)(t.origin,s);return e=(0,a.h9)(e,s),r=(0,a.h9)(r,s),n=(0,a.h9)(n,s),i=(0,a.h9)(i,s),b(b({},t),{left:t.left,top:t.top,posDelta:s,pos1:e,pos2:r,pos3:n,pos4:i,origin:u,beforeOrigin:u,isPersisted:!0})}var xi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=b({container:null,gestos:{},renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},mi(null)),e.renderState={},e.enabledAbles=[],e.targetAbles=[],e.controlAbles=[],e.rotation=0,e.scale=[1,1],e.isMoveableMounted=!1,e.isUnmounted=!1,e.events={mouseEnter:null,mouseLeave:null},e._emitter=new g.Z,e._prevOriginalDragTarget=null,e._originalDragTarget=null,e._prevDragTarget=null,e._dragTarget=null,e._prevPropTarget=null,e._propTarget=null,e._prevDragArea=!1,e._isPropTargetChanged=!1,e._hasFirstTarget=!1,e._reiszeObserver=null,e._observerId=0,e._mutationObserver=null,e._rootContainer=null,e._viewContainer=null,e._viewClassNames=[],e._store={},e.checkUpdateRect=function(){if(!e.isDragging()){var t=e.props.parentMoveable;t?t.checkUpdateRect():((0,o.Wx)(e._observerId),e._observerId=(0,o.U7)((function(){e.isDragging()||e.updateRect()})))}},e._onPreventClick=function(t){t.stopPropagation(),t.preventDefault()},e}return m(e,t),e.prototype.render=function(){var t=this.props,e=this.getState(),r=t.parentPosition,n=t.className,o=t.target,a=t.zoom,s=t.cspNonce,u=t.translateZ,l=t.cssStyled,c=t.groupable,p=t.linePadding,d=t.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var g=x(r||[0,0],2),h=g[0],v=g[1],m=e.left,S=e.top,y=e.target,E=e.direction,D=e.hasFixed,C=e.offsetDelta,R=t.targets,M=this.isDragging(),P={};this.getEnabledAbles().forEach((function(t){P["data-able-".concat(t.name.toLowerCase())]=!0}));var z=this._getAbleClassName(),T=R&&R.length&&(y||c)||o||!this._hasFirstTarget&&this.state.isPersisted,O=this.controlBox||this.props.firstRenderState||this.props.persistData,w=[m-h,S-v];!c&&t.useAccuratePosition&&(w[0]+=C[0],w[1]+=C[1]);var G={position:D?"fixed":"absolute",display:T?"block":"none",visibility:O?"visible":"hidden",transform:"translate3d(".concat(w[0],"px, ").concat(w[1],"px, ").concat(u,")"),"--zoom":a,"--zoompx":"".concat(a,"px")};return p&&(G["--moveable-line-padding"]=p),d&&(G["--moveable-control-padding"]=d),f.createElement(l,b({cspNonce:s,ref:(0,i.iH)(this,"controlBox"),className:"".concat(sr("control-box",-1===E?"reverse":"",M?"dragging":"")," ").concat(z," ").concat(n)},P,{onClick:this._onPreventClick,style:G}),this.renderAbles(),this._renderLines())},e.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var t=this.props,e=t.parentMoveable,r=t.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),r||e||this.state.isPersisted||(this.updateRect("",!1,!1),this.forceUpdate())},e.prototype.componentDidUpdate=function(t){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(t)},e.prototype.componentWillUnmount=function(){var t,e;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),null===(t=this._reiszeObserver)||void 0===t||t.disconnect(),null===(e=this._mutationObserver)||void 0===e||e.disconnect(),this._viewContainer&&this._changeAbleViewClassNames([]),qr(this,!1),qr(this,!0);var r=this.events;for(var n in r){var i=r[n];i&&i.destroy()}},e.prototype.getTargets=function(){var t=this.props.target;return t?[t]:[]},e.prototype.getAble=function(t){var e=this.props.ables||[];return(0,o.sE)(e,(function(e){return e.name===t}))},e.prototype.getContainer=function(){var t=this.props,e=t.parentMoveable,r=t.wrapperMoveable;return t.container||r&&r.getContainer()||e&&e.getContainer()||this.controlBox.parentElement},e.prototype.getControlBoxElement=function(){return this.controlBox},e.prototype.getDragElement=function(){return this._dragTarget},e.prototype.isMoveableElement=function(t){var e;return t&&((null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"class"))||"").indexOf(I)>-1},e.prototype.dragStart=function(t){var e=this.targetGesto,r=this.controlGesto;return e&&fi(this)({inputEvent:t})?e.isFlag()||e.triggerDragStart(t):r&&this.isMoveableElement(t.target)&&(r.isFlag()||r.triggerDragStart(t)),this},e.prototype.hitTest=function(t){var e,r=this.state,n=r.target,i=r.pos1,a=r.pos2,s=r.pos3,u=r.pos4,l=r.targetClientRect;if(!n)return 0;if((0,o.UG)(t)){var f=t.getBoundingClientRect();e={left:f.left,top:f.top,width:f.width,height:f.height}}else e=b({width:0,height:0},t);var p=e.left,d=e.top,g=e.width,h=e.height,v=(0,c.aD)([i,a,u,s],l),m=(0,c.IW)(v,[[p,d],[p+g,d],[p+g,d+h],[p,d+h]]),x=(0,c.tB)(v);return m&&x?Math.min(100,m/x*100):0},e.prototype.isInside=function(t,e){var r=this.state,n=r.target,i=r.pos1,o=r.pos2,a=r.pos3,s=r.pos4,u=r.targetClientRect;return!!n&&(0,c.V0)([t,e],(0,c.aD)([i,o,s,a],u))},e.prototype.updateRect=function(t,e,r){void 0===r&&(r=!0);var n=this.props,i=!n.parentPosition&&!n.wrapperMoveable;i&&Pt(!0);var o=n.parentMoveable,a=this.state.target||n.target,s=this.getContainer(),u=o?o._rootContainer:this._rootContainer,l=mi(this.controlBox,a,s,s,u||s,this._getRequestStyles());if(!a&&this._hasFirstTarget&&n.persistData){var c=bi(n.persistData);for(var f in c)l[f]=c[f]}i&&Pt(),this.updateState(l,!o&&r)},e.prototype.isDragging=function(t){var e,r,n=this.targetGesto,i=this.controlGesto;return(null==n?void 0:n.isFlag())?!t||!!(null===(e=n.getEventData()[t])||void 0===e?void 0:e.isEventStart):!!(null==i?void 0:i.isFlag())&&(!t||!!(null===(r=i.getEventData()[t])||void 0===r?void 0:r.isEventStart))},e.prototype.updateTarget=function(t){this.updateRect(t,!0)},e.prototype.getRect=function(){var t=this.state,e=Nr(this.state),r=x(e,4),n=r[0],i=r[1],o=r[2],s=r[3],u=Cr(e),l=t.width,c=t.height,f=u.width,p=u.height,d=u.left,g=u.top,h=[t.left,t.top],v=(0,a.PD)(h,t.origin);return{width:f,height:p,left:d,top:g,pos1:n,pos2:i,pos3:o,pos4:s,offsetWidth:l,offsetHeight:c,beforeOrigin:(0,a.PD)(h,t.beforeOrigin),origin:v,transformOrigin:t.transformOrigin,rotation:this.getRotation()}},e.prototype.getManager=function(){return this},e.prototype.stopDrag=function(t){var e;t&&"target"!==t||(!1===(null==(e=this.targetGesto)?void 0:e.isIdle())&&Wr(this,!1),null==e||e.stop());t&&"control"!==t||(!1===(null==(e=this.controlGesto)?void 0:e.isIdle())&&Wr(this,!0),null==e||e.stop())},e.prototype.getRotation=function(){var t=this.state;return function(t,e,r){var n=(0,o.jv)(t,e)/Math.PI*180;return(n=r>=0?n:180-n)>=0?n:360+n}(t.pos1,t.pos2,t.direction)},e.prototype.request=function(t,e,r){void 0===e&&(e={});var n=this,i=n.props,a=i.parentMoveable||i.wrapperMoveable||n,s=a.props.ables,u=i.groupable,l=(0,o.sE)(s,(function(e){return e.name===t}));if(this.isDragging()||!l||!l.request)return{request:function(){return this},requestEnd:function(){return this}};var c=l.request(n),f=r||e.isInstant,p=c.isControl?"controlAbles":"targetAbles",d="".concat(u?"Group":"").concat(c.isControl?"Control":""),g=S([],x(a[p]),!1),h={request:function(e){return ci(n,g,["drag"],d,"",b(b({},c.request(e)),{requestAble:t,isRequest:!0}),f),h},requestEnd:function(){return ci(n,g,["drag"],d,"End",b(b({},c.requestEnd()),{requestAble:t,isRequest:!0}),f),h}};return ci(n,g,["drag"],d,"Start",b(b({},c.requestStart(e)),{requestAble:t,isRequest:!0}),f),f?h.request(e).requestEnd():h},e.prototype.getMoveables=function(){return[this]},e.prototype.destroy=function(){this.componentWillUnmount()},e.prototype.updateRenderPoses=function(){var t=this.getState(),e=this.props,r=e.padding,n=t.originalBeforeOrigin,i=t.transformOrigin,o=t.allMatrix,s=t.is3d,u=t.pos1,l=t.pos2,c=t.pos3,f=t.pos4,p=t.left,d=t.top,g=t.isPersisted;if(r){var h=Sn(r),v=h.left,m=h.top,b=h.bottom,x=h.right,S=s?4:3,y=[];y=g?i:this.controlBox&&e.groupable?n:(0,a.PD)(n,[p,d]);var E=(0,a.KF)(S,(0,a.Jm)(y.map((function(t){return-t})),S),o,(0,a.Jm)(i,S));t.renderPoses=[rn(E,u,[-v,-m],S),rn(E,l,[x,-m],S),rn(E,c,[-v,b],S),rn(E,f,[x,b],S)]}else t.renderPoses=[u,l,c,f]},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var t=this.props,e=t.target,r=t.container,n=t.parentMoveable,i=this.state,o=i.target,a=i.container;if(o||e){this.updateAbles();var s=!Jr(o,e);if(s||!Jr(a,r)){var u=r||this.controlBox;u&&this.unsetAbles(),this.updateState({target:e,container:r}),!n&&u&&this.updateRect("End",!1,!1),this._isPropTargetChanged=s}}},e.prototype.waitToChangeTarget=function(){return new Promise((function(){}))},e.prototype.triggerEvent=function(t,e){var r=this.props;if(this._emitter.trigger(t,e),r.parentMoveable&&e.isRequest&&!e.isRequestChild)return r.parentMoveable.triggerEvent(t,e,!0);var n=r[t];return n&&n(e)},e.prototype.useCSS=function(t,e){var r=this.props.customStyledMap,n=t+e;return r[n]||(r[n]=(0,d.zo)(t,e)),r[n]},e.prototype.getState=function(){var t,e=this.props;(e.target||(null===(t=e.targets)||void 0===t?void 0:t.length))&&(this._hasFirstTarget=!0);var r=this.controlBox,n=e.persistData,i=e.firstRenderState;if(i&&!r)return i;if(!this._hasFirstTarget&&n){var o=bi(n);if(o)return this.updateState(o,!1),this.state}return this.state.isPersisted=!1,this.state},e.prototype.updateSelectors=function(){},e.prototype.unsetAbles=function(){var t=this;this.targetAbles.forEach((function(e){e.unset&&e.unset(t)}))},e.prototype.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var r=this.props.triggerAblesSimultaneously,n=this.getEnabledAbles(t),i="drag".concat(e,"Start"),o="pinch".concat(e,"Start"),a="drag".concat(e,"ControlStart"),s=Kr(n,[i,o],r),u=Kr(n,[a],r);this.enabledAbles=n,this.targetAbles=s,this.controlAbles=u},e.prototype.updateState=function(t,e){if(e){if(this.isUnmounted)return;this.setState(t)}else{var r=this.state;for(var n in t)r[n]=t[n]}},e.prototype.getEnabledAbles=function(t){void 0===t&&(t=this.props.ables);var e=this.props;return t.filter((function(t){return t&&(t.always&&!1!==e[t.name]||e[t.name])}))},e.prototype.renderAbles=function(){var t,e,r,n,i=this,o=this.props.triggerAblesSimultaneously,a={createElement:f.createElement};return this.renderState={},(t=$r(Kr(this.getEnabledAbles(),["render"],o).map((function(t){return(0,t.render)(i,a)||[]}))).filter((function(t){return t})),e=function(t){return t.key},r=[],n={},t.forEach((function(i,o){var a=e(i,o,t),s=n[a];s||(s=[],n[a]=s,r.push(s)),s.push(i)})),r).map((function(t){return t[0]}))},e.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e.prototype._getRequestStyles=function(){return this.getEnabledAbles().reduce((function(t,e){var r,n,i=null!==(n=null===(r=e.requestStyle)||void 0===r?void 0:r.call(e))&&void 0!==n?n:[];return S(S([],x(t),!1),x(i),!1)}),S([],x(this.props.requestStyles||[]),!1))},e.prototype._updateObserver=function(t){this._updateResizeObserver(t),this._updateMutationObserver(t)},e.prototype._updateEvents=function(){var t=this.controlBox,e=this.targetAbles.length,r=this.controlAbles.length,n=this._dragTarget;(!e&&this.targetGesto||this._isTargetChanged(!0))&&(qr(this,!1),this.updateState({gestos:{}})),r||qr(this,!0),n&&e&&!this.targetGesto&&(this.targetGesto=pi(this,n,"")),!this.controlGesto&&r&&(this.controlGesto=di(this,t,"controlAbles","Control"))},e.prototype._updateTargets=function(){var t=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=t.dragArea,this._propTarget=t.target,this._originalDragTarget=t.dragTarget||t.target,this._dragTarget=un(this._originalDragTarget,!0)},e.prototype._renderLines=function(){var t=this.props,e=t.zoom,r=t.hideDefaultLines,n=t.hideChildMoveableDefaultLines,i=t.parentMoveable;if(r||i&&n)return[];var o=this.getState().renderPoses,a={createElement:f.createElement};return[[0,1],[1,3],[3,2],[2,0]].map((function(t,r){var n=x(t,2),i=n[0],s=n[1];return _t(a,"",o[i],o[s],e,"render-line-".concat(r))}))},e.prototype._isTargetChanged=function(t){var e=this.props,r=e.dragTarget||e.target,n=this._prevOriginalDragTarget,i=this._prevDragArea,o=e.dragArea;return!o&&n!==r||(t||o)&&i!==o||this._prevPropTarget!=this._propTarget},e.prototype._updateNativeEvents=function(){var t=this,e=this.props.dragArea?this.areaElement:this.state.target,r=this.events,n=(0,o.RR)(r);if(this._isTargetChanged())for(var i in r){var a=r[i];a&&a.destroy(),r[i]=null}if(e){var s=this.enabledAbles;n.forEach((function(n){var i=Kr(s,[n]),o=i.length>0,a=r[n];o?(a||(a=new gi(e,t,n),r[n]=a),a.setAbles(i)):a&&(a.destroy(),r[n]=null)}))}},e.prototype._checkUpdateRootContainer=function(){var t=this.props.rootContainer;!this._rootContainer&&t&&(this._rootContainer=un(t,!0))},e.prototype._checkUpdateViewContainer=function(){var t=this.props.viewContainer;!this._viewContainer&&t&&(this._viewContainer=un(t,!0)),this._viewContainer&&this._changeAbleViewClassNames(S(S([],x(this._getAbleViewClassNames()),!1),[this.isDragging()?On:""],!1))},e.prototype._changeAbleViewClassNames=function(t){var e=this._viewContainer,r=Zr(t.filter(Boolean),(function(t){return t})).map((function(t){return x(t,1)[0]})),n=this._viewClassNames,i=(0,h.H)(n,r),a=i.removed,s=i.added;a.forEach((function(t){(0,o.IV)(e,n[t])})),s.forEach((function(t){(0,o.cn)(e,r[t])})),this._viewClassNames=r},e.prototype._getAbleViewClassNames=function(){var t=this;return(this.getEnabledAbles().map((function(e){var r;return(null===(r=e.viewClassName)||void 0===r?void 0:r.call(e,t))||""})).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},e.prototype._getAbleClassName=function(t){var e=this;void 0===t&&(t="");var r=this.getEnabledAbles(),n=this.targetGesto,i=this.controlGesto,o=(null==n?void 0:n.isFlag())?n.getEventData():{},a=(null==i?void 0:i.isFlag())?i.getEventData():{};return r.map((function(r){var n,i,s,u=r.name,l=(null===(n=r.className)||void 0===n?void 0:n.call(r,e))||"";return((null===(i=o[u])||void 0===i?void 0:i.isEventStart)||(null===(s=a[u])||void 0===s?void 0:s.isEventStart))&&(l+=" ".concat(sr("".concat(u).concat(t,"-dragging")))),l.trim()})).filter(Boolean).join(" ")},e.prototype._updateResizeObserver=function(t){var e,r=this.props,n=r.target,i=(0,o.Jj)(this.getControlBoxElement());if(i.ResizeObserver&&n&&r.useResizeObserver){if(t.target!==n||!this._reiszeObserver){var a=new i.ResizeObserver(this.checkUpdateRect);a.observe(n,{box:"border-box"}),this._reiszeObserver=a}}else null===(e=this._reiszeObserver)||void 0===e||e.disconnect()},e.prototype._updateMutationObserver=function(t){var e,r=this,n=this.props,i=n.target,a=(0,o.Jj)(this.getControlBoxElement());if(a.MutationObserver&&i&&n.useMutationObserver){if(t.target!==i||!this._mutationObserver){var s=new a.MutationObserver((function(t){var e,n;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=i.next();!o.done;o=i.next()){var a=o.value;"attributes"===a.type&&"style"===a.attributeName&&r.checkUpdateRect()}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}));s.observe(i,{attributes:!0}),this._mutationObserver=s}}else null===(e=this._mutationObserver)||void 0===e||e.disconnect()},e.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:ur,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},e}(f.PureComponent),Si={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(t,e){var r,n=t.props,o=n.targets||[],s=t.getState(),u=s.left,l=s.top,c=s.isPersisted,f=n.zoom||1,p=t.renderGroupRects,d=(null===(r=n.persistData)||void 0===r?void 0:r.children)||[];c?o=d.map((function(){return null})):d=[];var g=vn(t,"parentPosition",[u,l],(function(t){return t.join(",")})),h=vn(t,"requestStyles",t.getRequestChildStyles(),(function(t){return t.join(",")}));return t.moveables=t.moveables.slice(0,o.length),S(S([],x(o.map((function(r,o){return e.createElement(xi,{key:"moveable"+o,ref:(0,i.xL)(t,"moveables",o),target:r,origin:!1,requestStyles:h,cssStyled:n.cssStyled,customStyledMap:n.customStyledMap,useResizeObserver:n.useResizeObserver,useMutationObserver:n.useMutationObserver,hideChildMoveableDefaultLines:n.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:[u,l],persistData:d[o],zoom:f})}))),!1),x($r(p.map((function(t,r){var n=[t.pos1,t.pos2,t.pos3,t.pos4];return[[0,1],[1,3],[3,2],[2,0]].map((function(t,i){var o=x(t,2),s=o[0],u=o[1];return _t(e,"",(0,a.h9)(n[s],g),(0,a.h9)(n[u],g),f,"group-rect-".concat(r,"-").concat(i))}))})))),!1)}},yi=y("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var r=t.props.target,n=e.inputEvent,i=e.inputTarget,o=!t.isMoveableElement(i)&&t.controlBox.contains(i);if(n&&i&&!e.isDrag&&!t.isMoveableElement(i)&&!o){var a=r.contains(i);Vr(t,"onClick",Xr(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:r===i,moveableTarget:t.props.target,containsTarget:a}))}},dragGroupEnd:function(t,e){var r=e.inputEvent,n=e.inputTarget;if(r&&n&&!e.isDrag&&!t.isMoveableElement(n)&&e.datas.inputTarget!==n){var i=t.props.targets,a=i.indexOf(n),s=a>-1,u=!1;-1===a&&(u=(a=(0,o.cx)(i,(function(t){return t.contains(n)})))>-1),Vr(t,"onClickGroup",Xr(t,e,{isDouble:e.isDouble,targets:i,inputTarget:n,targetIndex:a,isTarget:s,containsTarget:u,moveableTarget:i[a]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function Ei(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),b(b({},t),{datas:e})}var Di=y("edgeDraggable",{css:[".edge.edgeDraggable.line {\ncursor: move;\n}"],render:function(t,e){var r=t.props,n=r.edgeDraggable;return n?kt(e,"edgeDraggable",n,t.getState().renderPoses,r.zoom):[]},dragCondition:function(t,e){var r,n=t.props,i=null===(r=e.inputEvent)||void 0===r?void 0:r.target;return!(!n.edgeDraggable||!i)&&(!n.draggable&&(0,o.pv)(i,sr("direction"))&&(0,o.pv)(i,sr("edge"))&&(0,o.pv)(i,sr("edgeDraggable")))},dragStart:function(t,e){return Re.dragStart(t,Ei(e))},drag:function(t,e){return Re.drag(t,Ei(e))},dragEnd:function(t,e){return Re.dragEnd(t,Ei(e))},dragGroupCondition:function(t,e){var r,n=t.props,i=null===(r=e.inputEvent)||void 0===r?void 0:r.target;return!(!n.edgeDraggable||!i)&&(!n.draggable&&(0,o.pv)(i,sr("direction"))&&(0,o.pv)(i,sr("line")))},dragGroupStart:function(t,e){return Re.dragGroupStart(t,Ei(e))},dragGroup:function(t,e){return Re.dragGroup(t,Ei(e))},dragGroupEnd:function(t,e){return Re.dragGroupEnd(t,Ei(e))},unset:function(t){return Re.unset(t)}}),Ci={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},Ri=[ui,In,ar,yn,Re,Di,Te,Dn,Mn,ke,kn,Fn,Bn,ni,ri,si,Si,Ci,yi,An,li];function Mi(t,e){var r=x(t,3),n=r[0],i=r[1],o=r[2];return(n*e[0]+i*e[1]+o)/Math.sqrt(n*n+i*i)}function Pi(t,e){var r=x(t,2),n=r[0],i=r[1];return-n*e[0]-i*e[1]}function zi(t,e){return Math.max.apply(Math,S([],x(t.map((function(t){var r=x(t,4),n=r[0],i=r[1],o=r[2],a=r[3];return Math.max(n[e],i[e],o[e],a[e])}))),!1))}function Ti(t,e){return Math.min.apply(Math,S([],x(t.map((function(t){var r=x(t,4),n=r[0],i=r[1],o=r[2],a=r[3];return Math.min(n[e],i[e],o[e],a[e])}))),!1))}function Oi(t,e){var r=e.map((function(e){if((0,o.kJ)(e)){var r=Oi(t,e),n=r.length;return n>1?r:1===n?r[0]:null}var i=(0,o.sE)(t,(function(t){return t.manager.props.target===e}));return i?(i.finded=!0,i.manager):null})).filter(Boolean);return 1===r.length&&(0,o.kJ)(r[0])?r[0]:r}var wi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.differ=new u.Z,e.moveables=[],e.transformOrigin="50% 50%",e.renderGroupRects=[],e._targetGroups=[],e._hasFirstTargets=!1,e}return m(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this)},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(t,e,r){var n;void 0===r&&(r=!0);var i=this.state;if(this.controlBox&&!i.isPersisted){Pt(!0),this.moveables.forEach((function(e){e.updateRect(t,!1,!1)}));var s=this.props,u=this.moveables,l=i.target||s.target,f=u.map((function(t){return{finded:!1,manager:t}})),p=this.props.targetGroups||[],d=Oi(f,p),g=s.useDefaultGroupRotate;d.push.apply(d,S([],x(f.filter((function(t){return!t.finded})).map((function(t){return t.manager}))),!1));var h=[],v=!e||""!==t&&s.updateGroup,m=s.defaultGroupRotate||0;if(!this._hasFirstTargets){var y=null===(n=s.persistData)||void 0===n?void 0:n.rotation;null!=y&&(m=y)}var E=function t(e,r,n){var i=e.map((function(e){if((0,o.kJ)(e)){var n=t(e,r),i=[n.pos1,n.pos2,n.pos3,n.pos4];return h.push(n),{poses:i,rotation:n.rotation}}return{poses:Nr(e.state),rotation:e.getRotation()}})),a=i.map((function(t){return t.rotation})),s=0,u=a[0],l=a.every((function(t){return Math.abs(u-t)<.1}));s=v?!g&&l?u:m:g||n||!l?r:u;var f=i.map((function(t){return t.poses})),p=function(t,e){var r,n,i,a=[0,0],s=[0,0],u=[0,0],l=[0,0],f=0,p=0;if(!t.length)return{pos1:a,pos2:s,pos3:u,pos4:l,minX:0,minY:0,maxX:0,maxY:0,width:f,height:p,rotation:e};var d=(0,o.P2)(e,H);if(d%90){var g=d/180*Math.PI,h=Math.tan(g),v=-1/h,m=[X,j],b=[[0,0],[0,0]],S=[X,j],y=[[0,0],[0,0]];t.forEach((function(t){t.forEach((function(t){var e=Mi([-h,1,0],t),r=Mi([-v,1,0],t);m[0]>e&&(b[0]=t,m[0]=e),m[1]<e&&(b[1]=t,m[1]=e),S[0]>r&&(y[0]=t,S[0]=r),S[1]<r&&(y[1]=t,S[1]=r)}))}));var E=x(b,2),D=E[0],C=E[1],R=x(y,2),M=R[0],P=R[1],z=[-h,1,Pi([-h,1],D)],T=[-h,1,Pi([-h,1],C)],O=[-v,1,Pi([-v,1],M)],w=[-v,1,Pi([-v,1],P)];r=x([[z,O],[z,w],[T,O],[T,w]].map((function(t){var e=x(t,2),r=e[0],n=e[1];return(0,c.jv)(r,n)[0]})),4),a=r[0],s=r[1],u=r[2],l=r[3],f=S[1]-S[0],p=m[1]-m[0]}else{var G=Ti(t,0),A=Ti(t,1),B=zi(t,0),_=zi(t,1);a=[G,A],s=[B,A],u=[G,_],l=[B,_],f=B-G,p=_-A,d%180&&(a=(n=x([u,a,l,s],4))[0],s=n[1],u=n[2],l=n[3],f=_-A,p=B-G)}d%360>180&&(a=(i=x([l,u,s,a],4))[0],s=i[1],u=i[2],l=i[3]);var k=(0,c.i$)([a,s,u,l]);return{pos1:a,pos2:s,pos3:u,pos4:l,width:f,height:p,minX:k.minX,minY:k.minY,maxX:k.maxX,maxY:k.maxY,rotation:e}}(f,s);return p}(d,this.rotation,!0);v&&(this.rotation=E.rotation,this.transformOrigin=s.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=p,this.renderGroupRects=h;var D,C,R,M,P,z=this.transformOrigin,T=this.rotation,O=this.scale,w=E.width,G=E.height,A=E.minX,B=E.minY,_=(D=[[0,0],[w,0],[0,G],[w,G]],C=gn(z,w,G),R=this.rotation/180*Math.PI,M=D.map((function(t){return(0,a.h9)(t,C)})),P=M.map((function(t){return(0,a.U1)(t,R)})),{prev:M,next:P,result:P.map((function(t){return(0,a.PD)(t,C)}))}),k=(0,c.i$)(_.result),I=k.minX,F=k.minY,N=" rotate(".concat(T,"deg)")+" scale(".concat(mn(O[0]),", ").concat(mn(O[1]),")"),W="translate(".concat(-I,"px, ").concat(-F,"px)").concat(N);this.controlBox.style.transform="translate3d(".concat(A,"px, ").concat(B,"px, ").concat(this.props.translateZ||0,")"),l.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(z,";")+"width:".concat(w,"px;height:").concat(G,"px;")+"transform: ".concat(W),i.width=w,i.height=G;var q=this.getContainer(),Y=mi(this.controlBox,l,this.controlBox,this.getContainer(),this._rootContainer||q,[]),L=[Y.left,Y.top],V=x(Nr(Y),4),U=V[0],K=V[1],J=V[2],Z=V[3],$=(0,c.i$)([U,K,J,Z]),Q=[$.minX,$.minY],tt=mn(O[0]*O[1]);Y.pos1=(0,a.h9)(U,Q),Y.pos2=(0,a.h9)(K,Q),Y.pos3=(0,a.h9)(J,Q),Y.pos4=(0,a.h9)(Z,Q),Y.left=A-Y.left+Q[0],Y.top=B-Y.top+Q[1],Y.origin=(0,a.h9)((0,a.PD)(L,Y.origin),Q),Y.beforeOrigin=(0,a.h9)((0,a.PD)(L,Y.beforeOrigin),Q),Y.originalBeforeOrigin=(0,a.PD)(L,Y.originalBeforeOrigin),Y.transformOrigin=(0,a.h9)((0,a.PD)(L,Y.transformOrigin),Q),l.style.transform="translate(".concat(-I-Q[0],"px, ").concat(-F-Q[1],"px)")+N,Pt(),this.updateState(b(b({},Y),{posDelta:Q,direction:tt,beforeDirection:tt}),r)}},e.prototype.getRect=function(){return b(b({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},e.prototype.triggerEvent=function(e,r,n){if(n||e.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,e,r);this._emitter.trigger(e,r)},e.prototype.getRequestChildStyles=function(){return this.getEnabledAbles().reduce((function(t,e){var r,n,i=null!==(n=null===(r=e.requestChildStyle)||void 0===r?void 0:r.call(e))&&void 0!==n?n:[];return S(S([],x(t),!1),x(i),!1)}),[])},e.prototype.getMoveables=function(){return S([],x(this.moveables),!1)},e.prototype.updateAbles=function(){t.prototype.updateAbles.call(this,S(S([],x(this.props.ables),!1),[Si],!1),"Group")},e.prototype._updateTargets=function(){t.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=un(this._originalDragTarget,!0)},e.prototype._updateEvents=function(){var t=this.state,e=this.props,r=this._prevDragTarget,n=e.dragTarget||this.areaElement,i=e.targets,o=this.differ.update(i),a=o.added,s=o.changed,u=o.removed,l=a.length||u.length;(l||this._prevOriginalDragTarget!==this._originalDragTarget)&&(qr(this,!1),qr(this,!0),this.updateState({gestos:{}})),r!==n&&(t.target=null),t.target||(t.target=this.areaElement,this.controlBox.style.display="block"),t.target&&(this.targetGesto||(this.targetGesto=pi(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=di(this,this.controlBox,"controlAbles","GroupControl")));var c=!Jr(t.container,e.container);c&&(t.container=e.container),(c||l||this.transformOrigin!==(e.defaultGroupOrigin||"50% 50%")||s.length||i.length&&!hn(this._targetGroups,e.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!l},e.prototype._updateObserver=function(){},e.defaultProps=b(b({},xi.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(xi),Gi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveables=[],e}return m(e,t),e.prototype.render=function(){var t,e=this,r=this.props,n=r.cspNonce,o=r.cssStyled,a=r.persistData,s=r.targets||[],u=s.length,l=this.isUnmounted||!u,c=null!==(t=null==a?void 0:a.children)&&void 0!==t?t:[];return l&&!u&&c.length?s=c.map((function(){return null})):l||(c=[]),f.createElement(o,{cspNonce:n,ref:(0,i.iH)(this,"controlBox"),className:sr("control-box")},s.map((function(t,n){var o,a,s=null!==(a=null===(o=r.individualGroupableProps)||void 0===o?void 0:o.call(r,t,n))&&void 0!==a?a:{};return f.createElement(xi,b({key:"moveable"+n,ref:(0,i.xL)(e,"moveables",n)},r,s,{target:t,wrapperMoveable:e,isWrapperMounted:e.isMoveableMounted,persistData:c[n]}))})))},e.prototype.componentDidMount=function(){},e.prototype.componentDidUpdate=function(){},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(t,e,r){void 0===r&&(r=!0),Pt(!0),this.moveables.forEach((function(n){n.updateRect(t,e,r)})),Pt()},e.prototype.getRect=function(){return b(b({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},e.prototype.request=function(t,e,r){void 0===e&&(e={});var n=this.moveables.map((function(r){return r.request(t,b(b({},e),{isInstant:!1}),!1)})),i={request:function(t){return n.forEach((function(e){return e.request(t)})),this},requestEnd:function(){return n.forEach((function(t){return t.requestEnd()})),this}};return r||e.isInstant?i.request(e).requestEnd():i},e.prototype.dragStart=function(t){var e=t.target,r=(0,o.sE)(this.moveables,(function(t){var r=t.getTargets()[0],n=t.getControlBoxElement(),i=t.getDragElement();return!(!r||!i)&&(i===e||i.contains(e)||i!==r&&r===e||r.contains(e)||n===e||n.contains(e))}));return r&&r.dragStart(t),this},e.prototype.hitTest=function(){return 0},e.prototype.isInside=function(){return!1},e.prototype.isDragging=function(){return!1},e.prototype.getDragElement=function(){return null},e.prototype.getMoveables=function(){return S([],x(this.moveables),!1)},e.prototype.updateRenderPoses=function(){},e.prototype.checkUpdate=function(){},e.prototype.triggerEvent=function(){},e.prototype.updateAbles=function(){},e.prototype._updateEvents=function(){},e.prototype._updateObserver=function(){},e}(xi);function Ai(t,e){var r=[];return t.forEach((function(t){t&&((0,o.HD)(t)?e[t]&&r.push.apply(r,S([],x(e[t]),!1)):(0,o.kJ)(t)?r.push.apply(r,S([],x(Ai(t,e)),!1)):r.push(t))})),r}function Bi(t,e){var r=[];return t.forEach((function(t){t&&((0,o.HD)(t)?e[t]&&r.push.apply(r,S([],x(e[t]),!1)):(0,o.kJ)(t)?r.push(Bi(t,e)):r.push(t))})),r}function _i(t,e){return t.length!==e.length||t.some((function(t,r){var n=e[r];return!(!t&&!n)&&(t!=n&&(!(0,o.kJ)(t)||!(0,o.kJ)(n)||_i(t,n)))}))}var ki=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.refTargets=[],e.selectorMap={},e._differ=new u.Z,e._elementTargets=[],e._tmpRefTargets=[],e._tmpSelectorMap={},e._onChangeTargets=null,e}return m(e,t),e.makeStyled=function(){var t={};this.getTotalAbles().forEach((function(e){var r=e.css;r&&r.forEach((function(e){t[e]=!0}))}));var e=(0,o.RR)(t).join("\n");this.defaultStyled=(0,d.zo)("div",(0,i.$i)(I,N+e))},e.getTotalAbles=function(){return S([In,Si,Ci,An],x(this.defaultAbles),!1)},e.prototype.render=function(){var t,e=this.constructor;e.defaultStyled||e.makeStyled();var r=this.props,n=r.ables,a=r.props,s=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}(r,["ables","props"]),u=x(this._updateRefs(!0),2),l=u[0],c=u[1],p=Ai(l,c),d=p.length>1,g=S(S([],x(e.getTotalAbles()),!1),x(n||[]),!1),h=b(b(b({},s),a||{}),{ables:g,cssStyled:e.defaultStyled,customStyledMap:e.customStyledMap});this._elementTargets=p;var v=null,m=this.moveable,y=s.persistData;if((null==y?void 0:y.children)&&(d=!0),s.individualGroupable)return f.createElement(Gi,b({key:"individual-group",ref:(0,i.iH)(this,"moveable")},h,{target:null,targets:p}));if(d){var E=Bi(l,c);if(m&&!m.props.groupable&&!m.props.individualGroupable){var D=m.props.target;D&&p.indexOf(D)>-1&&(v=b({},m.state))}return f.createElement(wi,b({key:"group",ref:(0,i.iH)(this,"moveable")},h,null!==(t=s.groupableProps)&&void 0!==t?t:{},{target:null,targets:p,targetGroups:E,firstRenderState:v}))}var C=p[0];if(m&&(m.props.groupable||m.props.individualGroupable)){var R=m.moveables||[],M=(0,o.sE)(R,(function(t){return t.props.target===C}));M&&(v=b({},M.state))}return f.createElement(xi,b({key:"single",ref:(0,i.iH)(this,"moveable")},h,{target:C,firstRenderState:v}))},e.prototype.componentDidMount=function(){this._checkChangeTargets()},e.prototype.componentDidUpdate=function(){this._checkChangeTargets()},e.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},e.prototype.getTargets=function(){var t,e;return null!==(e=null===(t=this.moveable)||void 0===t?void 0:t.getTargets())&&void 0!==e?e:[]},e.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs()},e.prototype.waitToChangeTarget=function(){var t,e=this;return this._onChangeTargets=function(){e._onChangeTargets=null,t()},new Promise((function(e){t=e}))},e.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},e.prototype.getManager=function(){return this.moveable},e.prototype.getMoveables=function(){return this.moveable.getMoveables()},e.prototype.getDragElement=function(){return this.moveable.getDragElement()},e.prototype._updateRefs=function(t){var e=this.refTargets,r=ln(this.props.target||this.props.targets),n="undefined"!=typeof document,i=_i(e,r),a=this.selectorMap,s={};return this.refTargets.forEach((function t(e){(0,o.HD)(e)?a[e]?s[e]=a[e]:n&&(i=!0,s[e]=[].slice.call(document.querySelectorAll(e))):(0,o.kJ)(e)&&e.forEach(t)})),this._tmpRefTargets=r,this._tmpSelectorMap=s,[r,s,!t&&i]},e.prototype._checkChangeTargets=function(){var t,e,r;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var n=this._differ.update(this._elementTargets),i=n.added,o=n.removed;(i.length||o.length)&&(null===(e=(t=this.props).onChangeTargets)||void 0===e||e.call(t,{moveable:this.moveable,targets:this._elementTargets}),null===(r=this._onChangeTargets)||void 0===r||r.call(this));var a=x(this._updateRefs(),3),s=a[0],u=a[1],l=a[2];this.refTargets=s,this.selectorMap=u,l&&this.forceUpdate()},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);o>3&&a&&Object.defineProperty(e,r,a)}([(0,i.qE)(K)],e.prototype,"moveable",void 0),e}(f.PureComponent),Ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.defaultAbles=Ri,e}(ki)}}]);
//# sourceMappingURL=5c8e84aa-2a8d1a2447c1eebb4bf6.js.map