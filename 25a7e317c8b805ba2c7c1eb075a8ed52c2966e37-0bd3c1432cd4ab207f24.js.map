{"version":3,"sources":["webpack:///./node_modules/grommet/themes/dark.js","webpack:///./node_modules/grommet/themes/index.js","webpack:///./node_modules/grommet/utils/mixins.js","webpack:///./node_modules/grommet/es6/components/DropButton/DropButton.js","webpack:///./node_modules/grommet/es6/contexts/ContainerTargetContext/ContainerTargetContext.js","webpack:///./node_modules/grommet/es6/contexts/ThemeContext/ThemeContext.js","webpack:///./node_modules/grommet/es6/utils/responsive.js","webpack:///./node_modules/grommet/es6/components/Grommet/StyledGrommet.js","webpack:///./node_modules/grommet/es6/components/Grommet/Grommet.js","webpack:///./node_modules/grommet/es6/components/Menu/Menu.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/i18next/dist/esm/i18next.js","webpack:///./src/containers/i18n.js","webpack:///./src/containers/layout.js","webpack:///./node_modules/grommet/es6/utils/DOM.js","webpack:///./node_modules/grommet/themes/base.js","webpack:///./node_modules/grommet/utils/object.js","webpack:///./node_modules/react-desc/lib/PropTypes.js","webpack:///./node_modules/grommet/es6/components/FocusedContainer.js","webpack:///./node_modules/grommet/es6/components/Drop/PortalContext.js","webpack:///./node_modules/grommet/es6/components/Drop/StyledDrop.js","webpack:///./node_modules/grommet/es6/components/Drop/DropContainer.js","webpack:///./node_modules/grommet/es6/components/Drop/Drop.js","webpack:///./node_modules/grommet/utils/colors.js","webpack:///./node_modules/grommet/themes/grommet.js"],"names":["exports","__esModule","dark","_polished","_styledComponents","_object","_colors","statusColors","critical","error","warning","ok","unknown","disabled","colors","active","rgba","background","black","brand","control","light","focus","icon","placeholder","text","white","colorArray","array","prefix","forEach","color","index","Object","keys","deepFreeze","global","drop","border","css","props","normalizeColor","theme","width","font","family","input","weight","anchor","layer","overlay","grommet","generate","base","_base","_grommet","_dark","getAvailableAtBadge","findAllByType","breakpointStyle","fontSize","parseMetricToNum","metric","match","parseFloat","size","lineHeight","Math","ceil","breakpoint","content","value","component","type","matches","push","children","child","concat","availableAt","url","badge","label","toLowerCase","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","defaultDropAlign","top","left","DropButton","_ref","ref","_ref$a11yTitle","a11yTitle","_ref$dropAlign","dropAlign","dropProps","dropContent","dropTarget","id","open","onClick","onClose","onOpen","rest","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","buttonRef","_useState","show","setShow","undefined","onDropClose","event","node","document","current","parentNode","onClickInternal","createElement","Fragment","restrictFocus","align","onClickOutside","onEsc","displayName","DropButtonWrapper","ContainerTargetContext","createContext","body","Extend","Consumer","Provider","propTypes","isRequired","shape","getBreakpoint","windowWidth","result","sortedBreakpoints","breakpoints","sort","a","b","first","second","lastBreakpoint","some","name","getDeviceBreakpoint","deviceBreakpoints","fullStyle","StyledGrommet","div","withConfig","componentId","plain","full","face","extend","cssVars","filter","k","map","join","_assertThisInitialized","self","ReferenceError","_defineProperty","obj","defineProperty","enumerable","configurable","writable","_templateObject","data","strings","raw","slice","_taggedTemplateLiteralLoose","defaultProps","setPrototypeOf","FullGlobalStyle","_Component","subClass","superClass","Grommet","_this","_len","args","Array","_key","_this$state","state","responsive","deviceResponsive","window","innerWidth","setState","create","constructor","__proto__","getDerivedStateFromProps","nextProps","prevState","backgroundProp","dir","_nextProps$theme","themeMode","stateTheme","themeProp","themeModeProp","nextTheme","themeBackground","defaultMode","baseBackground","_proto","componentDidMount","addEventListener","onResize","componentWillUnmount","removeEventListener","userAgent","test","render","_this$props","_this$props$container","containerTarget","_this$state2","tablet","ResponsiveContext","GrommetWrapper","ContainerBox","Box","menu","Menu","dropBackground","justifyContent","items","messages","onKeyDown","iconColor","icons","controlButtonIndex","bottom","buttonRefs","constants","none","tab","controlTop","controlBottom","activeItemIndex","setActiveItemIndex","_useState2","isOpen","setOpen","MenuIcon","up","down","onDropOpen","onSelectMenuItem","preventDefault","stopPropagation","click","isTab","keyCode","which","onNextMenuItem","onPreviousMenuItem","direction","justify","pad","button","gap","Text","controlMirror","flex","Button","r","closeMenu","focusIndicator","hoverIndicator","onFocus","tabIndex","Keyboard","onDown","onUp","onEnter","onSpace","onTab","openMenu","shiftKey","overflow","item","option","reverse","kind","close","MenuWrapper","_typeof","Symbol","iterator","_objectSpread","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","assertThisInitialized","_inherits","consoleLogger","log","output","warn","console","baseLogger","Logger","concreteLogger","options","init","logger","debug","bool","forward","_len2","_key2","_len3","_key3","_len4","_key4","lvl","debugOnly","moduleName","EventEmitter","observers","events","listener","split","l","cloned","observer","_cloned","defer","res","rej","promise","Promise","resolve","reject","makeString","object","copy","s","t","m","getLastOfPath","path","Empty","cleanKey","replace","canNotTraverseDeeper","stack","shift","setPath","newValue","_getLastOfPath","getPath","_getLastOfPath3","getPathWithDefaults","defaultData","deepExtend","overwrite","prop","String","regexEscape","str","_entityMap","isIE10","navigator","_EventEmitter","ResourceStore","ns","defaultNS","keySeparator","splice","lng","silent","addNamespaces","emit","resources","toString","addResource","deep","pack","hasResourceBundle","removeNamespaces","getResource","compatibilityAPI","postProcessor","processors","addPostProcessor","module","handle","translator","processor","process","checkedLoadedFor","Translator","services","language","interpolation","resolved","nsSeparator","namespaces","interpolator","nestingRegexp","parts","lastKey","_this2","overloadTranslationOptionHandler","isArray","_this$extractFromKey","extractFromKey","namespace","appendNamespaceToCIMode","resUsedKey","usedKey","resExactUsedKey","exactUsedKey","resType","noObject","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","copy$$1","newKeyToUse","deepKey","translate","extendTranslation","usedDefault","isValidLookup","defaultValue","count","suffix","pluralResolver","getSuffix","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","missingKeyHandler","backendConnector","saveMissing","needsPluralHandling","saveMissingPlurals","getPluralFormsOfKey","p","appendNamespaceToMissingKey","parseMissingKeyHandler","_this3","parse","usedLng","usedNS","skipInterpolation","nestBef","skipOnVariables","nb","defaultVariables","interpolate","na","nest","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","_this4","extracted","fallbackNS","needsContextHandling","context","codes","utils","hasLoadedNamespace","code","pluralSuffix","possibleKey","finalKey","finalKeys","addLookupKeys","contextSeparator","pop","returnNull","returnEmptyString","resourceStore","capitalize","string","charAt","toUpperCase","LanguageUtil","whitelist","supportedLngs","formatLanguageCode","specialCases","lowerCaseLng","part","cleanCode","deprecate","isSupportedCode","load","nonExplicitSupportedLngs","getLanguagePartFromCode","cleanedLng","lngOnly","find","supportedLng","fallbacks","getScriptPartFromCode","fallbackCode","fallbackCodes","addCode","c","fc","sets","nr","_rulesPluralsTypes","1","n","Number","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","createRules","rules","set","numbers","plurals","PluralResolver","rule","getRule","ret","idx","noAbs","abs","simplifyPluralSuffix","returnSuffix","prepend","compatibilityJSON","Interpolator","format","escapeValue","iOpts","escape","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","regexpStr","regexp","RegExp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","replaces","regexSafe","val","handleFormat","trim","f","missingInterpolationHandler","regex","safeValue","todo","exec","temp","lastIndex","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","JSON","e","formatters","doReduce","includes","elem","reduce","v","Connector","backend","store","queue","languages","callback","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","loaded","errors","err","addResourceBundle","q","_getLastOfPath2","pushPath","arr","what","remove","done","fcName","tried","wait","setTimeout","read","queueLoad","loadOne","prepareLoading","_this5","fallbackValue","isUpdate","get","initImmediate","nonExplicitWhitelist","preload","pluralSeparator","partialBundledLanguages","tDescription","_format","transformOptions","noop","I18n","modules","external","isInitialized","isClone","createClassOnDemand","ClassOrObject","lu","bind","on","languageDetector","detection","storeApi","_this2$store","storeApiChained","_this2$store2","deferred","changeLanguage","usedCallback","append","Error","isLanguageChangingTo","setLng","getBestMatchFromCodes","cacheUserLanguage","loadResources","async","detect","fixedT","opts","_this$translator","_this$translator2","exists","_this6","lastLng","loadNotPending","loadState","precheck","preResult","_this7","preloaded","newLngs","_this8","mergedOptions","clone","membersToCopy","i18n","use","initReactI18next","en","translation","Home","location","max","gridArea","horizontal","vertical","margin","right","navigateTo","fill","min","client","slot","findScrollParent","element","parent","getBoundingClientRect","rect","scrollWidth","height","scrollHeight","tagName","findScrollParents","getBodyChildElements","excludeMatch","getNewContainer","targetChildPosition","container","appendChild","setFocusWithoutScroll","x","scrollX","y","scrollY","scrollTo","makeNodeFocusable","hasAttribute","setAttribute","elements","getElementsByTagName","prior","getAttribute","removeAttribute","autoFocusingTags","makeNodeUnfocusable","findVisibleParent","offsetParent","parentElement","isNodeAfterScroll","isNodeBeforeScroll","_Actions","_ClosedCaption","_Expand","_FormDown","_FormNext","_FormPrevious","_FormUp","_Next","_Pause","_Play","_Previous","_Subtract","_Volume","_VolumeLow","_mixins","accentColors","focusColor","selected","baseSpacing","scale","baseFontSize","fontScale","fontSizing","factor","maxWidth","deepMerge","opacity","animation","duration","jiggle","borderSize","xsmall","small","medium","large","xlarge","edgeSize","hair","xxsmall","phone","computer","controlBorderWidth","radius","debounceDelay","shadowSize","zIndex","responsiveBreakpoint","elevation","shadow","hover","padding","strong","weak","spacing","xxlarge","accordion","panel","side","heading","level","collapse","FormUp","expand","FormDown","textDecoration","fontWeight","avatar","box","borderWidth","transition","timing","properties","calendar","daySize","slideDuration","previous","Previous","next","Next","FormPrevious","FormNext","card","round","header","footer","carousel","Subtract","chart","checkBox","check","thickness","toggle","knob","clock","analog","hour","minute","huge","digital","collapsible","minSpeed","baseline","dateInput","dataTable","groupHeader","groupEnd","ascending","contract","descending","primary","resize","diagram","line","formField","position","help","start","info","list","maskedInput","meter","paragraph","radioButton","radioButtonGroup","rangeInput","track","thumb","rangeSelector","invert","select","step","skipLinks","tabs","table","textArea","textInput","video","captions","closedCaption","ClosedCaption","configure","Actions","fullScreen","Expand","pause","Pause","play","Play","reduceVolume","VolumeLow","volume","Volume","scrubber","worldMap","continent","place","removeUndefined","isObject","freeze","sources","addPropTypeDocumentationField","fieldName","reactDesc","documentedPropType","description","deprecated","PropTypes","custom","definePropType","propTypeObj","required","createPropType","definePropTypeWithArgs","createPropTypeWithArgs","default","isNotAncestorOf","contains","_ref$hidden","hidden","_ref$restrictScroll","restrictScroll","trapFocus","bodyOverflowStyle","setBodyOverflowStyle","timer","style","clearTimeout","PortalContext","dropKeyFrames","StyledDrop","getTransformOriginStyle","alignProp","preventLayerClose","defaultAlign","defaultPortalContext","DropContainer","_ref$align","_ref$overflow","_ref$stretch","stretch","portalContext","portalId","nextPortalContext","dropRef","scrollParents","preserveHeight","windowHeight","innerHeight","maxHeight","targetRect","containerRect","percentVisibleAreaBelow","addScrollListeners","scrollParent","removeScrollListeners","onClickDocument","clickedPortalId","attr","parseInt","as","Drop","_ref$trapFocus","originalFocusedElement","setOriginalFocusedElement","activeElement","dropContainer","setDropContainer","removeChild","DropWrapper","getRGBA","colorIsDark","colorSpec","hexExp","rgbExp","rgbaExp","hslExp","canExtractRGBArray","getRGBArray","_parseHexToRGB","parseHexToRGB","red","green","blue","alpha","_match$splice$map","h","g","hue2rgb","inT","hslToRGB","_getRGBArray","_getRGBArray2"],"mappings":"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","file":"25a7e317c8b805ba2c7c1eb075a8ed52c2966e37-0bd3c1432cd4ab207f24.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.dark = void 0;\n\nvar _polished = require(\"polished\");\n\nvar _styledComponents = require(\"styled-components\");\n\nvar _object = require(\"../utils/object\");\n\nvar _colors = require(\"../utils/colors\");\n\nvar accentColors = ['#FD6FFF', '#60EB9F', '#60EBE1', '#FFCA58'];\nvar neutralColors = ['#EB6060', '#01C781', '#6095EB', '#FFB200'];\nvar statusColors = {\n  critical: '#FF3333',\n  error: '#FF3333',\n  warning: '#F7E464',\n  ok: '#7DD892',\n  unknown: '#a8a8a8',\n  disabled: '#a8a8a8'\n};\nvar backgroundColor = '#111111';\nvar colors = {\n  active: (0, _polished.rgba)(102, 102, 102, 0.5),\n  background: backgroundColor,\n  black: '#000000',\n  brand: '#FD6FFF',\n  control: {\n    dark: '#FFCA58',\n    light: '#403216'\n  },\n  focus: '#FFCA58',\n  icon: {\n    dark: '#f8f8f8',\n    light: '#666666'\n  },\n  placeholder: '#AAAAAA',\n  text: {\n    dark: '#eeeeee',\n    light: '#444444'\n  },\n  white: '#FFFFFF'\n};\n\nvar colorArray = function colorArray(array, prefix) {\n  return array.forEach(function (color, index) {\n    colors[prefix + \"-\" + (index + 1)] = color;\n  });\n};\n\ncolorArray(accentColors, 'accent');\ncolorArray(neutralColors, 'neutral');\nObject.keys(statusColors).forEach(function (color) {\n  colors[\"status-\" + color] = statusColors[color];\n});\nvar dark = (0, _object.deepFreeze)({\n  global: {\n    colors: colors,\n    drop: {\n      background: '#333333'\n    },\n    focus: {\n      border: {\n        color: (0, _styledComponents.css)([\"\", \";\"], function (props) {\n          return (0, _colors.normalizeColor)('focus', props.theme);\n        }),\n        width: '2px'\n      }\n    },\n    font: {\n      family: 'Arial'\n    },\n    input: {\n      weight: 700\n    }\n  },\n  anchor: {\n    color: 'control'\n  },\n  layer: {\n    background: backgroundColor,\n    overlay: {\n      background: (0, _polished.rgba)(48, 48, 48, 0.5)\n    }\n  }\n});\nexports.dark = dark;","\"use strict\";\n\nexports.__esModule = true;\nexports.dark = exports.grommet = exports.generate = exports.base = void 0;\n\nvar _base = require(\"./base\");\n\nexports.base = _base.base;\nexports.generate = _base.generate;\n\nvar _grommet = require(\"./grommet\");\n\nexports.grommet = _grommet.grommet;\n\nvar _dark = require(\"./dark\");\n\nexports.dark = _dark.dark;","\"use strict\";\n\nexports.__esModule = true;\nexports.getAvailableAtBadge = exports.findAllByType = exports.breakpointStyle = exports.fontSize = exports.parseMetricToNum = void 0;\n\nvar _styledComponents = require(\"styled-components\");\n\nvar parseMetricToNum = function parseMetricToNum(metric) {\n  if (typeof metric === 'number') return metric;\n\n  if (metric.match(/\\s/) && process.env.NODE_ENV !== 'production') {\n    console.warn(\"Invalid single measurement value: \\\"\" + metric + \"\\\"\");\n  }\n\n  return parseFloat(metric.match(/\\d+(\\.\\d+)?/), 10);\n};\n\nexports.parseMetricToNum = parseMetricToNum;\n\nvar fontSize = function fontSize(size, lineHeight) {\n  return (0, _styledComponents.css)([\"font-size:\", \";line-height:\", \";\"], function (props) {\n    return parseMetricToNum(size) / parseMetricToNum(props.theme.global.font.size) * 1 + \"rem\";\n  }, function (props) {\n    return lineHeight || Math.ceil(parseMetricToNum(size) / parseMetricToNum(props.theme.global.lineHeight)) * (parseMetricToNum(props.theme.global.lineHeight) / parseMetricToNum(size)) + \"px\";\n  });\n};\n\nexports.fontSize = fontSize;\n\nvar breakpointStyle = function breakpointStyle(breakpoint, content) {\n  return (0, _styledComponents.css)([\"@media only screen \", \"{\", \";}\"], breakpoint.value && \"and (max-width: \" + breakpoint.value + \"px)\", content);\n};\n\nexports.breakpointStyle = breakpointStyle;\n\nvar findAllByType = function findAllByType(component, type) {\n  var matches = [];\n\n  if (component.type === type) {\n    matches.push(component);\n  }\n\n  if (component.children) {\n    component.children.forEach(function (child) {\n      matches = matches.concat(findAllByType(child, type));\n    });\n  }\n\n  return matches;\n};\n\nexports.findAllByType = findAllByType;\n\nvar getAvailableAtBadge = function getAvailableAtBadge(availableAt) {\n  return [{\n    url: \"https://storybook.grommet.io/?selectedKind=\" + availableAt + \"&full=0&addons=0&stories=1&panelRight=0\",\n    badge: 'https://cdn-images-1.medium.com/fit/c/120/120/1*TD1P0HtIH9zF0UEH28zYtw.png',\n    label: 'Storybook'\n  }, {\n    url: \"https://codesandbox.io/s/github/grommet/grommet-sandbox?initialpath=/\" + availableAt.toLowerCase() + \"&module=%2Fsrc%2F\" + availableAt + \".js\",\n    badge: 'https://codesandbox.io/static/img/play-codesandbox.svg',\n    label: 'CodeSandbox'\n  }];\n};\n\nexports.getAvailableAtBadge = getAvailableAtBadge;","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useCallback, useEffect, useState } from 'react';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { useForwardedRef } from '../../utils';\nvar defaultDropAlign = {\n  top: 'top',\n  left: 'left'\n};\nvar DropButton = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$a11yTitle = _ref.a11yTitle,\n      a11yTitle = _ref$a11yTitle === void 0 ? 'Open Drop' : _ref$a11yTitle,\n      disabled = _ref.disabled,\n      _ref$dropAlign = _ref.dropAlign,\n      dropAlign = _ref$dropAlign === void 0 ? defaultDropAlign : _ref$dropAlign,\n      dropProps = _ref.dropProps,\n      dropContent = _ref.dropContent,\n      dropTarget = _ref.dropTarget,\n      id = _ref.id,\n      open = _ref.open,\n      onClick = _ref.onClick,\n      onClose = _ref.onClose,\n      onOpen = _ref.onOpen,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"disabled\", \"dropAlign\", \"dropProps\", \"dropContent\", \"dropTarget\", \"id\", \"open\", \"onClick\", \"onClose\", \"onOpen\"]);\n\n  var buttonRef = useForwardedRef(ref);\n\n  var _useState = useState(),\n      show = _useState[0],\n      setShow = _useState[1];\n\n  useEffect(function () {\n    if (open !== undefined && open !== show) {\n      setShow(open);\n    }\n  }, [open, show]);\n  var onDropClose = useCallback(function (event) {\n    // if the user has clicked on our Button, don't do anything here,\n    // handle that in onClickInternal() below.\n    var node = event.target;\n\n    while (node !== document && node !== buttonRef.current) {\n      node = node.parentNode;\n    }\n\n    if (node !== buttonRef.current) {\n      // don't change internal state if caller is driving\n      if (open === undefined) setShow(false);\n      if (onClose) onClose(event);\n    }\n  }, [buttonRef, onClose, open]);\n  var onClickInternal = useCallback(function (event) {\n    if (!show) {\n      setShow(true);\n      if (onOpen) onOpen(event);\n    } else {\n      setShow(false);\n      if (onClose) onClose(event);\n    }\n\n    if (onClick) onClick(event);\n  }, [onClick, onClose, onOpen, show]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, _extends({\n    id: id,\n    ref: buttonRef,\n    a11yTitle: a11yTitle,\n    disabled: disabled\n  }, rest, {\n    onClick: onClickInternal\n  })), show && buttonRef.current && /*#__PURE__*/React.createElement(Drop, _extends({\n    id: id ? id + \"__drop\" : undefined,\n    restrictFocus: true,\n    align: dropAlign,\n    target: dropTarget || buttonRef.current,\n    onClickOutside: onDropClose,\n    onEsc: onDropClose\n  }, dropProps), dropContent));\n});\nDropButton.displayName = 'DropButton';\nvar DropButtonDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  DropButtonDoc = require('./doc').doc(DropButton);\n}\n\nvar DropButtonWrapper = DropButtonDoc || DropButton;\nexport { DropButtonWrapper as DropButton };","import React from 'react';\nexport var ContainerTargetContext = /*#__PURE__*/React.createContext(typeof document === 'object' ? document.body : undefined);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeContext } from 'styled-components';\nimport { deepMerge } from '../../utils';\n\nThemeContext.Extend = function (_ref) {\n  var children = _ref.children,\n      value = _ref.value;\n  return /*#__PURE__*/React.createElement(ThemeContext.Consumer, null, function (theme) {\n    return /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n      value: deepMerge(theme, value)\n    }, children);\n  });\n};\n\nThemeContext.Extend.propTypes = {\n  children: PropTypes.node.isRequired,\n  value: PropTypes.shape({}).isRequired\n};\nexport { ThemeContext };","export var getBreakpoint = function getBreakpoint(windowWidth, theme) {\n  var result;\n  var sortedBreakpoints = Object.keys(theme.global.breakpoints).sort(function (a, b) {\n    var first = theme.global.breakpoints[a];\n    var second = theme.global.breakpoints[b];\n    if (!first) return 1;\n    if (!second) return -1;\n    if (!first.value) return 1;\n    if (!second.value) return -1;\n    return first.value - second.value;\n  }); // the last breakpoint on the sorted array should have\n  // no windowWidth boundaries\n\n  var lastBreakpoint = sortedBreakpoints[sortedBreakpoints.length - 1];\n  sortedBreakpoints.some(function (name) {\n    var breakpoint = theme.global.breakpoints[name];\n\n    if (breakpoint) {\n      if (!breakpoint.value || breakpoint.value >= windowWidth) {\n        result = name;\n        return true;\n      }\n    }\n\n    return false;\n  });\n  return result || lastBreakpoint;\n};\nexport var getDeviceBreakpoint = function getDeviceBreakpoint(type, theme) {\n  return theme.global.deviceBreakpoints[type];\n};","import styled, { css } from 'styled-components';\nimport { baseStyle } from '../../utils';\nimport { defaultProps } from '../../default-props';\nvar fullStyle = css([\"width:100vw;height:100vh;overflow:auto;\"]);\nvar StyledGrommet = styled.div.withConfig({\n  displayName: \"StyledGrommet\",\n  componentId: \"sc-19lkkz7-0\"\n})([\"\", \" \", \" \", \" \", \" \", \"\"], function (props) {\n  return !props.plain && baseStyle;\n}, function (props) {\n  return props.full && fullStyle;\n}, function (props) {\n  return props.theme.global.font.face;\n}, function (props) {\n  return props.theme.grommet.extend;\n}, function (props) {\n  return props.cssVars && Object.keys(props.theme.global.colors).filter(function (k) {\n    return typeof props.theme.global.colors[k] === 'string';\n  }).map(function (k) {\n    return \"--\" + k + \": \" + props.theme.global.colors[k] + \";\";\n  }).join('\\n');\n});\nStyledGrommet.defaultProps = {};\nObject.setPrototypeOf(StyledGrommet.defaultProps, defaultProps);\nexport { StyledGrommet };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  body { margin: 0; }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}\n\nimport React, { Component } from 'react';\nimport { createGlobalStyle } from 'styled-components';\nimport { ResponsiveContext, ThemeContext, ContainerTargetContext } from '../../contexts';\nimport { backgroundIsDark, deepMerge, getBreakpoint, getDeviceBreakpoint, normalizeColor } from '../../utils';\nimport { base as baseTheme } from '../../themes';\nimport { StyledGrommet } from './StyledGrommet';\nvar FullGlobalStyle = createGlobalStyle(_templateObject());\n\nvar Grommet = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Grommet, _Component);\n\n  function Grommet() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function () {\n      var _this$state = _this.state,\n          theme = _this$state.theme,\n          responsive = _this$state.responsive;\n      var breakpoint; // responsive would be undefined in the case of SSR or initial page load\n\n      if (!responsive) {\n        // In the case of SSR we'll need to use the user agent breakpoint\n        breakpoint = _this.deviceResponsive();\n      } // Initial page load where both responsive and breakpoint are undefined\n\n\n      if (!breakpoint) breakpoint = getBreakpoint(window.innerWidth, theme);\n\n      if (breakpoint !== responsive) {\n        _this.setState({\n          responsive: breakpoint\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  Grommet.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var backgroundProp = nextProps.background,\n        dir = nextProps.dir,\n        _nextProps$theme = nextProps.theme,\n        theme = _nextProps$theme === void 0 ? {} : _nextProps$theme,\n        themeMode = nextProps.themeMode;\n    var stateTheme = prevState.theme,\n        themeProp = prevState.themeProp,\n        themeModeProp = prevState.themeModeProp;\n    var nextTheme = deepMerge(baseTheme, theme);\n\n    if (!stateTheme || theme !== themeProp || themeMode !== themeModeProp) {\n      var themeBackground = nextTheme.global.colors.background; // get initial value for dark so we can normalize background color\n\n      nextTheme.dark = (themeMode || theme.defaultMode) === 'dark';\n      var color = normalizeColor(backgroundProp || themeBackground, nextTheme); // After normalizing, we set nextTheme.dark once more.\n      // It is necessary that we set it twice. We have to handle two cases:\n      // 1. Caller passes in a color object or a color name that resolves an\n      //    object. In this case, we want to set dark as line 38 shows. The\n      //    second set, in line 46, is a no-op.\n      // 2. Caller passes a specific color value or a color name that resolves\n      //    to a specific color value. In this case, we want dark to be set\n      //    based on that color, which line 46 will do.\n      // The double set of nextTheme.dark allows us to handle both cases here\n      // without having to duplicate color object + name + dark mode detection\n      // code here that is already in normalizeColor and backgroundIsDark.\n\n      nextTheme.dark = backgroundIsDark(color, nextTheme);\n      nextTheme.baseBackground = backgroundProp || themeBackground;\n\n      if (dir) {\n        nextTheme.dir = dir;\n      }\n\n      return {\n        theme: nextTheme,\n        themeProp: theme,\n        themeModeProp: themeMode\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = Grommet.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('resize', this.onResize);\n    this.onResize();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n  };\n\n  _proto.deviceResponsive = function deviceResponsive() {\n    var userAgent = this.props.userAgent;\n    var theme = this.state.theme;\n    /*\n     * Regexes provided for mobile and tablet detection are meant to replace\n     * a full-featured specific library due to contributing a considerable size\n     * into the bundle.\n     *\n     * User agents found https://deviceatlas.com/blog/list-of-user-agent-strings\n     */\n\n    if (userAgent) {\n      if (/(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(userAgent)) {\n        return getDeviceBreakpoint('tablet', theme);\n      }\n\n      if (/Mobile|iPhone|Android/.test(userAgent)) {\n        return getDeviceBreakpoint('phone', theme);\n      }\n\n      return getDeviceBreakpoint('computer', theme);\n    }\n\n    return undefined;\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        full = _this$props.full,\n        _this$props$container = _this$props.containerTarget,\n        containerTarget = _this$props$container === void 0 ? typeof document === 'object' ? document.body : undefined : _this$props$container,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"full\", \"containerTarget\"]);\n\n    delete rest.theme;\n    var _this$state2 = this.state,\n        theme = _this$state2.theme,\n        stateResponsive = _this$state2.responsive; // Value from state should be correct once we resize\n    // On first render we try to guess otherwise set the default as a tablet\n\n    var responsive = stateResponsive || this.deviceResponsive() || theme.global.deviceBreakpoints.tablet;\n    return /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n      value: theme\n    }, /*#__PURE__*/React.createElement(ResponsiveContext.Provider, {\n      value: responsive\n    }, /*#__PURE__*/React.createElement(ContainerTargetContext.Provider, {\n      value: containerTarget\n    }, /*#__PURE__*/React.createElement(StyledGrommet, _extends({\n      full: full\n    }, rest), children), full && /*#__PURE__*/React.createElement(FullGlobalStyle, null))));\n  };\n\n  return Grommet;\n}(Component);\n\n_defineProperty(Grommet, \"displayName\", 'Grommet');\n\nvar GrommetDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  GrommetDoc = require('./doc').doc(Grommet);\n}\n\nvar GrommetWrapper = GrommetDoc || Grommet;\nexport { GrommetWrapper as Grommet };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useCallback, useContext, useMemo, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport PropTypes from 'react-desc/lib/PropTypes';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { normalizeColor } from '../../utils';\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"Menu__ContainerBox\",\n  componentId: \"sc-17fcys9-0\"\n})([\"max-height:inherit;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}\", \";\"], function (props) {\n  return props.theme.menu.extend;\n});\n/* Notes on keyboard interactivity (based on W3) // For details reference: https://www.w3.org/TR/wai-aria-practices/#menu\n\nTo open menu when menu button is focused:\n- Space/Enter/Up arrow/Down arrow will open menu\n\nTo navigate within menu:\n- Up/down arrow keys can be used and will loop through options\n(keeping focus within the Menu)\n- Tab can be used, but once the last menu item is reached, Tab will close the\nMenu and continue through page content.\n\nTo close the menu:\n- Tabbing beyond the first or last menu item.\n- Esc will close the menu\n- Select a menu item\n\nTo make a selection:\n- Enter key is pressed.\n- Space is pressed.\n*/\n\nvar Menu = /*#__PURE__*/forwardRef(function (props, ref) {\n  var a11yTitle = props.a11yTitle,\n      children = props.children,\n      disabled = props.disabled,\n      dropAlign = props.dropAlign,\n      dropBackground = props.dropBackground,\n      dropProps = props.dropProps,\n      dropTarget = props.dropTarget,\n      justifyContent = props.justifyContent,\n      icon = props.icon,\n      items = props.items,\n      label = props.label,\n      messages = props.messages,\n      onKeyDown = props.onKeyDown,\n      open = props.open,\n      plain = props.plain,\n      size = props.size,\n      rest = _objectWithoutPropertiesLoose(props, [\"a11yTitle\", \"children\", \"disabled\", \"dropAlign\", \"dropBackground\", \"dropProps\", \"dropTarget\", \"justifyContent\", \"icon\", \"items\", \"label\", \"messages\", \"onKeyDown\", \"open\", \"plain\", \"size\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var iconColor = normalizeColor(theme.menu.icons.color || 'control', theme);\n  var align = dropProps.align || dropAlign;\n  var controlButtonIndex = useMemo(function () {\n    if (align.top === 'top') return -1;\n    if (align.bottom === 'bottom') return items.length;\n    return undefined;\n  }, [align, items]);\n  var buttonRefs = {};\n  var constants = useMemo(function () {\n    return {\n      none: 'none',\n      tab: 9,\n      // Menu control button included on top of menu items\n      controlTop: align.top === 'top' || undefined,\n      // Menu control button included on the bottom of menu items\n      controlBottom: align.bottom === 'bottom' || undefined,\n      controlButtonIndex: controlButtonIndex\n    };\n  }, [align, controlButtonIndex]);\n\n  var _useState = useState(constants.none),\n      activeItemIndex = _useState[0],\n      setActiveItemIndex = _useState[1];\n\n  var _useState2 = useState(open || false),\n      isOpen = _useState2[0],\n      setOpen = _useState2[1];\n\n  var MenuIcon = isOpen && theme.menu.icons.up ? theme.menu.icons.up : theme.menu.icons.down;\n  var onDropClose = useCallback(function () {\n    setActiveItemIndex(constants.none);\n    setOpen(false);\n  }, [constants.none]);\n  var onDropOpen = useCallback(function () {\n    setOpen(true);\n  }, []);\n\n  var onSelectMenuItem = function onSelectMenuItem(event) {\n    if (isOpen) {\n      if (activeItemIndex >= 0) {\n        event.preventDefault();\n        event.stopPropagation();\n        buttonRefs[activeItemIndex].click();\n      }\n    } else {\n      onDropOpen();\n    }\n  };\n\n  var isTab = function isTab(event) {\n    return event.keyCode === constants.tab || event.which === constants.tab;\n  };\n\n  var onNextMenuItem = function onNextMenuItem(event) {\n    event.preventDefault();\n\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (!constants.controlBottom && activeItemIndex === items.length - 1 || constants.controlBottom && activeItemIndex === controlButtonIndex)) {\n      // User has reached end of the menu, this tab will close\n      // the menu drop because there are no more \"next items\" to access\n      onDropClose();\n    } else {\n      var index;\n\n      if ( // This checks if the user has reached the end of the menu.\n      // In the case the the menu control button is located at the\n      // bottom of the menu, it checks if the user has reached the button.\n      // Otherwise, it checks if the user is at the last menu item.\n      constants.controlBottom && activeItemIndex === controlButtonIndex || !constants.controlBottom && activeItemIndex === items.length - 1 || activeItemIndex === constants.none) {\n        // place focus on the first menu item\n        index = 0;\n      } else {\n        index = activeItemIndex + 1;\n      }\n\n      setActiveItemIndex(index);\n      buttonRefs[index].focus();\n    }\n  };\n\n  var onPreviousMenuItem = function onPreviousMenuItem(event) {\n    event.preventDefault();\n\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (constants.controlTop && activeItemIndex === controlButtonIndex || !constants.controlTop && activeItemIndex - 1 < 0)) {\n      // User has reached beginning of the menu, this tab will close\n      // the menu drop because there are no more \"previous items\" to access\n      onDropClose();\n    } else {\n      var index;\n\n      if (activeItemIndex - 1 < 0) {\n        if (constants.controlTop && activeItemIndex - 1 === controlButtonIndex) {\n          index = items.length;\n        } else {\n          index = items.length - 1;\n        }\n      } else {\n        index = activeItemIndex - 1;\n      }\n\n      setActiveItemIndex(index);\n      buttonRefs[index].focus();\n    }\n  };\n\n  var content = children || /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    justify: justifyContent,\n    align: \"center\",\n    pad: theme.button[\"default\"] ? undefined : 'small',\n    gap: label && icon !== false ? 'small' : undefined\n  }, /*#__PURE__*/React.createElement(Text, {\n    size: size\n  }, label), icon !== false ? icon !== true && icon || /*#__PURE__*/React.createElement(MenuIcon, {\n    color: iconColor,\n    size: size\n  }) : null);\n  var controlMirror = /*#__PURE__*/React.createElement(Box, {\n    flex: false\n  }, /*#__PURE__*/React.createElement(Button, {\n    ref: function ref(r) {\n      // make it accessible at the end of all menu items\n      buttonRefs[items.length] = r;\n    },\n    a11yTitle: a11yTitle || messages.closeMenu || 'Close Menu',\n    active: activeItemIndex === controlButtonIndex,\n    focusIndicator: false,\n    hoverIndicator: \"background\",\n    plain: plain,\n    onClick: onDropClose,\n    onFocus: function onFocus() {\n      return setActiveItemIndex(controlButtonIndex);\n    } // On first tab into menu, the control button should not\n    // be able to receive tab focus because the focus should\n    // go to the first menu item instead.\n    ,\n    tabIndex: activeItemIndex === constants.none ? '-1' : undefined\n  }, typeof content === 'function' ? function () {\n    return content(_extends({}, props, {\n      drop: true\n    }));\n  } : content));\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onNextMenuItem,\n    onUp: onPreviousMenuItem,\n    onEnter: onSelectMenuItem,\n    onSpace: onSelectMenuItem,\n    onEsc: onDropClose,\n    onTab: onDropClose,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(DropButton, _extends({\n    ref: ref\n  }, rest, {\n    a11yTitle: a11yTitle || messages.openMenu || 'Open Menu',\n    disabled: disabled,\n    dropAlign: align,\n    dropTarget: dropTarget,\n    dropProps: dropProps,\n    plain: plain,\n    open: isOpen,\n    onOpen: onDropOpen,\n    onClose: onDropClose,\n    dropContent: /*#__PURE__*/React.createElement(Keyboard, {\n      onTab: function onTab(event) {\n        return event.shiftKey ? onPreviousMenuItem(event) : onNextMenuItem(event);\n      },\n      onEnter: onSelectMenuItem\n    }, /*#__PURE__*/React.createElement(ContainerBox, {\n      background: dropBackground || theme.menu.background\n    }, align.top === 'top' ? controlMirror : undefined, /*#__PURE__*/React.createElement(Box, {\n      overflow: \"auto\"\n    }, items.map(function (item, index) {\n      // Determine whether the label is done as a child or\n      // as an option Button kind property.\n      var child = !theme.button.option ? /*#__PURE__*/React.createElement(Box, {\n        align: \"start\",\n        pad: \"small\",\n        direction: \"row\",\n        gap: item.gap\n      }, item.reverse && item.label, item.icon, !item.reverse && item.label) : undefined; // if we have a child, turn on plain, and hoverIndicator\n\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line react/no-array-index-key\n        React.createElement(Box, {\n          key: index,\n          flex: false\n        }, /*#__PURE__*/React.createElement(Button, _extends({\n          ref: function ref(r) {\n            buttonRefs[index] = r;\n          },\n          onFocus: function onFocus() {\n            return setActiveItemIndex(index);\n          },\n          active: activeItemIndex === index,\n          focusIndicator: false,\n          plain: !child ? undefined : true,\n          align: \"start\",\n          kind: !child ? 'option' : undefined,\n          hoverIndicator: !child ? undefined : 'background'\n        }, !child ? item : _extends({}, item, {\n          gap: undefined,\n          icon: undefined,\n          label: undefined,\n          reverse: undefined\n        }), {\n          onClick: function onClick() {\n            if (item.onClick) {\n              item.onClick.apply(item, arguments);\n            }\n\n            if (item.close !== false) {\n              onDropClose();\n            }\n          }\n        }), child))\n      );\n    })), align.bottom === 'bottom' ? controlMirror : undefined))\n  }), content));\n});\nMenu.defaultProps = {\n  dropAlign: {\n    top: 'top',\n    left: 'left'\n  },\n  dropProps: {},\n  items: [],\n  messages: {\n    openMenu: 'Open Menu',\n    closeMenu: 'Close Menu'\n  },\n  justifyContent: 'start'\n};\nMenu.displayName = 'Menu';\nvar MenuDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  MenuDoc = require('./doc').doc(Menu); // eslint-disable-line global-require\n}\n\nvar MenuWrapper = MenuDoc || Menu;\nexport { MenuWrapper as Menu };","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from '@babel/runtime/helpers/esm/typeof';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nvar consoleLogger = {\n  type: 'logger',\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\n\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Logger);\n\n    this.init(concreteLogger, options);\n  }\n\n  _createClass(Logger, [{\n    key: \"init\",\n    value: function init(concreteLogger) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.prefix = options.prefix || 'i18next:';\n      this.logger = concreteLogger || consoleLogger;\n      this.options = options;\n      this.debug = options.debug;\n    }\n  }, {\n    key: \"setDebug\",\n    value: function setDebug(bool) {\n      this.debug = bool;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.forward(args, 'log', '', true);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.forward(args, 'warn', '', true);\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return this.forward(args, 'error', '');\n    }\n  }, {\n    key: \"deprecate\",\n    value: function deprecate() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n    }\n  }, {\n    key: \"forward\",\n    value: function forward(args, lvl, prefix, debugOnly) {\n      if (debugOnly && !this.debug) return null;\n      if (typeof args[0] === 'string') args[0] = \"\".concat(prefix).concat(this.prefix, \" \").concat(args[0]);\n      return this.logger[lvl](args);\n    }\n  }, {\n    key: \"create\",\n    value: function create(moduleName) {\n      return new Logger(this.logger, _objectSpread({}, {\n        prefix: \"\".concat(this.prefix, \":\").concat(moduleName, \":\")\n      }, this.options));\n    }\n  }]);\n\n  return Logger;\n}();\n\nvar baseLogger = new Logger();\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.observers = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(events, listener) {\n      var _this = this;\n\n      events.split(' ').forEach(function (event) {\n        _this.observers[event] = _this.observers[event] || [];\n\n        _this.observers[event].push(listener);\n      });\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      if (!this.observers[event]) return;\n\n      if (!listener) {\n        delete this.observers[event];\n        return;\n      }\n\n      this.observers[event] = this.observers[event].filter(function (l) {\n        return l !== listener;\n      });\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (this.observers[event]) {\n        var cloned = [].concat(this.observers[event]);\n        cloned.forEach(function (observer) {\n          observer.apply(void 0, args);\n        });\n      }\n\n      if (this.observers['*']) {\n        var _cloned = [].concat(this.observers['*']);\n\n        _cloned.forEach(function (observer) {\n          observer.apply(observer, [event].concat(args));\n        });\n      }\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nfunction defer() {\n  var res;\n  var rej;\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\n\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\n\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    object = object[key];\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath.obj,\n      k = _getLastOfPath.k;\n\n  obj[k] = newValue;\n}\n\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath2.obj,\n      k = _getLastOfPath2.k;\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\n\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n      obj = _getLastOfPath3.obj,\n      k = _getLastOfPath3.k;\n\n  if (!obj) return undefined;\n  return obj[k];\n}\n\nfunction getPathWithDefaults(data, defaultData, key) {\n  var value = getPath(data, key);\n\n  if (value !== undefined) {\n    return value;\n  }\n\n  return getPath(defaultData, key);\n}\n\nfunction deepExtend(target, source, overwrite) {\n  for (var prop in source) {\n    if (prop !== '__proto__') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n\n  return target;\n}\n\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\n\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n\n  return data;\n}\n\nvar isIE10 = typeof window !== 'undefined' && window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1;\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore(data) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n\n    _classCallCheck(this, ResourceStore);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResourceStore).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.data = data || {};\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    return _this;\n  }\n\n  _createClass(ResourceStore, [{\n    key: \"addNamespaces\",\n    value: function addNamespaces(ns) {\n      if (this.options.ns.indexOf(ns) < 0) {\n        this.options.ns.push(ns);\n      }\n    }\n  }, {\n    key: \"removeNamespaces\",\n    value: function removeNamespaces(ns) {\n      var index = this.options.ns.indexOf(ns);\n\n      if (index > -1) {\n        this.options.ns.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(lng, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var path = [lng, ns];\n      if (key && typeof key !== 'string') path = path.concat(key);\n      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n      }\n\n      return getPath(this.data, path);\n    }\n  }, {\n    key: \"addResource\",\n    value: function addResource(lng, ns, key, value) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        silent: false\n      };\n      var keySeparator = this.options.keySeparator;\n      if (keySeparator === undefined) keySeparator = '.';\n      var path = [lng, ns];\n      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        value = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      setPath(this.data, path, value);\n      if (!options.silent) this.emit('added', lng, ns, key, value);\n    }\n  }, {\n    key: \"addResources\",\n    value: function addResources(lng, ns, resources) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        silent: false\n      };\n\n      for (var m in resources) {\n        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n          silent: true\n        });\n      }\n\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"addResourceBundle\",\n    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n        silent: false\n      };\n      var path = [lng, ns];\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        deep = resources;\n        resources = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      var pack = getPath(this.data, path) || {};\n\n      if (deep) {\n        deepExtend(pack, resources, overwrite);\n      } else {\n        pack = _objectSpread({}, pack, resources);\n      }\n\n      setPath(this.data, path, pack);\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"removeResourceBundle\",\n    value: function removeResourceBundle(lng, ns) {\n      if (this.hasResourceBundle(lng, ns)) {\n        delete this.data[lng][ns];\n      }\n\n      this.removeNamespaces(ns);\n      this.emit('removed', lng, ns);\n    }\n  }, {\n    key: \"hasResourceBundle\",\n    value: function hasResourceBundle(lng, ns) {\n      return this.getResource(lng, ns) !== undefined;\n    }\n  }, {\n    key: \"getResourceBundle\",\n    value: function getResourceBundle(lng, ns) {\n      if (!ns) ns = this.options.defaultNS;\n      if (this.options.compatibilityAPI === 'v1') return _objectSpread({}, {}, this.getResource(lng, ns));\n      return this.getResource(lng, ns);\n    }\n  }, {\n    key: \"getDataByLanguage\",\n    value: function getDataByLanguage(lng) {\n      return this.data[lng];\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.data;\n    }\n  }]);\n\n  return ResourceStore;\n}(EventEmitter);\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\nvar checkedLoadedFor = {};\n\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  function Translator(services) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Translator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Translator).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, _assertThisInitialized(_this));\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n\n  _createClass(Translator, [{\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng) {\n      if (lng) this.language = lng;\n    }\n  }, {\n    key: \"exists\",\n    value: function exists(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      var resolved = this.resolve(key, options);\n      return resolved && resolved.res !== undefined;\n    }\n  }, {\n    key: \"extractFromKey\",\n    value: function extractFromKey(key, options) {\n      var nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n      if (nsSeparator === undefined) nsSeparator = ':';\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var namespaces = options.ns || this.options.defaultNS;\n\n      if (nsSeparator && key.indexOf(nsSeparator) > -1) {\n        var m = key.match(this.interpolator.nestingRegexp);\n\n        if (m && m.length > 0) {\n          return {\n            key: key,\n            namespaces: namespaces\n          };\n        }\n\n        var parts = key.split(nsSeparator);\n        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n        key = parts.join(keySeparator);\n      }\n\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      return {\n        key: key,\n        namespaces: namespaces\n      };\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(keys, options, lastKey) {\n      var _this2 = this;\n\n      if (_typeof(options) !== 'object' && this.options.overloadTranslationOptionHandler) {\n        options = this.options.overloadTranslationOptionHandler(arguments);\n      }\n\n      if (!options) options = {};\n      if (keys === undefined || keys === null) return '';\n      if (!Array.isArray(keys)) keys = [String(keys)];\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n          key = _this$extractFromKey.key,\n          namespaces = _this$extractFromKey.namespaces;\n\n      var namespace = namespaces[namespaces.length - 1];\n      var lng = options.lng || this.language;\n      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n\n      if (lng && lng.toLowerCase() === 'cimode') {\n        if (appendNamespaceToCIMode) {\n          var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n          return namespace + nsSeparator + key;\n        }\n\n        return key;\n      }\n\n      var resolved = this.resolve(keys, options);\n      var res = resolved && resolved.res;\n      var resUsedKey = resolved && resolved.usedKey || key;\n      var resExactUsedKey = resolved && resolved.exactUsedKey || key;\n      var resType = Object.prototype.toString.apply(res);\n      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n\n      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n        if (!options.returnObjects && !this.options.returnObjects) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n          return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, options) : \"key '\".concat(key, \" (\").concat(this.language, \")' returned an object instead of string.\");\n        }\n\n        if (keySeparator) {\n          var resTypeIsArray = resType === '[object Array]';\n          var copy$$1 = resTypeIsArray ? [] : {};\n          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n\n          for (var m in res) {\n            if (Object.prototype.hasOwnProperty.call(res, m)) {\n              var deepKey = \"\".concat(newKeyToUse).concat(keySeparator).concat(m);\n              copy$$1[m] = this.translate(deepKey, _objectSpread({}, options, {\n                joinArrays: false,\n                ns: namespaces\n              }));\n              if (copy$$1[m] === deepKey) copy$$1[m] = res[m];\n            }\n          }\n\n          res = copy$$1;\n        }\n      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, keys, options, lastKey);\n      } else {\n        var usedDefault = false;\n        var usedKey = false;\n\n        if (!this.isValidLookup(res) && options.defaultValue !== undefined) {\n          usedDefault = true;\n\n          if (options.count !== undefined) {\n            var suffix = this.pluralResolver.getSuffix(lng, options.count);\n            res = options[\"defaultValue\".concat(suffix)];\n          }\n\n          if (!res) res = options.defaultValue;\n        }\n\n        if (!this.isValidLookup(res)) {\n          usedKey = true;\n          res = key;\n        }\n\n        var updateMissing = options.defaultValue && options.defaultValue !== res && this.options.updateMissing;\n\n        if (usedKey || usedDefault || updateMissing) {\n          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? options.defaultValue : res);\n\n          if (keySeparator) {\n            var fk = this.resolve(key, _objectSpread({}, options, {\n              keySeparator: false\n            }));\n            if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n          }\n\n          var lngs = [];\n          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n\n          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n            for (var i = 0; i < fallbackLngs.length; i++) {\n              lngs.push(fallbackLngs[i]);\n            }\n          } else if (this.options.saveMissingTo === 'all') {\n            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n          } else {\n            lngs.push(options.lng || this.language);\n          }\n\n          var send = function send(l, k) {\n            if (_this2.options.missingKeyHandler) {\n              _this2.options.missingKeyHandler(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);\n            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {\n              _this2.backendConnector.saveMissing(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);\n            }\n\n            _this2.emit('missingKey', l, namespace, k, res);\n          };\n\n          if (this.options.saveMissing) {\n            var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n\n            if (this.options.saveMissingPlurals && needsPluralHandling) {\n              lngs.forEach(function (l) {\n                var plurals = _this2.pluralResolver.getPluralFormsOfKey(l, key);\n\n                plurals.forEach(function (p) {\n                  return send([l], p);\n                });\n              });\n            } else {\n              send(lngs, key);\n            }\n          }\n        }\n\n        res = this.extendTranslation(res, keys, options, resolved, lastKey);\n        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = \"\".concat(namespace, \":\").concat(key);\n        if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"extendTranslation\",\n    value: function extendTranslation(res, key, options, resolved, lastKey) {\n      var _this3 = this;\n\n      if (this.i18nFormat && this.i18nFormat.parse) {\n        res = this.i18nFormat.parse(res, options, resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n          resolved: resolved\n        });\n      } else if (!options.skipInterpolation) {\n        if (options.interpolation) this.interpolator.init(_objectSpread({}, options, {\n          interpolation: _objectSpread({}, this.options.interpolation, options.interpolation)\n        }));\n        var skipOnVariables = options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;\n        var nestBef;\n\n        if (skipOnVariables) {\n          var nb = res.match(this.interpolator.nestingRegexp);\n          nestBef = nb && nb.length;\n        }\n\n        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n        if (this.options.interpolation.defaultVariables) data = _objectSpread({}, this.options.interpolation.defaultVariables, data);\n        res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n\n        if (skipOnVariables) {\n          var na = res.match(this.interpolator.nestingRegexp);\n          var nestAft = na && na.length;\n          if (nestBef < nestAft) options.nest = false;\n        }\n\n        if (options.nest !== false) res = this.interpolator.nest(res, function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          if (lastKey && lastKey[0] === args[0]) {\n            _this3.logger.warn(\"It seems you are nesting recursively key: \".concat(args[0], \" in key: \").concat(key[0]));\n\n            return null;\n          }\n\n          return _this3.translate.apply(_this3, args.concat([key]));\n        }, options);\n        if (options.interpolation) this.interpolator.reset();\n      }\n\n      var postProcess = options.postProcess || this.options.postProcess;\n      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? _objectSpread({\n          i18nResolved: resolved\n        }, options) : options, this);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(keys) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var found;\n      var usedKey;\n      var exactUsedKey;\n      var usedLng;\n      var usedNS;\n      if (typeof keys === 'string') keys = [keys];\n      keys.forEach(function (k) {\n        if (_this4.isValidLookup(found)) return;\n\n        var extracted = _this4.extractFromKey(k, options);\n\n        var key = extracted.key;\n        usedKey = key;\n        var namespaces = extracted.namespaces;\n        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';\n        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);\n        namespaces.forEach(function (ns) {\n          if (_this4.isValidLookup(found)) return;\n          usedNS = ns;\n\n          if (!checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] && _this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {\n            checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] = true;\n\n            _this4.logger.warn(\"key \\\"\".concat(usedKey, \"\\\" for languages \\\"\").concat(codes.join(', '), \"\\\" won't get resolved as namespace \\\"\").concat(usedNS, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n          }\n\n          codes.forEach(function (code) {\n            if (_this4.isValidLookup(found)) return;\n            usedLng = code;\n            var finalKey = key;\n            var finalKeys = [finalKey];\n\n            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {\n              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n            } else {\n              var pluralSuffix;\n              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count);\n              if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);\n              if (needsContextHandling) finalKeys.push(finalKey += \"\".concat(_this4.options.contextSeparator).concat(options.context));\n              if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);\n            }\n\n            var possibleKey;\n\n            while (possibleKey = finalKeys.pop()) {\n              if (!_this4.isValidLookup(found)) {\n                exactUsedKey = possibleKey;\n                found = _this4.getResource(code, ns, possibleKey, options);\n              }\n            }\n          });\n        });\n      });\n      return {\n        res: found,\n        usedKey: usedKey,\n        exactUsedKey: exactUsedKey,\n        usedLng: usedLng,\n        usedNS: usedNS\n      };\n    }\n  }, {\n    key: \"isValidLookup\",\n    value: function isValidLookup(res) {\n      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(code, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n      return this.resourceStore.getResource(code, ns, key, options);\n    }\n  }]);\n\n  return Translator;\n}(EventEmitter);\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n    this.whitelist = this.options.supportedLngs || false;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  _createClass(LanguageUtil, [{\n    key: \"getScriptPartFromCode\",\n    value: function getScriptPartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return null;\n      var p = code.split('-');\n      if (p.length === 2) return null;\n      p.pop();\n      if (p[p.length - 1].toLowerCase() === 'x') return null;\n      return this.formatLanguageCode(p.join('-'));\n    }\n  }, {\n    key: \"getLanguagePartFromCode\",\n    value: function getLanguagePartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return code;\n      var p = code.split('-');\n      return this.formatLanguageCode(p[0]);\n    }\n  }, {\n    key: \"formatLanguageCode\",\n    value: function formatLanguageCode(code) {\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n        var p = code.split('-');\n\n        if (this.options.lowerCaseLng) {\n          p = p.map(function (part) {\n            return part.toLowerCase();\n          });\n        } else if (p.length === 2) {\n          p[0] = p[0].toLowerCase();\n          p[1] = p[1].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        } else if (p.length === 3) {\n          p[0] = p[0].toLowerCase();\n          if (p[1].length === 2) p[1] = p[1].toUpperCase();\n          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n        }\n\n        return p.join('-');\n      }\n\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  }, {\n    key: \"isWhitelisted\",\n    value: function isWhitelisted(code) {\n      this.logger.deprecate('languageUtils.isWhitelisted', 'function \"isWhitelisted\" will be renamed to \"isSupportedCode\" in the next major - please make sure to rename it\\'s usage asap.');\n      return this.isSupportedCode(code);\n    }\n  }, {\n    key: \"isSupportedCode\",\n    value: function isSupportedCode(code) {\n      if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n        code = this.getLanguagePartFromCode(code);\n      }\n\n      return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n    }\n  }, {\n    key: \"getBestMatchFromCodes\",\n    value: function getBestMatchFromCodes(codes) {\n      var _this = this;\n\n      if (!codes) return null;\n      var found;\n      codes.forEach(function (code) {\n        if (found) return;\n\n        var cleanedLng = _this.formatLanguageCode(code);\n\n        if (!_this.options.supportedLngs || _this.isSupportedCode(cleanedLng)) found = cleanedLng;\n      });\n\n      if (!found && this.options.supportedLngs) {\n        codes.forEach(function (code) {\n          if (found) return;\n\n          var lngOnly = _this.getLanguagePartFromCode(code);\n\n          if (_this.isSupportedCode(lngOnly)) return found = lngOnly;\n          found = _this.options.supportedLngs.find(function (supportedLng) {\n            if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n          });\n        });\n      }\n\n      if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n      return found;\n    }\n  }, {\n    key: \"getFallbackCodes\",\n    value: function getFallbackCodes(fallbacks, code) {\n      if (!fallbacks) return [];\n      if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n      if (!code) return fallbacks[\"default\"] || [];\n      var found = fallbacks[code];\n      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n      if (!found) found = fallbacks[this.formatLanguageCode(code)];\n      if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n      if (!found) found = fallbacks[\"default\"];\n      return found || [];\n    }\n  }, {\n    key: \"toResolveHierarchy\",\n    value: function toResolveHierarchy(code, fallbackCode) {\n      var _this2 = this;\n\n      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n      var codes = [];\n\n      var addCode = function addCode(c) {\n        if (!c) return;\n\n        if (_this2.isSupportedCode(c)) {\n          codes.push(c);\n        } else {\n          _this2.logger.warn(\"rejecting language code not found in supportedLngs: \".concat(c));\n        }\n      };\n\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n      } else if (typeof code === 'string') {\n        addCode(this.formatLanguageCode(code));\n      }\n\n      fallbackCodes.forEach(function (fc) {\n        if (codes.indexOf(fc) < 0) addCode(_this2.formatLanguageCode(fc));\n      });\n      return codes;\n    }\n  }]);\n\n  return LanguageUtil;\n}();\n\nvar sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\n\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    this.rules = createRules();\n  }\n\n  _createClass(PluralResolver, [{\n    key: \"addRule\",\n    value: function addRule(lng, obj) {\n      this.rules[lng] = obj;\n    }\n  }, {\n    key: \"getRule\",\n    value: function getRule(code) {\n      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n  }, {\n    key: \"needsPlural\",\n    value: function needsPlural(code) {\n      var rule = this.getRule(code);\n      return rule && rule.numbers.length > 1;\n    }\n  }, {\n    key: \"getPluralFormsOfKey\",\n    value: function getPluralFormsOfKey(code, key) {\n      var _this = this;\n\n      var ret = [];\n      var rule = this.getRule(code);\n      if (!rule) return ret;\n      rule.numbers.forEach(function (n) {\n        var suffix = _this.getSuffix(code, n);\n\n        ret.push(\"\".concat(key).concat(suffix));\n      });\n      return ret;\n    }\n  }, {\n    key: \"getSuffix\",\n    value: function getSuffix(code, count) {\n      var _this2 = this;\n\n      var rule = this.getRule(code);\n\n      if (rule) {\n        var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n        var suffix = rule.numbers[idx];\n\n        if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          if (suffix === 2) {\n            suffix = 'plural';\n          } else if (suffix === 1) {\n            suffix = '';\n          }\n        }\n\n        var returnSuffix = function returnSuffix() {\n          return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();\n        };\n\n        if (this.options.compatibilityJSON === 'v1') {\n          if (suffix === 1) return '';\n          if (typeof suffix === 'number') return \"_plural_\".concat(suffix.toString());\n          return returnSuffix();\n        } else if (this.options.compatibilityJSON === 'v2') {\n          return returnSuffix();\n        } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          return returnSuffix();\n        }\n\n        return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n      }\n\n      this.logger.warn(\"no plural rule found for: \".concat(code));\n      return '';\n    }\n  }]);\n\n  return PluralResolver;\n}();\n\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n\n    this.format = options.interpolation && options.interpolation.format || function (value) {\n      return value;\n    };\n\n    this.init(options);\n  }\n\n  _createClass(Interpolator, [{\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!options.interpolation) options.interpolation = {\n        escapeValue: true\n      };\n      var iOpts = options.interpolation;\n      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n      this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n      this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n      this.resetRegExp();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.options) this.init(this.options);\n    }\n  }, {\n    key: \"resetRegExp\",\n    value: function resetRegExp() {\n      var regexpStr = \"\".concat(this.prefix, \"(.+?)\").concat(this.suffix);\n      this.regexp = new RegExp(regexpStr, 'g');\n      var regexpUnescapeStr = \"\".concat(this.prefix).concat(this.unescapePrefix, \"(.+?)\").concat(this.unescapeSuffix).concat(this.suffix);\n      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n      var nestingRegexpStr = \"\".concat(this.nestingPrefix, \"(.+?)\").concat(this.nestingSuffix);\n      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(str, data, lng, options) {\n      var _this = this;\n\n      var match;\n      var value;\n      var replaces;\n      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n\n      function regexSafe(val) {\n        return val.replace(/\\$/g, '$$$$');\n      }\n\n      var handleFormat = function handleFormat(key) {\n        if (key.indexOf(_this.formatSeparator) < 0) {\n          var path = getPathWithDefaults(data, defaultData, key);\n          return _this.alwaysFormat ? _this.format(path, undefined, lng) : path;\n        }\n\n        var p = key.split(_this.formatSeparator);\n        var k = p.shift().trim();\n        var f = p.join(_this.formatSeparator).trim();\n        return _this.format(getPathWithDefaults(data, defaultData, k), f, lng, options);\n      };\n\n      this.resetRegExp();\n      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n      var skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;\n      var todos = [{\n        regex: this.regexpUnescape,\n        safeValue: function safeValue(val) {\n          return regexSafe(val);\n        }\n      }, {\n        regex: this.regexp,\n        safeValue: function safeValue(val) {\n          return _this.escapeValue ? regexSafe(_this.escape(val)) : regexSafe(val);\n        }\n      }];\n      todos.forEach(function (todo) {\n        replaces = 0;\n\n        while (match = todo.regex.exec(str)) {\n          value = handleFormat(match[1].trim());\n\n          if (value === undefined) {\n            if (typeof missingInterpolationHandler === 'function') {\n              var temp = missingInterpolationHandler(str, match, options);\n              value = typeof temp === 'string' ? temp : '';\n            } else if (skipOnVariables) {\n              value = match[0];\n              continue;\n            } else {\n              _this.logger.warn(\"missed to pass in variable \".concat(match[1], \" for interpolating \").concat(str));\n\n              value = '';\n            }\n          } else if (typeof value !== 'string' && !_this.useRawValueToEscape) {\n            value = makeString(value);\n          }\n\n          str = str.replace(match[0], todo.safeValue(value));\n          todo.regex.lastIndex = 0;\n          replaces++;\n\n          if (replaces >= _this.maxReplaces) {\n            break;\n          }\n        }\n      });\n      return str;\n    }\n  }, {\n    key: \"nest\",\n    value: function nest(str, fc) {\n      var _this2 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var match;\n      var value;\n\n      var clonedOptions = _objectSpread({}, options);\n\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n\n      function handleHasOptions(key, inheritedOptions) {\n        var sep = this.nestingOptionsSeparator;\n        if (key.indexOf(sep) < 0) return key;\n        var c = key.split(new RegExp(\"\".concat(sep, \"[ ]*{\")));\n        var optionsString = \"{\".concat(c[1]);\n        key = c[0];\n        optionsString = this.interpolate(optionsString, clonedOptions);\n        optionsString = optionsString.replace(/'/g, '\"');\n\n        try {\n          clonedOptions = JSON.parse(optionsString);\n          if (inheritedOptions) clonedOptions = _objectSpread({}, inheritedOptions, clonedOptions);\n        } catch (e) {\n          this.logger.warn(\"failed parsing options string in nesting for key \".concat(key), e);\n          return \"\".concat(key).concat(sep).concat(optionsString);\n        }\n\n        delete clonedOptions.defaultValue;\n        return key;\n      }\n\n      while (match = this.nestingRegexp.exec(str)) {\n        var formatters = [];\n        var doReduce = false;\n\n        if (match[0].includes(this.formatSeparator) && !/{.*}/.test(match[1])) {\n          var r = match[1].split(this.formatSeparator).map(function (elem) {\n            return elem.trim();\n          });\n          match[1] = r.shift();\n          formatters = r;\n          doReduce = true;\n        }\n\n        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n        if (value && match[0] === str && typeof value !== 'string') return value;\n        if (typeof value !== 'string') value = makeString(value);\n\n        if (!value) {\n          this.logger.warn(\"missed to resolve \".concat(match[1], \" for nesting \").concat(str));\n          value = '';\n        }\n\n        if (doReduce) {\n          value = formatters.reduce(function (v, f) {\n            return _this2.format(v, f, options.lng, options);\n          }, value.trim());\n        }\n\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n      }\n\n      return str;\n    }\n  }]);\n\n  return Interpolator;\n}();\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var _this;\n\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Connector).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n\n    return _this;\n  }\n\n  _createClass(Connector, [{\n    key: \"queueLoad\",\n    value: function queueLoad(languages, namespaces, options, callback) {\n      var _this2 = this;\n\n      var toLoad = [];\n      var pending = [];\n      var toLoadLanguages = [];\n      var toLoadNamespaces = [];\n      languages.forEach(function (lng) {\n        var hasAllNamespaces = true;\n        namespaces.forEach(function (ns) {\n          var name = \"\".concat(lng, \"|\").concat(ns);\n\n          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n            _this2.state[name] = 2;\n          } else if (_this2.state[name] < 0) ;else if (_this2.state[name] === 1) {\n            if (pending.indexOf(name) < 0) pending.push(name);\n          } else {\n            _this2.state[name] = 1;\n            hasAllNamespaces = false;\n            if (pending.indexOf(name) < 0) pending.push(name);\n            if (toLoad.indexOf(name) < 0) toLoad.push(name);\n            if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n          }\n        });\n        if (!hasAllNamespaces) toLoadLanguages.push(lng);\n      });\n\n      if (toLoad.length || pending.length) {\n        this.queue.push({\n          pending: pending,\n          loaded: {},\n          errors: [],\n          callback: callback\n        });\n      }\n\n      return {\n        toLoad: toLoad,\n        pending: pending,\n        toLoadLanguages: toLoadLanguages,\n        toLoadNamespaces: toLoadNamespaces\n      };\n    }\n  }, {\n    key: \"loaded\",\n    value: function loaded(name, err, data) {\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      if (err) this.emit('failedLoading', lng, ns, err);\n\n      if (data) {\n        this.store.addResourceBundle(lng, ns, data);\n      }\n\n      this.state[name] = err ? -1 : 2;\n      var loaded = {};\n      this.queue.forEach(function (q) {\n        pushPath(q.loaded, [lng], ns);\n        remove(q.pending, name);\n        if (err) q.errors.push(err);\n\n        if (q.pending.length === 0 && !q.done) {\n          Object.keys(q.loaded).forEach(function (l) {\n            if (!loaded[l]) loaded[l] = [];\n\n            if (q.loaded[l].length) {\n              q.loaded[l].forEach(function (ns) {\n                if (loaded[l].indexOf(ns) < 0) loaded[l].push(ns);\n              });\n            }\n          });\n          q.done = true;\n\n          if (q.errors.length) {\n            q.callback(q.errors);\n          } else {\n            q.callback();\n          }\n        }\n      });\n      this.emit('loaded', loaded);\n      this.queue = this.queue.filter(function (q) {\n        return !q.done;\n      });\n    }\n  }, {\n    key: \"read\",\n    value: function read(lng, ns, fcName) {\n      var _this3 = this;\n\n      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 350;\n      var callback = arguments.length > 5 ? arguments[5] : undefined;\n      if (!lng.length) return callback(null, {});\n      return this.backend[fcName](lng, ns, function (err, data) {\n        if (err && data && tried < 5) {\n          setTimeout(function () {\n            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n          }, wait);\n          return;\n        }\n\n        callback(err, data);\n      });\n    }\n  }, {\n    key: \"prepareLoading\",\n    value: function prepareLoading(languages, namespaces) {\n      var _this4 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n\n      if (!this.backend) {\n        this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n        return callback && callback();\n      }\n\n      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      var toLoad = this.queueLoad(languages, namespaces, options, callback);\n\n      if (!toLoad.toLoad.length) {\n        if (!toLoad.pending.length) callback();\n        return null;\n      }\n\n      toLoad.toLoad.forEach(function (name) {\n        _this4.loadOne(name);\n      });\n    }\n  }, {\n    key: \"load\",\n    value: function load(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {}, callback);\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {\n        reload: true\n      }, callback);\n    }\n  }, {\n    key: \"loadOne\",\n    value: function loadOne(name) {\n      var _this5 = this;\n\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      this.read(lng, ns, 'read', undefined, undefined, function (err, data) {\n        if (err) _this5.logger.warn(\"\".concat(prefix, \"loading namespace \").concat(ns, \" for language \").concat(lng, \" failed\"), err);\n        if (!err && data) _this5.logger.log(\"\".concat(prefix, \"loaded namespace \").concat(ns, \" for language \").concat(lng), data);\n\n        _this5.loaded(name, err, data);\n      });\n    }\n  }, {\n    key: \"saveMissing\",\n    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n        this.logger.warn(\"did not save key \\\"\".concat(key, \"\\\" as the namespace \\\"\").concat(namespace, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        return;\n      }\n\n      if (key === undefined || key === null || key === '') return;\n\n      if (this.backend && this.backend.create) {\n        this.backend.create(languages, namespace, key, fallbackValue, null, _objectSpread({}, options, {\n          isUpdate: isUpdate\n        }));\n      }\n\n      if (!languages || !languages[0]) return;\n      this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n  }]);\n\n  return Connector;\n}(EventEmitter);\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    whitelist: false,\n    nonExplicitWhitelist: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: true,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      var ret = {};\n      if (_typeof(args[1]) === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n\n      if (_typeof(args[2]) === 'object' || _typeof(args[3]) === 'object') {\n        var options = args[3] || args[2];\n        Object.keys(options).forEach(function (key) {\n          ret[key] = options[key];\n        });\n      }\n\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng, options) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: false\n    }\n  };\n}\n\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  if (options.whitelist) {\n    if (options.whitelist && options.whitelist.indexOf('cimode') < 0) {\n      options.whitelist = options.whitelist.concat(['cimode']);\n    }\n\n    options.supportedLngs = options.whitelist;\n  }\n\n  if (options.nonExplicitWhitelist) {\n    options.nonExplicitSupportedLngs = options.nonExplicitWhitelist;\n  }\n\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n\n  return options;\n}\n\nfunction noop() {}\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, I18n);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(I18n).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = {\n      external: []\n    };\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      if (!_this.options.initImmediate) {\n        _this.init(options, callback);\n\n        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n      }\n\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n\n    return _this;\n  }\n\n  _createClass(I18n, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n\n      if (options.whitelist && !options.supportedLngs) {\n        this.logger.deprecate('whitelist', 'option \"whitelist\" will be renamed to \"supportedLngs\" in the next major - please make sure to rename this option asap.');\n      }\n\n      if (options.nonExplicitWhitelist && !options.nonExplicitSupportedLngs) {\n        this.logger.deprecate('whitelist', 'options \"nonExplicitWhitelist\" will be renamed to \"nonExplicitSupportedLngs\" in the next major - please make sure to rename this option asap.');\n      }\n\n      this.options = _objectSpread({}, get(), this.options, transformOptions(options));\n      this.format = this.options.interpolation.format;\n      if (!callback) callback = noop;\n\n      function createClassOnDemand(ClassOrObject) {\n        if (!ClassOrObject) return null;\n        if (typeof ClassOrObject === 'function') return new ClassOrObject();\n        return ClassOrObject;\n      }\n\n      if (!this.options.isClone) {\n        if (this.modules.logger) {\n          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n        } else {\n          baseLogger.init(null, this.options);\n        }\n\n        var lu = new LanguageUtil(this.options);\n        this.store = new ResourceStore(this.options.resources, this.options);\n        var s = this.services;\n        s.logger = baseLogger;\n        s.resourceStore = this.store;\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, {\n          prepend: this.options.pluralSeparator,\n          compatibilityJSON: this.options.compatibilityJSON,\n          simplifyPluralSuffix: this.options.simplifyPluralSuffix\n        });\n        s.interpolator = new Interpolator(this.options);\n        s.utils = {\n          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n        };\n        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n\n        if (this.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n          s.languageDetector.init(s, this.options.detection, this.options);\n        }\n\n        if (this.modules.i18nFormat) {\n          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n          if (s.i18nFormat.init) s.i18nFormat.init(this);\n        }\n\n        this.translator = new Translator(this.services, this.options);\n        this.translator.on('*', function (event) {\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        this.modules.external.forEach(function (m) {\n          if (m.init) m.init(_this2);\n        });\n      }\n\n      if (!this.modules.languageDetector && !this.options.lng) {\n        this.logger.warn('init: no languageDetector is used and no lng is defined');\n      }\n\n      var storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n      storeApi.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store;\n\n          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);\n        };\n      });\n      var storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n      storeApiChained.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store2;\n\n          (_this2$store2 = _this2.store)[fcName].apply(_this2$store2, arguments);\n\n          return _this2;\n        };\n      });\n      var deferred = defer();\n\n      var load = function load() {\n        _this2.changeLanguage(_this2.options.lng, function (err, t) {\n          _this2.isInitialized = true;\n\n          _this2.logger.log('initialized', _this2.options);\n\n          _this2.emit('initialized', _this2.options);\n\n          deferred.resolve(t);\n          callback(err, t);\n        });\n      };\n\n      if (this.options.resources || !this.options.initImmediate) {\n        load();\n      } else {\n        setTimeout(load, 0);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"loadResources\",\n    value: function loadResources(language) {\n      var _this3 = this;\n\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var usedCallback = callback;\n      var usedLng = typeof language === 'string' ? language : this.language;\n      if (typeof language === 'function') usedCallback = language;\n\n      if (!this.options.resources || this.options.partialBundledLanguages) {\n        if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();\n        var toLoad = [];\n\n        var append = function append(lng) {\n          if (!lng) return;\n\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n\n        if (!usedLng) {\n          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n          fallbacks.forEach(function (l) {\n            return append(l);\n          });\n        } else {\n          append(usedLng);\n        }\n\n        if (this.options.preload) {\n          this.options.preload.forEach(function (l) {\n            return append(l);\n          });\n        }\n\n        this.services.backendConnector.load(toLoad, this.options.ns, usedCallback);\n      } else {\n        usedCallback(null);\n      }\n    }\n  }, {\n    key: \"reloadResources\",\n    value: function reloadResources(lngs, ns, callback) {\n      var deferred = defer();\n      if (!lngs) lngs = this.languages;\n      if (!ns) ns = this.options.ns;\n      if (!callback) callback = noop;\n      this.services.backendConnector.reload(lngs, ns, function (err) {\n        deferred.resolve();\n        callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"use\",\n    value: function use(module) {\n      if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n      if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n\n      if (module.type === 'backend') {\n        this.modules.backend = module;\n      }\n\n      if (module.type === 'logger' || module.log && module.warn && module.error) {\n        this.modules.logger = module;\n      }\n\n      if (module.type === 'languageDetector') {\n        this.modules.languageDetector = module;\n      }\n\n      if (module.type === 'i18nFormat') {\n        this.modules.i18nFormat = module;\n      }\n\n      if (module.type === 'postProcessor') {\n        postProcessor.addPostProcessor(module);\n      }\n\n      if (module.type === '3rdParty') {\n        this.modules.external.push(module);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng, callback) {\n      var _this4 = this;\n\n      this.isLanguageChangingTo = lng;\n      var deferred = defer();\n      this.emit('languageChanging', lng);\n\n      var done = function done(err, l) {\n        if (l) {\n          _this4.language = l;\n          _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n\n          _this4.translator.changeLanguage(l);\n\n          _this4.isLanguageChangingTo = undefined;\n\n          _this4.emit('languageChanged', l);\n\n          _this4.logger.log('languageChanged', l);\n        } else {\n          _this4.isLanguageChangingTo = undefined;\n        }\n\n        deferred.resolve(function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n        if (callback) callback(err, function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n      };\n\n      var setLng = function setLng(lngs) {\n        var l = typeof lngs === 'string' ? lngs : _this4.services.languageUtils.getBestMatchFromCodes(lngs);\n\n        if (l) {\n          if (!_this4.language) {\n            _this4.language = l;\n            _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n          }\n\n          if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n          if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n        }\n\n        _this4.loadResources(l, function (err) {\n          done(err, l);\n        });\n      };\n\n      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n        setLng(this.services.languageDetector.detect());\n      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n        this.services.languageDetector.detect(setLng);\n      } else {\n        setLng(lng);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"getFixedT\",\n    value: function getFixedT(lng, ns) {\n      var _this5 = this;\n\n      var fixedT = function fixedT(key, opts) {\n        var options;\n\n        if (_typeof(opts) !== 'object') {\n          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n            rest[_key3 - 2] = arguments[_key3];\n          }\n\n          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n        } else {\n          options = _objectSpread({}, opts);\n        }\n\n        options.lng = options.lng || fixedT.lng;\n        options.lngs = options.lngs || fixedT.lngs;\n        options.ns = options.ns || fixedT.ns;\n        return _this5.t(key, options);\n      };\n\n      if (typeof lng === 'string') {\n        fixedT.lng = lng;\n      } else {\n        fixedT.lngs = lng;\n      }\n\n      fixedT.ns = ns;\n      return fixedT;\n    }\n  }, {\n    key: \"t\",\n    value: function t() {\n      var _this$translator;\n\n      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);\n    }\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      var _this$translator2;\n\n      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);\n    }\n  }, {\n    key: \"setDefaultNamespace\",\n    value: function setDefaultNamespace(ns) {\n      this.options.defaultNS = ns;\n    }\n  }, {\n    key: \"hasLoadedNamespace\",\n    value: function hasLoadedNamespace(ns) {\n      var _this6 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!this.isInitialized) {\n        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n        return false;\n      }\n\n      if (!this.languages || !this.languages.length) {\n        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n        return false;\n      }\n\n      var lng = this.languages[0];\n      var fallbackLng = this.options ? this.options.fallbackLng : false;\n      var lastLng = this.languages[this.languages.length - 1];\n      if (lng.toLowerCase() === 'cimode') return true;\n\n      var loadNotPending = function loadNotPending(l, n) {\n        var loadState = _this6.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n\n        return loadState === -1 || loadState === 2;\n      };\n\n      if (options.precheck) {\n        var preResult = options.precheck(this, loadNotPending);\n        if (preResult !== undefined) return preResult;\n      }\n\n      if (this.hasResourceBundle(lng, ns)) return true;\n      if (!this.services.backendConnector.backend) return true;\n      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n      return false;\n    }\n  }, {\n    key: \"loadNamespaces\",\n    value: function loadNamespaces(ns, callback) {\n      var _this7 = this;\n\n      var deferred = defer();\n\n      if (!this.options.ns) {\n        callback && callback();\n        return Promise.resolve();\n      }\n\n      if (typeof ns === 'string') ns = [ns];\n      ns.forEach(function (n) {\n        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);\n      });\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"loadLanguages\",\n    value: function loadLanguages(lngs, callback) {\n      var deferred = defer();\n      if (typeof lngs === 'string') lngs = [lngs];\n      var preloaded = this.options.preload || [];\n      var newLngs = lngs.filter(function (lng) {\n        return preloaded.indexOf(lng) < 0;\n      });\n\n      if (!newLngs.length) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n\n      this.options.preload = preloaded.concat(newLngs);\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"dir\",\n    value: function dir(lng) {\n      if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;\n      if (!lng) return 'rtl';\n      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n      return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n    }\n  }, {\n    key: \"createInstance\",\n    value: function createInstance() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      return new I18n(options, callback);\n    }\n  }, {\n    key: \"cloneInstance\",\n    value: function cloneInstance() {\n      var _this8 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      var mergedOptions = _objectSpread({}, this.options, options, {\n        isClone: true\n      });\n\n      var clone = new I18n(mergedOptions);\n      var membersToCopy = ['store', 'services', 'language'];\n      membersToCopy.forEach(function (m) {\n        clone[m] = _this8[m];\n      });\n      clone.services = _objectSpread({}, this.services);\n      clone.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      clone.translator = new Translator(clone.services, clone.options);\n      clone.translator.on('*', function (event) {\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n\n        clone.emit.apply(clone, [event].concat(args));\n      });\n      clone.init(mergedOptions, callback);\n      clone.translator.options = clone.options;\n      clone.translator.backendConnector.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      return clone;\n    }\n  }]);\n\n  return I18n;\n}(EventEmitter);\n\nvar i18next = new I18n();\nexport default i18next;","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport en from '../translation/en.json'\n\n\ni18n\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources: {\n      en: {\n        translation: en\n      },\n    },\n    lng: \"en\",\n\n    keySeparator: false, // we do not use keys in form messages.welcome\n\n    interpolation: {\n      escapeValue: false // react already safes from xss\n    }\n  });\n\n  export default i18n;","import React from \"react\"\nimport { Grommet, Box, Button, Text, Menu } from 'grommet';\nimport { grommet } from 'grommet/themes';\nimport '../pages/index.css'\nimport './i18n';\nimport { navigateTo } from 'gatsby-link';\nimport { Adsense } from '@ctrl/react-adsense';\n\nconst Home = ({ location, children, max = '560px' }) => {\n\n  return <Grommet full theme={grommet}>\n      <Box\n        gridArea=\"header\"\n        direction=\"row\"\n        align=\"center\"\n        pad={{ horizontal: 'medium', vertical: 'small' }}\n        background=\"brand\"\n      >\n        <Button margin={{ right: '20px'}} onClick={() => { navigateTo('/') }}>\n          <Text size=\"large\">OpenFengShui</Text>\n        </Button>\n        <Menu label=\"Tools\" items={[\n          { label: 'QM Hour', onClick: () => { navigateTo('/qmdj/hour') } },\n          { label: 'QM Month/Day', onClick: () => { navigateTo('/qmdj/month') } },\n          { label: 'QiMen Finder', onClick: () => { navigateTo('/qmdj/finder') } },\n          { label: 'Flying Star', onClick: () => { navigateTo('/flyingstar/chart') } },\n          { label: '8 Mansion', onClick: () => { navigateTo('/bazhai/chart') } },\n          { label: 'Tong Shu', onClick: () => { navigateTo('/calendar/page') } },\n          { label: 'Bazi', onClick: () => { navigateTo('/bazi/chart') } },\n          { label: 'I Ching', onClick: () => { navigateTo('/404') } },\n        ]} />\n\n        <Menu label=\"Videos\" items={[\n          { label: 'Metaphysics', onClick: () => { navigateTo('/videos/metaphysics') } },\n        ]} />\n\n\n        <Menu label=\"Support\" items={[\n          { label: 'Donate', onClick: () => { navigateTo('https://www.paypal.me/openfengshui') } },\n        ]} />\n      </Box>\n      <Box \n        align=\"center\"\n        justify=\"center\"\n        pad=\"small\"\n      >\n        <Box \n          pad={{\n            bottom: '64px'\n          }}\n          fill=\"horizontal\"\n          width={{\n          min: '360px',\n          max\n        }} >\n\n          { children }\n        </Box>\n        <Adsense\n            client=\"ca-pub-6343289823091285\"\n            slot=\"5114483936\"\n          />\n      </Box>\n    </Grommet>\n}\n\nexport default Home\n","export var findScrollParent = function findScrollParent(element, horizontal) {\n  var result;\n\n  if (element) {\n    var parent = element.parentNode;\n\n    while (!result && parent && parent.getBoundingClientRect) {\n      var rect = parent.getBoundingClientRect(); // 10px is to account for borders and scrollbars in a lazy way\n\n      if (horizontal) {\n        if (rect.width && parent.scrollWidth > rect.width + 10) {\n          result = parent;\n        }\n      } else if (rect.height && parent.scrollHeight > rect.height + 10) {\n        result = parent;\n      }\n\n      parent = parent.parentNode;\n    } // last scrollable element will be the document\n    // if nothing else is scrollable in the page\n\n\n    if (!result) {\n      result = document;\n    } else if (result.tagName.toLowerCase() === 'body') {\n      result = document;\n    }\n  }\n\n  return result;\n};\nexport var findScrollParents = function findScrollParents(element, horizontal) {\n  var result = [];\n\n  if (element) {\n    var parent = element.parentNode;\n\n    while (parent && parent.getBoundingClientRect) {\n      var rect = parent.getBoundingClientRect(); // 10px is to account for borders and scrollbars in a lazy way\n\n      if (horizontal) {\n        if (rect.width && parent.scrollWidth > rect.width + 10) {\n          result.push(parent);\n        }\n      } else if (rect.height && parent.scrollHeight > rect.height + 10) {\n        result.push(parent);\n      }\n\n      parent = parent.parentNode;\n    } // last scrollable element will be the document\n    // if nothing else is scrollable in the page\n\n\n    if (result.length === 0) {\n      result.push(document);\n    } else if (result[0].tagName.toLowerCase() === 'body') {\n      result.length = 0;\n      result.push(document);\n    }\n  }\n\n  return result;\n};\nexport var containsFocus = function containsFocus(node) {\n  var element = document.activeElement;\n\n  while (element) {\n    if (element === node) break;\n    element = element.parentElement;\n  }\n\n  return !!element;\n};\nexport var getFirstFocusableDescendant = function getFirstFocusableDescendant(element) {\n  var children = element.getElementsByTagName('*');\n\n  for (var i = 0; i < children.length; i += 1) {\n    var child = children[i];\n    var tagName = child.tagName.toLowerCase();\n\n    if (tagName === 'input' || tagName === 'select') {\n      return child;\n    }\n  }\n\n  return undefined;\n};\nexport var getBodyChildElements = function getBodyChildElements() {\n  var excludeMatch = /^(script|link)$/i;\n  var children = [];\n  [].forEach.call(document.body.children, function (node) {\n    if (!excludeMatch.test(node.tagName)) {\n      children.push(node);\n    }\n  });\n  return children;\n};\nexport var getNewContainer = function getNewContainer(target, targetChildPosition) {\n  if (target === void 0) {\n    target = document.body;\n  } // setup DOM\n\n\n  var container = document.createElement('div');\n\n  if (targetChildPosition === 'first') {\n    // for SkipLinks\n    target.prepend(container);\n  } else {\n    target.appendChild(container);\n  }\n\n  return container;\n};\nexport var setFocusWithoutScroll = function setFocusWithoutScroll(element) {\n  var x = window.scrollX;\n  var y = window.scrollY;\n  element.focus();\n  window.scrollTo(x, y);\n};\nvar TABINDEX = 'tabindex';\nvar TABINDEX_STATE = 'data-g-tabindex';\nexport var makeNodeFocusable = function makeNodeFocusable(node) {\n  // do not touch aria live containers so that announcements work\n  if (!node.hasAttribute('aria-live')) {\n    node.setAttribute('aria-hidden', false); // allow children to receive focus again\n\n    var elements = node.getElementsByTagName('*'); // only reset elements we've changed in makeNodeUnfocusable()\n\n    Array.prototype.filter.call(elements || [], function (element) {\n      return element.hasAttribute(TABINDEX_STATE);\n    }).forEach(function (element) {\n      var prior = element.getAttribute(TABINDEX_STATE);\n\n      if (prior >= 0) {\n        element.setAttribute(TABINDEX, element.getAttribute(TABINDEX_STATE));\n      } else if (prior === 'none') {\n        element.removeAttribute(TABINDEX);\n      }\n\n      element.removeAttribute(TABINDEX_STATE);\n    });\n  }\n};\nvar autoFocusingTags = /(a|area|input|select|textarea|button|iframe)$/;\nexport var makeNodeUnfocusable = function makeNodeUnfocusable(node) {\n  // do not touch aria live containers so that announcements work\n  if (!node.hasAttribute('aria-live')) {\n    node.setAttribute('aria-hidden', true); // prevent children to receive focus\n\n    var elements = node.getElementsByTagName('*'); // first, save off the tabIndex of any element with one\n\n    Array.prototype.filter.call(elements || [], function (element) {\n      return element.getAttribute(TABINDEX) !== null;\n    }).forEach(function (element) {\n      element.setAttribute(TABINDEX_STATE, element.getAttribute(TABINDEX));\n      element.setAttribute(TABINDEX, -1);\n    }); // then, if any element is inherently focusable and not handled above,\n    // give it a tabIndex of -1 so it can't receive focus\n\n    Array.prototype.filter.call(elements || [], function (element) {\n      var currentTag = element.tagName.toLowerCase();\n      return currentTag.match(autoFocusingTags) && element.focus && element.getAttribute(TABINDEX_STATE) === null;\n    }).forEach(function (element) {\n      element.setAttribute(TABINDEX_STATE, 'none');\n      element.setAttribute(TABINDEX, -1);\n    });\n  }\n};\nexport var findVisibleParent = function findVisibleParent(element) {\n  if (element) {\n    return element.offsetParent ? element : findVisibleParent(element.parentElement) || element;\n  }\n\n  return undefined;\n};\nexport var isNodeAfterScroll = function isNodeAfterScroll(node, target) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n      bottom = _node$getBoundingClie.bottom; // target will be the document from findScrollParent()\n\n\n  var _ref = target.getBoundingClientRect ? target.getBoundingClientRect() : {\n    height: 0,\n    top: 0\n  },\n      height = _ref.height,\n      top = _ref.top;\n\n  return bottom >= top + height;\n};\nexport var isNodeBeforeScroll = function isNodeBeforeScroll(node, target) {\n  var _node$getBoundingClie2 = node.getBoundingClientRect(),\n      top = _node$getBoundingClie2.top; // target will be the document from findScrollParent()\n\n\n  var _ref2 = target.getBoundingClientRect ? target.getBoundingClientRect() : {\n    top: 0\n  },\n      targetTop = _ref2.top;\n\n  return top <= targetTop;\n};","\"use strict\";\n\nexports.__esModule = true;\nexports.base = exports.generate = void 0;\n\nvar _polished = require(\"polished\");\n\nvar _Actions = require(\"grommet-icons/icons/Actions\");\n\nvar _ClosedCaption = require(\"grommet-icons/icons/ClosedCaption\");\n\nvar _Expand = require(\"grommet-icons/icons/Expand\");\n\nvar _FormDown = require(\"grommet-icons/icons/FormDown\");\n\nvar _FormNext = require(\"grommet-icons/icons/FormNext\");\n\nvar _FormPrevious = require(\"grommet-icons/icons/FormPrevious\");\n\nvar _FormUp = require(\"grommet-icons/icons/FormUp\");\n\nvar _Next = require(\"grommet-icons/icons/Next\");\n\nvar _Pause = require(\"grommet-icons/icons/Pause\");\n\nvar _Play = require(\"grommet-icons/icons/Play\");\n\nvar _Previous = require(\"grommet-icons/icons/Previous\");\n\nvar _Subtract = require(\"grommet-icons/icons/Subtract\");\n\nvar _Volume = require(\"grommet-icons/icons/Volume\");\n\nvar _VolumeLow = require(\"grommet-icons/icons/VolumeLow\");\n\nvar _base = require(\"grommet-icons/themes/base\");\n\nvar _object = require(\"../utils/object\");\n\nvar _mixins = require(\"../utils/mixins\");\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar brandColor = '#7D4CDB';\nvar accentColors = ['#6FFFB0', '#FD6FFF', '#81FCED', '#FFCA58'];\nvar neutralColors = ['#00873D', '#3D138D', '#00739D', '#A2423D'];\nvar statusColors = {\n  critical: '#FF4040',\n  error: '#FF4040',\n  warning: '#FFAA15',\n  ok: '#00C781',\n  unknown: '#CCCCCC',\n  disabled: '#CCCCCC'\n};\nvar darkColors = ['#333333', '#555555', '#777777', '#999999', '#999999', '#999999'];\nvar lightColors = ['#F8F8F8', '#F2F2F2', '#EDEDED', '#DADADA', '#DADADA', '#DADADA'];\nvar focusColor = accentColors[0];\nvar colors = {\n  active: (0, _polished.rgba)(221, 221, 221, 0.5),\n  'background-back': {\n    dark: '#33333308',\n    light: '#EDEDED'\n  },\n  'background-front': {\n    dark: '#444444',\n    light: '#FFFFFF'\n  },\n  'background-contrast': {\n    dark: '#33333308',\n    light: '#FFFFFF08'\n  },\n  'active-background': 'background-contrast',\n  'active-text': 'text-strong',\n  black: '#000000',\n  border: {\n    dark: (0, _polished.rgba)(255, 255, 255, 0.33),\n    light: (0, _polished.rgba)(0, 0, 0, 0.33)\n  },\n  brand: brandColor,\n  control: {\n    dark: 'accent-1',\n    light: 'brand'\n  },\n  focus: focusColor,\n  'graph-0': 'accent-1',\n  'graph-1': 'neutral-1',\n  'graph-2': 'neutral-2',\n  'graph-3': 'neutral-3',\n  'graph-4': 'neutral-4',\n  placeholder: '#AAAAAA',\n  selected: 'brand',\n  text: {\n    dark: '#f8f8f8',\n    light: '#444444'\n  },\n  'text-strong': {\n    dark: '#FFFFFF',\n    light: '#000000'\n  },\n  'text-weak': {\n    dark: '#CCCCCC',\n    light: '#555555'\n  },\n  'text-xweak': {\n    dark: '#BBBBBB',\n    light: '#666666'\n  },\n  icon: {\n    dark: '#f8f8f8',\n    light: '#666666'\n  },\n  'selected-background': 'brand',\n  'selected-text': 'text-strong',\n  white: '#FFFFFF'\n};\n\nvar colorArray = function colorArray(array, prefix) {\n  return array.forEach(function (color, index) {\n    colors[prefix + \"-\" + (index + 1)] = color;\n  });\n};\n\ncolorArray(accentColors, 'accent');\ncolorArray(darkColors, 'dark');\ncolorArray(lightColors, 'light');\ncolorArray(neutralColors, 'neutral');\nObject.keys(statusColors).forEach(function (color) {\n  colors[\"status-\" + color] = statusColors[color];\n});\n\nvar generate = function generate(baseSpacing, scale) {\n  if (baseSpacing === void 0) {\n    baseSpacing = 24;\n  }\n\n  if (scale === void 0) {\n    scale = 6;\n  } // 24\n\n\n  var baseFontSize = baseSpacing * 0.75; // 18\n\n  var fontScale = baseSpacing / scale; // 4\n\n  var fontSizing = function fontSizing(factor) {\n    return {\n      size: baseFontSize + factor * fontScale + \"px\",\n      height: baseSpacing + factor * fontScale + \"px\",\n      // maxWidth chosen to be ~50 characters wide\n      // see: https://ux.stackexchange.com/a/34125\n      maxWidth: baseSpacing * (baseFontSize + factor * fontScale) + \"px\"\n    };\n  };\n\n  var borderWidth = 2;\n  var controlBorderWidth = 1;\n  var result = (0, _object.deepMerge)(_base.base, {\n    global: {\n      active: {\n        background: {\n          color: 'active',\n          opacity: 'medium'\n        },\n        color: {\n          dark: 'white',\n          light: 'black'\n        }\n      },\n      animation: {\n        duration: '1s',\n        jiggle: {\n          duration: '0.1s'\n        }\n      },\n      borderSize: {\n        xsmall: '1px',\n        small: '2px',\n        medium: baseSpacing / 6 + \"px\",\n        // 4\n        large: baseSpacing / 2 + \"px\",\n        // 12\n        xlarge: baseSpacing + \"px\" // 24\n\n      },\n      breakpoints: {\n        small: {\n          value: baseSpacing * 32,\n          // 768\n          borderSize: {\n            xsmall: '1px',\n            small: '2px',\n            medium: baseSpacing / 6 + \"px\",\n            // 4\n            large: baseSpacing / 4 + \"px\",\n            // 6\n            xlarge: baseSpacing / 2 + \"px\" // 12\n\n          },\n          edgeSize: {\n            none: '0px',\n            hair: '1px',\n            // for Chart\n            xxsmall: '2px',\n            xsmall: baseSpacing / 8 + \"px\",\n            // 3\n            small: baseSpacing / 4 + \"px\",\n            // 6\n            medium: baseSpacing / 2 + \"px\",\n            // 12\n            large: baseSpacing + \"px\",\n            // 24\n            xlarge: baseSpacing * 2 + \"px\" // 48\n\n          },\n          size: {\n            xxsmall: baseSpacing + \"px\",\n            // 24\n            xsmall: baseSpacing * 2 + \"px\",\n            // 48\n            small: baseSpacing * 4 + \"px\",\n            // 96\n            medium: baseSpacing * 8 + \"px\",\n            // 192\n            large: baseSpacing * 16 + \"px\",\n            // 384\n            xlarge: baseSpacing * 32 + \"px\",\n            // 768\n            full: '100%'\n          }\n        },\n        medium: {\n          value: baseSpacing * 64 // 1536\n\n        },\n        large: {} // anything above 'medium'\n\n      },\n      // Breakpoints used at Server Side Rendering for the initial rendering\n      // These values correspond to the theme breakpoints\n      deviceBreakpoints: {\n        phone: 'small',\n        tablet: 'medium',\n        computer: 'large'\n      },\n      colors: colors,\n      control: {\n        border: {\n          width: controlBorderWidth + \"px\",\n          radius: '4px',\n          color: 'border'\n        },\n        disabled: {\n          opacity: 0.3\n        }\n      },\n      // The time to wait after the user stopped typing, measured in ms.\n      debounceDelay: 300,\n      drop: {\n        background: '#ffffff',\n        border: {\n          radius: '0px'\n        },\n        shadowSize: 'small',\n        zIndex: '20'\n      },\n      edgeSize: {\n        none: '0px',\n        hair: '1px',\n        // for Chart\n        xxsmall: baseSpacing / 8 + \"px\",\n        // 3\n        xsmall: baseSpacing / 4 + \"px\",\n        // 6\n        small: baseSpacing / 2 + \"px\",\n        // 12\n        medium: baseSpacing + \"px\",\n        // 24\n        large: baseSpacing * 2 + \"px\",\n        // 48\n        xlarge: baseSpacing * 4 + \"px\",\n        // 96\n        responsiveBreakpoint: 'small'\n      },\n      elevation: {\n        light: {\n          none: 'none',\n          xsmall: '0px 1px 2px rgba(0, 0, 0, 0.20)',\n          small: '0px 2px 4px rgba(0, 0, 0, 0.20)',\n          medium: '0px 4px 8px rgba(0, 0, 0, 0.20)',\n          large: '0px 8px 16px rgba(0, 0, 0, 0.20)',\n          xlarge: '0px 12px 24px rgba(0, 0, 0, 0.20)'\n        },\n        dark: {\n          none: 'none',\n          xsmall: '0px 2px 2px rgba(255, 255, 255, 0.40)',\n          small: '0px 4px 4px rgba(255, 255, 255, 0.40)',\n          medium: '0px 6px 8px rgba(255, 255, 255, 0.40)',\n          large: '0px 8px 16px rgba(255, 255, 255, 0.40)',\n          xlarge: '0px 12px 24px rgba(255, 255, 255, 0.40)'\n        }\n      },\n      focus: {\n        // shadow or outline are required for accessibility\n        border: {\n          // remove to only have shadow\n          color: 'focus'\n        },\n        // outline: { color: undefined, size: undefined },\n        shadow: {\n          color: 'focus',\n          size: '2px'\n        }\n      },\n      font: _extends({}, fontSizing(0)),\n      hover: {\n        background: {\n          color: 'active',\n          opacity: 'medium'\n        },\n        color: {\n          dark: 'white',\n          light: 'black'\n        }\n      },\n      input: {\n        padding: {\n          horizontal: (0, _mixins.parseMetricToNum)(baseSpacing / 2 + \"px\") - (0, _mixins.parseMetricToNum)(controlBorderWidth + \"px\") + \"px\",\n          vertical: (0, _mixins.parseMetricToNum)(baseSpacing / 2 + \"px\") - (0, _mixins.parseMetricToNum)(controlBorderWidth + \"px\") + \"px\"\n        },\n        font: {\n          // size: undefined,\n          // height: undefined,\n          weight: 600\n        } // deprecate in v3\n        // weight: undefined,\n\n      },\n      opacity: {\n        strong: 0.8,\n        medium: 0.4,\n        weak: 0.1\n      },\n      selected: {\n        background: 'selected',\n        color: 'white'\n      },\n      spacing: baseSpacing + \"px\",\n      size: {\n        xxsmall: baseSpacing * 2 + \"px\",\n        // 48\n        xsmall: baseSpacing * 4 + \"px\",\n        // 96\n        small: baseSpacing * 8 + \"px\",\n        // 192\n        medium: baseSpacing * 16 + \"px\",\n        // 384\n        large: baseSpacing * 32 + \"px\",\n        // 768\n        xlarge: baseSpacing * 48 + \"px\",\n        // 1152\n        xxlarge: baseSpacing * 64 + \"px\",\n        // 1536\n        full: '100%'\n      }\n    },\n    accordion: {\n      panel: {// border: {\n        //   side: 'bottom',\n        //   color: 'border',\n        // },\n      },\n      border: {\n        side: 'bottom',\n        color: 'border'\n      },\n      heading: {\n        level: '4' // level ranges from 1-6\n        // margin: undefined\n\n      },\n      hover: {\n        color: {\n          dark: 'light-4',\n          light: 'dark-3'\n        },\n        // deprecated\n        heading: {\n          color: {\n            dark: 'light-4',\n            light: 'dark-3'\n          }\n        }\n      },\n      icons: {\n        collapse: _FormUp.FormUp,\n        expand: _FormDown.FormDown // color: { dark: undefined, light: undefined },\n\n      }\n    },\n    anchor: {\n      textDecoration: 'none',\n      fontWeight: 600,\n      color: {\n        dark: 'accent-1',\n        light: 'brand'\n      },\n      hover: {\n        textDecoration: 'underline' // fontWeight: undefined,\n        // extend: undefined,\n\n      } // extend: undefined,\n\n    },\n    avatar: {\n      // extend: undefined,\n      size: {\n        xsmall: baseSpacing * 0.75 + \"px\",\n        small: baseSpacing + \"px\",\n        medium: baseSpacing * 2 + \"px\",\n        // default 48\n        large: baseSpacing * 3 + \"px\",\n        xlarge: baseSpacing * 4 + \"px\"\n      },\n      text: {// fontWeight: undefined,\n        // extend: undefined\n      }\n    },\n    box: {\n      responsiveBreakpoint: 'small' // when we switch rows to columns\n      // extend: undefined,\n\n    },\n    button: {\n      size: {\n        small: {\n          border: {\n            radius: baseSpacing * 0.75 + \"px\"\n          },\n          pad: {\n            vertical: baseSpacing / 4 - borderWidth + \"px\",\n            // 4px\n            horizontal: baseSpacing - borderWidth * 2 + \"px\" // 20px,\n\n          }\n        },\n        medium: {\n          border: {\n            radius: baseSpacing * 0.75 + \"px\" // 18px\n\n          },\n          pad: {\n            vertical: baseSpacing / 4 - borderWidth + \"px\",\n            // 4px\n            horizontal: baseSpacing - borderWidth + \"px\" // 22px\n\n          }\n        },\n        large: {\n          border: {\n            radius: baseSpacing + \"px\" // 24px\n\n          },\n          pad: {\n            vertical: baseSpacing / 4 + borderWidth + \"px\",\n            // 8px\n            horizontal: baseSpacing + borderWidth * 4 + \"px\" // 32px,\n\n          }\n        }\n      },\n      border: {\n        // color: { dark: undefined, light: undefined }\n        width: borderWidth + \"px\",\n        radius: baseSpacing * 0.75 + \"px\"\n      },\n      // color: { dark: undefined, light: undefined }\n      // default: {\n      //   background: undefined,\n      //   border: undefined,\n      //   color: undefined,\n      //   font: {\n      //     weight: undefined,\n      //   },\n      //   padding: {\n      //     vertical: undefined,\n      //     horizontal: undefined,\n      //   },\n      //   extend: undefined,\n      // },\n      // primary: {\n      //   font: {\n      //     weight: undefined,\n      //   },\n      //   background: undefined,\n      //   border: undefined,\n      //   color: undefined,\n      //   padding: {\n      //     vertical: undefined,\n      //     horizontal: undefined,\n      //   },\n      //   extend: undefined,\n      // },\n      // secondary: {\n      //   font: {\n      //     weight: undefined,\n      //   },\n      //   background: undefined,\n      //   border: undefined,\n      //   color: undefined,\n      //   padding: {\n      //     vertical: undefined,\n      //     horizontal: undefined,\n      //   },\n      //   extend: undefined,\n      // },\n      // option: {\n      //   background: undefined,\n      //   border: undefined,\n      //   color: undefined,\n      //   padding: {\n      //     vertical: undefined,\n      //     horizontal: undefined,\n      //   },\n      //   extend: undefined,\n      // },\n      active: {\n        background: 'active-background',\n        //   border: undefined,\n        color: 'active-text' //   extend: undefined,\n        //   default: {},\n        //   primary: {},\n        //   secondary: {},\n\n      },\n      disabled: {\n        //   background: undefined,\n        //   border: undefined,\n        //   color: undefined,\n        opacity: 0.3 //   extend: undefined,\n        //   default: {},\n        //   primary: {},\n        //   secondary: {},\n\n      },\n      // hover: {\n      //   background: undefined,\n      //   border: undefined,\n      //   color: undefined},\n      //   extend: undefined,\n      //   default: {},\n      //   primary: {},\n      //   secondary: {},\n      // },\n      padding: {\n        vertical: baseSpacing / 4 - borderWidth + \"px\",\n        horizontal: baseSpacing - borderWidth + \"px\"\n      },\n      transition: {\n        timing: 'ease-in-out',\n        duration: 0.1,\n        properties: ['color', 'background-color', 'border-color', 'box-shadow']\n      }\n    },\n    calendar: {\n      // daySize must align with global.size\n      small: {\n        fontSize: baseFontSize - fontScale + \"px\",\n        lineHeight: 1.375,\n        daySize: baseSpacing * 8 / 7 + \"px\",\n        slideDuration: '0.2s'\n      },\n      medium: {\n        fontSize: baseFontSize + \"px\",\n        lineHeight: 1.45,\n        daySize: baseSpacing * 16 / 7 + \"px\",\n        slideDuration: '0.5s'\n      },\n      large: {\n        fontSize: baseFontSize + 3 * fontScale + \"px\",\n        lineHeight: 1.11,\n        daySize: baseSpacing * 32 / 7 + \"px\",\n        slideDuration: '0.8s'\n      },\n      icons: {\n        previous: _Previous.Previous,\n        next: _Next.Next,\n        small: {\n          previous: _FormPrevious.FormPrevious,\n          next: _FormNext.FormNext\n        }\n      },\n      heading: {\n        level: '4'\n      } // level ranges from 1-6\n\n    },\n    card: {\n      container: {\n        round: 'small',\n        elevation: 'small'\n      },\n      header: {},\n      body: {},\n      footer: {\n        background: 'background-contrast'\n      }\n    },\n    carousel: {\n      icons: {\n        current: _Subtract.Subtract,\n        next: _Next.Next,\n        previous: _Previous.Previous // color: { dark: undefined, light: undefined },\n\n      },\n      animation: {\n        duration: 1000\n      },\n      disabled: {\n        icons: {// color: { dark: undefined, light: undefined },\n        }\n      }\n    },\n    chart: {\n      color: 'graph-0' // extend: undefined,\n\n    },\n    checkBox: {\n      border: {\n        color: {\n          dark: 'rgba(255, 255, 255, 0.5)',\n          light: 'rgba(0, 0, 0, 0.15)'\n        },\n        width: '2px'\n      },\n      check: {\n        // extend: undefined,\n        radius: '4px',\n        thickness: '4px'\n      },\n      // color: { dark: undefined, light: undefined },\n      // extend: undefined,\n      // gap: undefined\n      hover: {\n        border: {\n          color: {\n            dark: 'white',\n            light: 'black'\n          }\n        }\n      },\n      icon: {// size: undefined,\n        // extend: undefined,\n      },\n      icons: {// checked: undefined,\n        // indeterminate: undefined,\n      },\n      size: baseSpacing + \"px\",\n      toggle: {\n        // background: undefined\n        color: {\n          dark: '#d9d9d9',\n          light: '#d9d9d9'\n        },\n        knob: {// extend: undefined,\n        },\n        radius: baseSpacing + \"px\",\n        size: baseSpacing * 2 + \"px\" // extend: undefined,\n\n      }\n    },\n    clock: {\n      analog: {\n        // extend: undefined,\n        hour: {\n          color: {\n            dark: 'light-2',\n            light: 'dark-3'\n          },\n          width: baseSpacing / 3 + \"px\",\n          size: baseSpacing + \"px\",\n          shape: 'round'\n        },\n        minute: {\n          color: {\n            dark: 'light-4',\n            light: 'dark-3'\n          },\n          width: baseSpacing / 6 + \"px\",\n          size: Math.round(baseSpacing / 2) + \"px\",\n          shape: 'round'\n        },\n        second: {\n          color: {\n            dark: 'accent-1',\n            light: 'accent-1'\n          },\n          width: baseSpacing / 8 + \"px\",\n          size: Math.round(baseSpacing / 2.666) + \"px\",\n          shape: 'round'\n        },\n        size: {\n          small: baseSpacing * 3 + \"px\",\n          medium: baseSpacing * 4 + \"px\",\n          large: baseSpacing * 6 + \"px\",\n          xlarge: baseSpacing * 9 + \"px\",\n          huge: baseSpacing * 12 + \"px\"\n        }\n      },\n      digital: {\n        text: {\n          xsmall: {\n            size: baseFontSize - 2 * fontScale + \"px\",\n            height: 1.5\n          },\n          small: {\n            size: baseFontSize - fontScale + \"px\",\n            height: 1.43\n          },\n          medium: {\n            size: baseFontSize + \"px\",\n            height: 1.375\n          },\n          large: {\n            size: baseFontSize + fontScale + \"px\",\n            height: 1.167\n          },\n          xlarge: {\n            size: baseFontSize + 2 * fontScale + \"px\",\n            height: 1.1875\n          },\n          xxlarge: {\n            size: baseFontSize + 4 * fontScale + \"px\",\n            height: 1.125\n          }\n        }\n      }\n    },\n    collapsible: {\n      minSpeed: 200,\n      baseline: 500\n    },\n    dateInput: {// icon: {\n      //   size: undefined,\n      // },\n    },\n    dataTable: {\n      // body: {\n      //   extend: undefined,\n      // },\n      groupHeader: {\n        background: {\n          dark: 'dark-2',\n          light: 'light-2'\n        },\n        border: {\n          side: 'bottom',\n          size: 'xsmall'\n        },\n        pad: {\n          horizontal: 'small',\n          vertical: 'xsmall'\n        }\n      },\n      groupEnd: {\n        border: {\n          side: 'bottom',\n          size: 'xsmall'\n        }\n      },\n      header: {},\n      icons: {\n        ascending: _FormDown.FormDown,\n        contract: _FormUp.FormUp,\n        descending: _FormUp.FormUp,\n        expand: _FormDown.FormDown\n      },\n      primary: {\n        weight: 'bold'\n      },\n      resize: {\n        border: {\n          color: 'border',\n          side: 'end'\n        }\n      }\n    },\n    diagram: {\n      // extend: undefined,\n      line: {\n        color: 'graph-0'\n      }\n    },\n    // drop: {\n    //   extend: undefined,\n    //   maxHeight: undefined,\n    // },\n    formField: {\n      border: {\n        color: 'border',\n        error: {\n          color: {\n            dark: 'white',\n            light: 'status-critical'\n          }\n        },\n        position: 'inner',\n        side: 'bottom'\n      },\n      content: {\n        // margin: undefined,\n        pad: 'small'\n      },\n      disabled: {\n        background: {\n          color: 'status-disabled',\n          opacity: 'medium'\n        } // border: {\n        //   color: undefined,\n        // },\n        // label: {\n        //   color: undefined,\n        // },\n\n      },\n      // focus: {\n      //   background: {\n      //     color: undefined,\n      //   },\n      //   border: {\n      //     color: undefined,\n      //   },\n      // },\n      error: {\n        color: 'status-critical',\n        margin: {\n          vertical: 'xsmall',\n          horizontal: 'small'\n        } // background: undefined,\n\n      },\n      // extend: undefined,\n      help: {\n        color: 'dark-3',\n        margin: {\n          start: 'small'\n        }\n      },\n      info: {\n        color: 'text-xweak',\n        margin: {\n          vertical: 'xsmall',\n          horizontal: 'small'\n        }\n      },\n      label: {\n        margin: {\n          vertical: 'xsmall',\n          horizontal: 'small'\n        }\n      },\n      margin: {\n        bottom: 'small'\n      } // round: undefined,\n\n    },\n    grommet: {// extend: undefined\n    },\n    heading: {\n      font: {// family: undefined\n      },\n      level: {\n        1: {\n          font: {// family: undefined,\n            // weight: undefined,\n          },\n          small: _extends({}, fontSizing(4)),\n          medium: _extends({}, fontSizing(8)),\n          large: _extends({}, fontSizing(16)),\n          xlarge: _extends({}, fontSizing(24))\n        },\n        2: {\n          font: {// family: undefined,\n            // weight: undefined,\n          },\n          small: _extends({}, fontSizing(2)),\n          medium: _extends({}, fontSizing(4)),\n          large: _extends({}, fontSizing(8)),\n          xlarge: _extends({}, fontSizing(12))\n        },\n        3: {\n          font: {// family: undefined,\n            // weight: undefined,\n          },\n          small: _extends({}, fontSizing(1)),\n          medium: _extends({}, fontSizing(2)),\n          large: _extends({}, fontSizing(4)),\n          xlarge: _extends({}, fontSizing(6))\n        },\n        4: {\n          font: {// family: undefined,\n            // weight: undefined,\n          },\n          small: _extends({}, fontSizing(0)),\n          medium: _extends({}, fontSizing(0)),\n          large: _extends({}, fontSizing(0)),\n          xlarge: _extends({}, fontSizing(0))\n        },\n        5: {\n          font: {// family: undefined,\n            // weight: undefined,\n          },\n          small: _extends({}, fontSizing(-0.5)),\n          medium: _extends({}, fontSizing(-0.5)),\n          large: _extends({}, fontSizing(-0.5)),\n          xlarge: _extends({}, fontSizing(-0.5))\n        },\n        6: {\n          font: {// family: undefined,\n            // weight: undefined,\n          },\n          small: _extends({}, fontSizing(-1)),\n          medium: _extends({}, fontSizing(-1)),\n          large: _extends({}, fontSizing(-1)),\n          xlarge: _extends({}, fontSizing(-1))\n        }\n      },\n      responsiveBreakpoint: 'small',\n      // when we scale the font size down\n      weight: 600\n    },\n    layer: {\n      background: 'white',\n      border: {\n        radius: '4px'\n      },\n      container: {\n        zIndex: '15'\n      },\n      // extend: undefined,\n      overlay: {\n        background: 'rgba(0, 0, 0, 0.5)'\n      },\n      responsiveBreakpoint: 'small',\n      // when Layer takes over the full screen\n      zIndex: '10'\n    },\n    list: {\n      item: {\n        // background: undefined,\n        border: 'horizontal',\n        pad: {\n          horizontal: 'medium',\n          vertical: 'small'\n        } // extend: undefined,\n\n      } // extend: undefined,\n\n    },\n    maskedInput: {// extend: undefined,\n      // disabled: { opacity: undefined },\n    },\n    menu: {\n      // background: undefined,\n      // extend: undefined,\n      icons: {\n        down: _FormDown.FormDown // up: undefined,\n        // color: { dark: undefined, light: undefined },\n\n      }\n    },\n    meter: {\n      color: 'graph-0' // colors: [] || colors: ['graph-0', 'graph-1', 'graph-2', 'graph-3'],\n      // extend: undefined,\n\n    },\n    paragraph: {\n      small: _extends({}, fontSizing(-1)),\n      medium: _extends({}, fontSizing(0)),\n      large: _extends({}, fontSizing(1)),\n      xlarge: _extends({}, fontSizing(2)),\n      xxlarge: _extends({}, fontSizing(4))\n    },\n    radioButton: {\n      border: {\n        color: {\n          dark: 'rgba(255, 255, 255, 0.5)',\n          light: 'rgba(0, 0, 0, 0.15)'\n        },\n        width: '2px'\n      },\n      check: {\n        radius: '100%' // background: {\n        //  color: undefined,\n        // },\n        // color: { dark: undefined, light: undefined },\n        // extend: undefined,\n\n      },\n      // color: undefined,\n      hover: {\n        // background: {\n        //   color: undefined,\n        // },\n        border: {\n          color: {\n            dark: 'white',\n            light: 'black'\n          }\n        }\n      },\n      icon: {// size: undefined,\n        // extend: undefined,\n      },\n      icons: {// circle: undefined,\n      },\n      gap: 'small',\n      size: baseSpacing + \"px\",\n      font: {// weight: undefined,\n      }\n    },\n    radioButtonGroup: {// container: {}, // any box props\n    },\n    rangeInput: {\n      // extend: undefined\n      track: {\n        height: '4px',\n        color: 'border' // opacity: undefined,\n        // lower: {\n        //   color: 'undefined',\n        //   opacity: undefined,\n        // },\n        // upper: {\n        //   color: undefined,\n        //   opacity: undefined,\n        // },\n        // extend: undefined\n\n      },\n      thumb: {// color: { dark: undefined, light: undefined },\n        // extend: undefined\n      }\n    },\n    rangeSelector: {\n      background: {\n        invert: {\n          color: 'light-4'\n        }\n      } // edge: {\n      //   type: undefined,\n      // },\n\n    },\n    select: {\n      // background: undefined,\n      container: {// extend: undefined,\n      },\n      control: {// extend: undefined,\n        // open: undefined,\n      },\n      icons: {\n        // color: { dark: undefined, light: undefined },\n        margin: {\n          horizontal: 'small'\n        },\n        down: _FormDown.FormDown // up: undefined\n\n      },\n      options: {\n        container: {\n          align: 'start',\n          pad: 'small'\n        },\n        text: {\n          margin: 'none'\n        }\n      },\n      // searchInput: undefined,\n      step: 20\n    },\n    skipLinks: {\n      position: 'top',\n      container: {\n        elevation: 'large',\n        round: 'small',\n        pad: 'medium'\n      },\n      label: {\n        margin: {\n          bottom: 'medium'\n        },\n        size: 'medium'\n      }\n    },\n    tab: {\n      active: {\n        color: 'text' // background: undefined,\n\n      },\n      // background: undefined,\n      border: {\n        side: 'bottom',\n        size: 'small',\n        color: {\n          dark: 'accent-1',\n          light: 'brand'\n        },\n        active: {\n          color: {\n            dark: 'white',\n            light: 'black'\n          }\n        },\n        disabled: {// color: undefined,\n        },\n        hover: {\n          color: {\n            dark: 'white',\n            light: 'black'\n          } // extend: undefined,\n\n        }\n      },\n      color: 'control',\n      // disabled: {\n      //   color: undefined,\n      // },\n      // extend: undefined,\n      hover: {\n        // background: undefined,\n        // extend: undefined,\n        color: {\n          dark: 'white',\n          light: 'black'\n        }\n      },\n      margin: {\n        vertical: 'xxsmall',\n        horizontal: 'small'\n      },\n      pad: {\n        bottom: 'xsmall'\n      }\n    },\n    tabs: {\n      // background: undefined,\n      // extend: undefined,\n      // gap: undefined,\n      header: {// background: undefined,\n        // border: {\n        //   side: undefined,\n        //   size: undefined,\n        //   style: undefined,\n        //   color: undefined,\n        // },\n        // extend: undefined,\n      },\n      panel: {// extend: undefined,\n      }\n    },\n    table: {\n      header: {\n        align: 'start',\n        pad: {\n          horizontal: 'small',\n          vertical: 'xsmall'\n        },\n        border: 'bottom' // verticalAlign: undefined,\n        // background: undefined,\n        // extend: undefined,\n\n      },\n      body: {\n        align: 'start',\n        pad: {\n          horizontal: 'small',\n          vertical: 'xsmall'\n        } // background: undefined,\n        // border: undefined,\n        // extend: undefined,\n\n      },\n      // row: {\n      //   hover: {\n      //     background: undefined,\n      //     color: undefined,\n      //   },\n      // },\n      footer: {\n        align: 'start',\n        pad: {\n          horizontal: 'small',\n          vertical: 'xsmall'\n        },\n        border: 'top' // verticalAlign: undefined,\n        // background: undefined,\n        // extend: undefined,\n\n      }\n    },\n    text: {\n      xsmall: _extends({}, fontSizing(-1.5)),\n      small: _extends({}, fontSizing(-1)),\n      medium: _extends({}, fontSizing(0)),\n      // 18px\n      large: _extends({}, fontSizing(1)),\n      // 22px\n      xlarge: _extends({}, fontSizing(2)),\n      xxlarge: _extends({}, fontSizing(4))\n    },\n    textArea: {// extend: undefined,\n      // disabled: { opacity: undefined },\n    },\n    textInput: {// extend: undefined,\n      // disabled: { opacity: undefined },\n    },\n    video: {\n      captions: {\n        background: 'rgba(0, 0, 0, 0.7)'\n      },\n      // controls: { background: undefined },\n      icons: {\n        closedCaption: _ClosedCaption.ClosedCaption,\n        configure: _Actions.Actions,\n        fullScreen: _Expand.Expand,\n        pause: _Pause.Pause,\n        play: _Play.Play,\n        reduceVolume: _VolumeLow.VolumeLow,\n        volume: _Volume.Volume // color: { dark: undefined, light: undefined },\n\n      },\n      // scrubber: { track: { color: undefined } },\n      scrubber: {\n        color: 'light-4'\n      }\n    },\n    worldMap: {\n      color: 'light-3',\n      continent: {\n        active: '8px',\n        base: '6px'\n      },\n      hover: {\n        color: 'light-4'\n      },\n      place: {\n        active: '20px',\n        base: '8px'\n      }\n    }\n  });\n  return (0, _object.deepFreeze)(result);\n};\n\nexports.generate = generate;\nvar base = generate(24);\nexports.base = base;","\"use strict\";\n\nexports.__esModule = true;\nexports.removeUndefined = exports.deepMerge = exports.deepFreeze = exports.isObject = void 0;\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar isObject = function isObject(item) {\n  return item && typeof item === 'object' && !Array.isArray(item);\n};\n\nexports.isObject = isObject;\n\nvar deepFreeze = function deepFreeze(obj) {\n  Object.keys(obj).forEach(function (key) {\n    return key && isObject(obj[key]) && Object.freeze(obj[key]);\n  });\n  return Object.freeze(obj);\n};\n\nexports.deepFreeze = deepFreeze;\n\nvar deepMerge = function deepMerge(target) {\n  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    sources[_key - 1] = arguments[_key];\n  }\n\n  if (!sources.length) {\n    return target;\n  } // making sure to not change target (immutable)\n\n\n  var output = _extends({}, target);\n\n  sources.forEach(function (source) {\n    if (isObject(source)) {\n      Object.keys(source).forEach(function (key) {\n        if (isObject(source[key])) {\n          if (!output[key]) {\n            output[key] = _extends({}, source[key]);\n          } else {\n            output[key] = deepMerge(output[key], source[key]);\n          }\n        } else {\n          output[key] = source[key];\n        }\n      });\n    }\n  });\n  return output;\n};\n\nexports.deepMerge = deepMerge;\n\nvar removeUndefined = function removeUndefined(obj) {\n  var result = {};\n  Object.keys(obj).forEach(function (key) {\n    if (obj[key] !== undefined) {\n      result[key] = obj[key];\n    }\n  });\n  return result;\n};\n\nexports.removeUndefined = removeUndefined;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n}; // array function should not be used here so that we can the local this\n\n\nvar addPropTypeDocumentationField = function addPropTypeDocumentationField(fieldName) {\n  return function addFieldToReactDesc(value) {\n    if (!this.reactDesc) {\n      this.reactDesc = {};\n    }\n\n    this.reactDesc[fieldName] = value;\n    return this;\n  };\n};\n\nvar documentedPropType = {\n  defaultValue: addPropTypeDocumentationField('defaultValue'),\n  description: addPropTypeDocumentationField('description'),\n  deprecated: addPropTypeDocumentationField('deprecated'),\n  format: addPropTypeDocumentationField('format')\n};\n\nvar createPropType = function createPropType(type) {\n  var propTypeObj = _extends({\n    type: type\n  }, documentedPropType);\n\n  Object.defineProperty(propTypeObj, 'isRequired', {\n    get: function getRequired() {\n      if (!this.reactDesc) {\n        this.reactDesc = {};\n      }\n\n      this.reactDesc.required = true;\n      return this;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return propTypeObj;\n};\n\nvar createPropTypeWithArgs = function createPropTypeWithArgs(type) {\n  return function (args) {\n    var propTypeObj = _extends({\n      args: args,\n      type: type\n    }, documentedPropType);\n\n    Object.defineProperty(propTypeObj, 'isRequired', {\n      get: function getRequired() {\n        if (!this.reactDesc) {\n          this.reactDesc = {};\n        }\n\n        this.reactDesc.required = true;\n        return this;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    return propTypeObj;\n  };\n};\n\nvar PropTypes = {\n  custom: function custom(callback) {\n    var target = callback.bind(null);\n    target.type = 'func';\n    Object.keys(documentedPropType).forEach(function (fieldName) {\n      target[fieldName] = documentedPropType[fieldName];\n    });\n    return target;\n  }\n};\n\nfunction definePropType(type) {\n  Object.defineProperty(PropTypes, type, {\n    get: function getPropType() {\n      return createPropType(type);\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\nfunction definePropTypeWithArgs(type) {\n  Object.defineProperty(PropTypes, type, {\n    get: function getPropType() {\n      return createPropTypeWithArgs(type);\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\ndefinePropType('any');\ndefinePropType('array');\ndefinePropType('bool');\ndefinePropType('element');\ndefinePropType('func');\ndefinePropType('node');\ndefinePropType('number');\ndefinePropType('object');\ndefinePropType('symbol');\ndefinePropType('string');\ndefinePropTypeWithArgs('arrayOf');\ndefinePropTypeWithArgs('instanceOf');\ndefinePropTypeWithArgs('objectOf');\ndefinePropTypeWithArgs('oneOfType');\ndefinePropTypeWithArgs('oneOf');\ndefinePropTypeWithArgs('shape');\nexports.default = PropTypes;","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { getBodyChildElements, makeNodeFocusable, makeNodeUnfocusable } from '../utils';\n\nvar isNotAncestorOf = function isNotAncestorOf(child) {\n  return function (parent) {\n    return !parent.contains(child);\n  };\n};\n\nexport var FocusedContainer = function FocusedContainer(_ref) {\n  var _ref$hidden = _ref.hidden,\n      hidden = _ref$hidden === void 0 ? false : _ref$hidden,\n      _ref$restrictScroll = _ref.restrictScroll,\n      restrictScroll = _ref$restrictScroll === void 0 ? false : _ref$restrictScroll,\n      children = _ref.children,\n      trapFocus = _ref.trapFocus,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"hidden\", \"restrictScroll\", \"children\", \"trapFocus\"]);\n\n  var _useState = useState(''),\n      bodyOverflowStyle = _useState[0],\n      setBodyOverflowStyle = _useState[1];\n\n  var ref = useRef(null);\n  useEffect(function () {\n    var removeTrap = function removeTrap() {\n      var child = ref.current;\n      getBodyChildElements().filter(isNotAncestorOf(child)).forEach(makeNodeFocusable);\n\n      if (restrictScroll) {\n        document.body.style.overflow = bodyOverflowStyle;\n      }\n    };\n\n    var handleTrapFocus = function handleTrapFocus() {\n      var child = ref.current;\n      getBodyChildElements().filter(isNotAncestorOf(child)).forEach(makeNodeUnfocusable);\n\n      if (restrictScroll && bodyOverflowStyle !== 'hidden') {\n        setBodyOverflowStyle(document.body.style.overflow);\n        document.body.style.overflow = 'hidden';\n      }\n    };\n\n    var timer = setTimeout(function () {\n      if (!hidden && trapFocus) {\n        handleTrapFocus();\n      }\n    }, 0);\n    return function () {\n      removeTrap();\n      clearTimeout(timer);\n    };\n  }, [hidden, bodyOverflowStyle, restrictScroll, trapFocus]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    \"aria-hidden\": hidden\n  }, rest), children);\n};","import React from 'react';\nexport var PortalContext = /*#__PURE__*/React.createContext(undefined);","import styled, { keyframes } from 'styled-components';\nimport { baseStyle } from '../../utils';\nimport { backgroundStyle } from '../../utils/background';\nimport { defaultProps } from '../../default-props';\n\nfunction getTransformOriginStyle(align) {\n  var vertical = 'top';\n\n  if (align.bottom) {\n    vertical = 'bottom';\n  }\n\n  var horizontal = 'left';\n\n  if (align.right) {\n    horizontal = 'right';\n  }\n\n  return vertical + \" \" + horizontal;\n}\n\nvar dropKeyFrames = keyframes([\"0%{opacity:0.5;transform:scale(0.8);}100%{opacity:1;transform:scale(1);}\"]);\nvar StyledDrop = styled.div.withConfig({\n  displayName: \"StyledDrop\",\n  componentId: \"sc-16s5rx8-0\"\n})([\"\", \" border-radius:\", \";position:fixed;z-index:\", \";outline:none;\", \" opacity:0;transform-origin:\", \";animation:\", \" 0.1s forwards;animation-delay:0.01s;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){display:flex;align-items:stretch;}\", \"\"], baseStyle, function (props) {\n  return props.theme.global.drop.border.radius;\n}, function (props) {\n  return props.theme.global.drop.zIndex;\n}, function (props) {\n  return !props.plain && backgroundStyle(props.theme.global.drop.background, props.theme);\n}, function (props) {\n  return getTransformOriginStyle(props.alignProp);\n}, dropKeyFrames, function (props) {\n  return props.theme.global.drop && props.theme.global.drop.extend;\n});\nStyledDrop.defaultProps = {};\nObject.setPrototypeOf(StyledDrop.defaultProps, defaultProps);\nexport { StyledDrop };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useContext, useEffect, useMemo, useRef } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { FocusedContainer } from '../FocusedContainer';\nimport { backgroundIsDark, findScrollParents, findVisibleParent, parseMetricToNum } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Keyboard } from '../Keyboard';\nimport { PortalContext } from './PortalContext';\nimport { StyledDrop } from './StyledDrop'; // using react synthetic event to be able to stop propagation that\n// would otherwise close the layer on ESC.\n\nvar preventLayerClose = function preventLayerClose(event) {\n  var key = event.keyCode ? event.keyCode : event.which;\n\n  if (key === 27) {\n    event.stopPropagation();\n  }\n};\n\nvar defaultAlign = {\n  top: 'top',\n  left: 'left'\n};\nvar defaultPortalContext = [];\nvar DropContainer = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$align = _ref.align,\n      align = _ref$align === void 0 ? defaultAlign : _ref$align,\n      children = _ref.children,\n      dropTarget = _ref.dropTarget,\n      elevation = _ref.elevation,\n      onClickOutside = _ref.onClickOutside,\n      onEsc = _ref.onEsc,\n      onKeyDown = _ref.onKeyDown,\n      _ref$overflow = _ref.overflow,\n      overflow = _ref$overflow === void 0 ? 'auto' : _ref$overflow,\n      plain = _ref.plain,\n      responsive = _ref.responsive,\n      restrictFocus = _ref.restrictFocus,\n      _ref$stretch = _ref.stretch,\n      stretch = _ref$stretch === void 0 ? 'width' : _ref$stretch,\n      trapFocus = _ref.trapFocus,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"align\", \"children\", \"dropTarget\", \"elevation\", \"onClickOutside\", \"onEsc\", \"onKeyDown\", \"overflow\", \"plain\", \"responsive\", \"restrictFocus\", \"stretch\", \"trapFocus\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var portalContext = useContext(PortalContext) || defaultPortalContext;\n  var portalId = useMemo(function () {\n    return portalContext.length;\n  }, [portalContext]);\n  var nextPortalContext = useMemo(function () {\n    return [].concat(portalContext, [portalId]);\n  }, [portalContext, portalId]);\n  var dropRef = useRef();\n  useEffect(function () {\n    // We try to preserve the maxHeight as changing it causes any scroll\n    // position to be lost. We set the maxHeight on mount and if the window\n    // is resized.\n    var place = function place(preserveHeight) {\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var target = dropTarget;\n      var container = (ref || dropRef).current;\n\n      if (container && target) {\n        // clear prior styling\n        container.style.left = '';\n        container.style.top = '';\n        container.style.bottom = '';\n        container.style.width = '';\n\n        if (!preserveHeight) {\n          container.style.maxHeight = '';\n        } // get bounds\n\n\n        var targetRect = findVisibleParent(target).getBoundingClientRect();\n        var containerRect = container.getBoundingClientRect(); // determine width\n\n        var width = Math.min(stretch ? Math.max(targetRect.width, containerRect.width) : containerRect.width, windowWidth); // set left position\n\n        var left;\n\n        if (align.left) {\n          if (align.left === 'left') {\n            left = targetRect.left;\n          } else if (align.left === 'right') {\n            left = targetRect.left + targetRect.width;\n          }\n        } else if (align.right) {\n          if (align.right === 'left') {\n            left = targetRect.left - width;\n          } else if (align.right === 'right') {\n            left = targetRect.left + targetRect.width - width;\n          }\n        } else {\n          left = targetRect.left + targetRect.width / 2 - width / 2;\n        }\n\n        if (left + width > windowWidth) {\n          left -= left + width - windowWidth;\n        } else if (left < 0) {\n          left = 0;\n        } // set top or bottom position\n\n\n        var top;\n        var bottom;\n        var maxHeight = containerRect.height;\n\n        if (align.top) {\n          if (align.top === 'top') {\n            top = targetRect.top;\n          } else {\n            top = targetRect.bottom;\n          } // Calculate visible area underneath the control w.r.t window height\n\n\n          var percentVisibleAreaBelow = 100 - targetRect.bottom / windowHeight * 100; // Check whether it is within 20% from bottom of the window or\n          // visible area to flip the control\n          // DropContainer doesn't fit well within visible area when\n          // percentVisibleAreaBelow value<=20%\n          // There is enough space from DropContainer to bottom of the window\n          // when percentVisibleAreaBelow>20%.\n\n          if (windowHeight === top || percentVisibleAreaBelow <= 20) {\n            // We need more room than we have.\n            // We put it below, but there's more room above, put it above\n            top = '';\n\n            if (align.top === 'bottom') {\n              bottom = targetRect.top;\n            } else {\n              bottom = targetRect.bottom;\n            }\n\n            maxHeight = bottom;\n            container.style.maxHeight = maxHeight + \"px\";\n          } else if (top > 0) {\n            maxHeight = windowHeight - top;\n            container.style.maxHeight = maxHeight + \"px\";\n          } else {\n            maxHeight = windowHeight - top;\n          }\n        } else if (align.bottom) {\n          if (align.bottom === 'bottom') {\n            bottom = targetRect.bottom;\n          } else {\n            bottom = targetRect.top;\n          }\n\n          maxHeight = bottom;\n          container.style.maxHeight = maxHeight + \"px\";\n        } else {\n          // center\n          top = targetRect.top + targetRect.height / 2 - containerRect.height / 2;\n          maxHeight = windowHeight - top;\n        } // if we can't fit it all, or we're rather close,\n        // see if there's more room the other direction\n\n\n        if (responsive && (containerRect.height > maxHeight || maxHeight < windowHeight / 10)) {\n          // We need more room than we have.\n          if (align.top && top > windowHeight / 2) {\n            // We put it below, but there's more room above, put it above\n            top = '';\n\n            if (align.top === 'bottom') {\n              // top = Math.max(targetRect.top - containerRect.height, 0);\n              // maxHeight = targetRect.top - top;\n              bottom = targetRect.top;\n            } else {\n              // top = Math.max(targetRect.bottom - containerRect.height, 0);\n              // maxHeight = targetRect.bottom - top;\n              bottom = targetRect.bottom;\n            }\n\n            maxHeight = bottom;\n          } else if (align.bottom && maxHeight < windowHeight / 2) {\n            // We put it above but there's more room below, put it below\n            bottom = '';\n\n            if (align.bottom === 'bottom') {\n              top = targetRect.top;\n            } else {\n              top = targetRect.bottom;\n            }\n\n            maxHeight = windowHeight - top;\n          }\n        }\n\n        container.style.left = left + \"px\";\n\n        if (stretch) {\n          // offset width by 0.1 to avoid a bug in ie11 that\n          // unnecessarily wraps the text if width is the same\n          // NOTE: turned off for now\n          container.style.width = width + 0.1 + \"px\";\n        } // the (position:absolute + scrollTop)\n        // is presenting issues with desktop scroll flickering\n\n\n        if (top !== '') {\n          container.style.top = top + \"px\";\n        }\n\n        if (bottom !== '') {\n          container.style.bottom = windowHeight - bottom + \"px\";\n        }\n\n        if (!preserveHeight) {\n          if (theme.drop && theme.drop.maxHeight) {\n            maxHeight = Math.min(maxHeight, parseMetricToNum(theme.drop.maxHeight));\n          }\n\n          container.style.maxHeight = maxHeight + \"px\";\n        }\n      }\n    };\n\n    var scrollParents;\n\n    var addScrollListeners = function addScrollListeners() {\n      scrollParents = findScrollParents(dropTarget);\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.addEventListener('scroll', place);\n      });\n    };\n\n    var removeScrollListeners = function removeScrollListeners() {\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.removeEventListener('scroll', place);\n      });\n      scrollParents = [];\n    };\n\n    var onClickDocument = function onClickDocument(event) {\n      // determine which portal id the target is in, if any\n      var clickedPortalId = null;\n      var node = event.target;\n\n      while (clickedPortalId === null && node !== document) {\n        var attr = node.getAttribute('data-g-portal-id');\n        if (attr !== null) clickedPortalId = parseInt(attr, 10);\n        node = node.parentNode;\n      }\n\n      if (clickedPortalId === null || portalContext.indexOf(clickedPortalId) !== -1) {\n        onClickOutside(event);\n      }\n    };\n\n    var onResize = function onResize() {\n      removeScrollListeners();\n      addScrollListeners();\n      place(false);\n    };\n\n    addScrollListeners();\n    window.addEventListener('resize', onResize);\n\n    if (onClickOutside) {\n      document.addEventListener('mousedown', onClickDocument);\n    }\n\n    place(false);\n    return function () {\n      removeScrollListeners();\n      window.removeEventListener('resize', onResize);\n\n      if (onClickOutside) {\n        document.removeEventListener('mousedown', onClickDocument);\n      }\n    };\n  }, [align, dropTarget, onClickOutside, portalContext, portalId, ref, responsive, restrictFocus, stretch, theme.drop]);\n  useEffect(function () {\n    if (restrictFocus) {\n      (ref || dropRef).current.focus();\n    }\n  }, [ref, restrictFocus]);\n  var content = /*#__PURE__*/React.createElement(StyledDrop, _extends({\n    ref: ref || dropRef,\n    as: Box,\n    plain: plain,\n    elevation: !plain ? elevation || theme.global.drop.shadowSize || 'small' : undefined,\n    tabIndex: \"-1\",\n    alignProp: align,\n    overflow: overflow,\n    \"data-g-portal-id\": portalId\n  }, rest), children);\n\n  if (theme.global.drop.background) {\n    var dark = backgroundIsDark(theme.global.drop.background, theme);\n\n    if (dark !== undefined && dark !== theme.dark) {\n      content = /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n        value: _extends({}, theme, {\n          dark: dark\n        })\n      }, content);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: nextPortalContext\n  }, /*#__PURE__*/React.createElement(FocusedContainer, {\n    onKeyDown: onEsc && preventLayerClose,\n    trapFocus: trapFocus\n  }, /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: onEsc ? function (event) {\n      event.stopPropagation();\n      onEsc(event);\n    } : undefined,\n    onKeyDown: onKeyDown,\n    target: \"document\"\n  }, content)));\n});\nexport { DropContainer };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useEffect, useState, useContext } from 'react';\nimport { createPortal } from 'react-dom';\nimport { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { getNewContainer, setFocusWithoutScroll } from '../../utils';\nimport { DropContainer } from './DropContainer';\nimport { ContainerTargetContext } from '../../contexts/ContainerTargetContext';\nvar Drop = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var restrictFocus = _ref.restrictFocus,\n      dropTarget = _ref.target,\n      _ref$trapFocus = _ref.trapFocus,\n      trapFocus = _ref$trapFocus === void 0 ? true : _ref$trapFocus,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"restrictFocus\", \"target\", \"trapFocus\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(),\n      originalFocusedElement = _useState[0],\n      setOriginalFocusedElement = _useState[1];\n\n  useEffect(function () {\n    return setOriginalFocusedElement(document.activeElement);\n  }, []);\n\n  var _useState2 = useState(),\n      dropContainer = _useState2[0],\n      setDropContainer = _useState2[1];\n\n  var containerTarget = useContext(ContainerTargetContext);\n  useEffect(function () {\n    return setDropContainer(getNewContainer(containerTarget));\n  }, [containerTarget]); // just a few things to clean up when the Drop is unmounted\n\n  useEffect(function () {\n    return function () {\n      if (restrictFocus && originalFocusedElement) {\n        if (originalFocusedElement.focus) {\n          setFocusWithoutScroll(originalFocusedElement);\n        } else if (originalFocusedElement.parentNode && originalFocusedElement.parentNode.focus) {\n          // required for IE11 and Edge\n          setFocusWithoutScroll(originalFocusedElement.parentNode);\n        }\n      }\n\n      if (dropContainer) {\n        containerTarget.removeChild(dropContainer);\n      }\n    };\n  }, [containerTarget, dropContainer, originalFocusedElement, restrictFocus]);\n  return dropContainer ? /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(DropContainer, _extends({\n    ref: ref,\n    dir: theme && theme.dir,\n    dropTarget: dropTarget,\n    restrictFocus: restrictFocus,\n    trapFocus: trapFocus\n  }, rest)), dropContainer) : null;\n});\nDrop.displayName = 'Drop';\nvar DropDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  DropDoc = require('./doc').doc(Drop); // eslint-disable-line global-require\n}\n\nvar DropWrapper = DropDoc || Drop;\nexport { DropWrapper as Drop };","\"use strict\";\n\nexports.__esModule = true;\nexports.getRGBA = exports.colorIsDark = exports.normalizeColor = void 0; // Returns the specific color that should be used according to the theme.\n// If 'dark' is supplied, it takes precedence over 'theme.dark'.\n// Can return undefined.\n\nvar normalizeColor = function normalizeColor(color, theme, dark) {\n  var colorSpec = theme.global && theme.global.colors[color] !== undefined ? theme.global.colors[color] : color; // If the color has a light or dark object, use that\n\n  var result = colorSpec;\n\n  if (colorSpec) {\n    if ((dark === true || dark === undefined && theme.dark) && colorSpec.dark !== undefined) {\n      result = colorSpec.dark;\n    } else if ((dark === false || !theme.dark) && colorSpec.light !== undefined) {\n      result = colorSpec.light;\n    }\n  } // allow one level of indirection in color names\n\n\n  if (result && theme.global && theme.global.colors[result] !== undefined) {\n    result = normalizeColor(result, theme, dark);\n  }\n\n  return result;\n};\n\nexports.normalizeColor = normalizeColor;\n\nvar parseHexToRGB = function parseHexToRGB(color) {\n  return color.length < 7 // 7 is what's needed for '#RRGGBB'\n  ? color.match(/[A-Za-z0-9]{1}/g).map(function (v) {\n    return parseInt(\"\" + v + v, 16);\n  }) : // https://stackoverflow.com/a/42429333\n  color.match(/[A-Za-z0-9]{2}/g).map(function (v) {\n    return parseInt(v, 16);\n  });\n}; // From: https://stackoverflow.com/a/9493060/8513067\n// Converts an HSL color value to RGB. Conversion formula\n// adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n// Assumes h, s, and l are contained in the set [0, 1] and\n// returns r, g, and b in the set [0, 255].\n\n\nvar hslToRGB = function hslToRGB(h, s, l) {\n  var r;\n  var g;\n  var b;\n\n  if (s === 0 || s === '0') {\n    // achromatic\n    r = l;\n    g = l;\n    b = l;\n  } else {\n    var hue2rgb = function hue2rgb(p, q, inT) {\n      var t = inT;\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 0.16666667) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 0.66666667) return p + (q - p) * (0.66666667 - t) * 6;\n      return p;\n    };\n\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 0.33333333);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 0.33333333);\n  }\n\n  return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n}; // allow for alpha: #RGB, #RGBA, #RRGGBB, or #RRGGBBAA\n\n\nvar hexExp = /^#[A-Za-z0-9]{3,4}$|^#[A-Za-z0-9]{6,8}$/;\nvar rgbExp = /rgba?\\(\\s?([0-9]*)\\s?,\\s?([0-9]*)\\s?,\\s?([0-9]*)\\s?\\)/;\nvar rgbaExp = /rgba?\\(\\s?([0-9]*)\\s?,\\s?([0-9]*)\\s?,\\s?([0-9]*)\\s?,\\s?([.0-9]*)\\s?\\)/; // e.g. hsl(240, 60%, 50%)\n\nvar hslExp = /hsla?\\(\\s?([0-9]*)\\s?,\\s?([0-9]*)%?\\s?,\\s?([0-9]*)%?\\s?.*?\\)/;\n\nvar canExtractRGBArray = function canExtractRGBArray(color) {\n  return hexExp.test(color) || rgbExp.test(color) || rgbaExp.test(color) || hslExp.test(color);\n};\n\nvar getRGBArray = function getRGBArray(color) {\n  if (hexExp.test(color)) {\n    var _parseHexToRGB = parseHexToRGB(color),\n        red = _parseHexToRGB[0],\n        green = _parseHexToRGB[1],\n        blue = _parseHexToRGB[2],\n        alpha = _parseHexToRGB[3];\n\n    return [red, green, blue, alpha !== undefined ? alpha / 255.0 : undefined];\n  }\n\n  var match = color.match(rgbExp);\n\n  if (match) {\n    return match.splice(1).map(function (v) {\n      return parseInt(v, 10);\n    });\n  }\n\n  match = color.match(rgbaExp);\n\n  if (match) {\n    return match.splice(1).map(function (v) {\n      return parseFloat(v, 10);\n    });\n  }\n\n  match = color.match(hslExp);\n\n  if (match) {\n    var _match$splice$map = match.splice(1).map(function (v) {\n      return parseInt(v, 10);\n    }),\n        h = _match$splice$map[0],\n        s = _match$splice$map[1],\n        l = _match$splice$map[2];\n\n    return hslToRGB(h / 360.0, s / 100.0, l / 100.0);\n  }\n\n  return color;\n};\n\nvar colorIsDark = function colorIsDark(color) {\n  if (color && canExtractRGBArray(color)) {\n    var _getRGBArray = getRGBArray(color),\n        red = _getRGBArray[0],\n        green = _getRGBArray[1],\n        blue = _getRGBArray[2],\n        alpha = _getRGBArray[3]; // if there is an alpha and it's greater than 50%, we can't really tell\n\n\n    if (alpha < 0.5) return undefined;\n    var brightness = (299 * red + 587 * green + 114 * blue) / 1000; // From: http://www.had2know.com/technology/color-contrast-calculator-web-design.html\n    // Above domain is no longer registered.\n\n    return brightness < 125;\n  }\n\n  return undefined;\n};\n\nexports.colorIsDark = colorIsDark;\n\nvar getRGBA = function getRGBA(color, opacity) {\n  if (color && canExtractRGBArray(color)) {\n    var _getRGBArray2 = getRGBArray(color),\n        red = _getRGBArray2[0],\n        green = _getRGBArray2[1],\n        blue = _getRGBArray2[2],\n        alpha = _getRGBArray2[3];\n\n    var normalizedAlpha;\n\n    if (opacity !== undefined) {\n      normalizedAlpha = opacity;\n    } else if (alpha !== undefined) {\n      normalizedAlpha = alpha;\n    } else {\n      normalizedAlpha = 1;\n    }\n\n    return \"rgba(\" + red + \", \" + green + \", \" + blue + \", \" + normalizedAlpha + \")\";\n  }\n\n  return undefined;\n};\n\nexports.getRGBA = getRGBA;","\"use strict\";\n\nexports.__esModule = true;\nexports.grommet = void 0;\n\nvar _styledComponents = require(\"styled-components\");\n\nvar _object = require(\"../utils/object\");\n\nvar grommet = (0, _object.deepFreeze)({\n  global: {\n    colors: {\n      background: {\n        light: '#ffffff',\n        dark: '#000000'\n      }\n    },\n    font: {\n      family: \"-apple-system,\\n         BlinkMacSystemFont, \\n         \\\"Segoe UI\\\", \\n         Roboto, \\n         Oxygen, \\n         Ubuntu, \\n         Cantarell, \\n         \\\"Fira Sans\\\", \\n         \\\"Droid Sans\\\",  \\n         \\\"Helvetica Neue\\\", \\n         Arial, sans-serif,  \\n         \\\"Apple Color Emoji\\\", \\n         \\\"Segoe UI Emoji\\\", \\n         \\\"Segoe UI Symbol\\\"\"\n    }\n  },\n  button: {\n    extend: (0, _styledComponents.css)([\"\", \"\"], function (props) {\n      return !props.plain && 'font-weight: bold;';\n    })\n  }\n});\nexports.grommet = grommet;"],"sourceRoot":""}